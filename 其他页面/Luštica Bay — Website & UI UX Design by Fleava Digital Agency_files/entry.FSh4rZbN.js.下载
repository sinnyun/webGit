/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function b_(e,t){const n=new Set(e.split(","));return t?i=>n.has(i.toLowerCase()):i=>n.has(i)}const wt={},rl=[],Pi=()=>{},sD=()=>!1,mf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),w_=e=>e.startsWith("onUpdate:"),Zt=Object.assign,M_=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},oD=Object.prototype.hasOwnProperty,ot=(e,t)=>oD.call(e,t),ke=Array.isArray,sl=e=>gf(e)==="[object Map]",Jw=e=>gf(e)==="[object Set]",aD=e=>gf(e)==="[object RegExp]",We=e=>typeof e=="function",It=e=>typeof e=="string",Zl=e=>typeof e=="symbol",yt=e=>e!==null&&typeof e=="object",S_=e=>(yt(e)||We(e))&&We(e.then)&&We(e.catch),Kw=Object.prototype.toString,gf=e=>Kw.call(e),lD=e=>gf(e).slice(8,-1),Qw=e=>gf(e)==="[object Object]",E_=e=>It(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Nc=b_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},cD=/-(\w)/g,Dr=vp(e=>e.replace(cD,(t,n)=>n?n.toUpperCase():"")),uD=/\B([A-Z])/g,Jl=vp(e=>e.replace(uD,"-$1").toLowerCase()),xp=vp(e=>e.charAt(0).toUpperCase()+e.slice(1)),Kp=vp(e=>e?`on${xp(e)}`:""),io=(e,t)=>!Object.is(e,t),zc=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},rd=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},fD=e=>{const t=parseFloat(e);return isNaN(t)?e:t},e1=e=>{const t=It(e)?Number(e):NaN;return isNaN(t)?e:t};let e0;const t1=()=>e0||(e0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function T_(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=It(i)?mD(i):T_(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(It(e)||yt(e))return e}const hD=/;(?![^(]*\))/g,dD=/:([^]+)/,pD=/\/\*[^]*?\*\//g;function mD(e){const t={};return e.replace(pD,"").split(hD).forEach(n=>{if(n){const i=n.split(dD);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function D_(e){let t="";if(It(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const i=D_(e[n]);i&&(t+=i+" ")}else if(yt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const gD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yD=b_(gD);function n1(e){return!!e||e===""}const Ls=e=>It(e)?e:e==null?"":ke(e)||yt(e)&&(e.toString===Kw||!We(e.toString))?JSON.stringify(e,i1,2):String(e),i1=(e,t)=>t&&t.__v_isRef?i1(e,t.value):sl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[Qp(i,s)+" =>"]=r,n),{})}:Jw(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Qp(n))}:Zl(t)?Qp(t):yt(t)&&!ke(t)&&!Qw(t)?String(t):t,Qp=(e,t="")=>{var n;return Zl(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ci;class r1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ci,!t&&ci&&(this.index=(ci.scopes||(ci.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ci;try{return ci=this,t()}finally{ci=n}}}on(){ci=this}off(){ci=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function A_(e){return new r1(e)}function _D(e,t=ci){t&&t.active&&t.effects.push(e)}function s1(){return ci}function vD(e){ci&&ci.cleanups.push(e)}let No;class C_{constructor(t,n,i,r){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,_D(this,r)}get dirty(){if(this._dirtyLevel===1){da();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(xD(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),pa()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=$s,n=No;try{return $s=!0,No=this,this._runnings++,t0(this),this.fn()}finally{n0(this),this._runnings--,No=n,$s=t}}stop(){var t;this.active&&(t0(this),n0(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function xD(e){return e.value}function t0(e){e._trackId++,e._depsLength=0}function n0(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)o1(e.deps[t],e);e.deps.length=e._depsLength}}function o1(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let $s=!0,gg=0;const a1=[];function da(){a1.push($s),$s=!1}function pa(){const e=a1.pop();$s=e===void 0?!0:e}function P_(){gg++}function L_(){for(gg--;!gg&&yg.length;)yg.shift()()}function l1(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&o1(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const yg=[];function c1(e,t,n){P_();for(const i of e.keys())if(i._dirtyLevel<t&&e.get(i)===i._trackId){const r=i._dirtyLevel;i._dirtyLevel=t,r===0&&(i._shouldSchedule=!0,i.trigger())}u1(e),L_()}function u1(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,yg.push(t.scheduler))}const f1=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},sd=new WeakMap,zo=Symbol(""),_g=Symbol("");function ii(e,t,n){if($s&&No){let i=sd.get(e);i||sd.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=f1(()=>i.delete(n))),l1(No,r)}}function Jr(e,t,n,i,r,s){const o=sd.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&ke(e)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||!Zl(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":ke(e)?E_(n)&&a.push(o.get("length")):(a.push(o.get(zo)),sl(e)&&a.push(o.get(_g)));break;case"delete":ke(e)||(a.push(o.get(zo)),sl(e)&&a.push(o.get(_g)));break;case"set":sl(e)&&a.push(o.get(zo));break}P_();for(const l of a)l&&c1(l,2);L_()}function bD(e,t){var n;return(n=sd.get(e))==null?void 0:n.get(t)}const wD=b_("__proto__,__v_isRef,__isVue"),h1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Zl)),i0=MD();function MD(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=st(this);for(let s=0,o=this.length;s<o;s++)ii(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(st)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){da(),P_();const i=st(this)[t].apply(this,n);return L_(),pa(),i}}),e}function SD(e){const t=st(this);return ii(t,"has",e),t.hasOwnProperty(e)}class d1{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,i){const r=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?BD:y1:s?g1:m1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=ke(t);if(!r){if(o&&ot(i0,n))return Reflect.get(i0,n,i);if(n==="hasOwnProperty")return SD}const a=Reflect.get(t,n,i);return(Zl(n)?h1.has(n):wD(n))||(r||ii(t,"get",n),s)?a:jt(a)?o&&E_(n)?a:a.value:yt(a)?r?_1(a):Ar(a):a}}class p1 extends d1{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._shallow){const l=Ko(s);if(!od(i)&&!Ko(i)&&(s=st(s),i=st(i)),!ke(t)&&jt(s)&&!jt(i))return l?!1:(s.value=i,!0)}const o=ke(t)&&E_(n)?Number(n)<t.length:ot(t,n),a=Reflect.set(t,n,i,r);return t===st(r)&&(o?io(i,s)&&Jr(t,"set",n,i):Jr(t,"add",n,i)),a}deleteProperty(t,n){const i=ot(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Jr(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Zl(n)||!h1.has(n))&&ii(t,"has",n),i}ownKeys(t){return ii(t,"iterate",ke(t)?"length":zo),Reflect.ownKeys(t)}}class ED extends d1{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const TD=new p1,DD=new ED,AD=new p1(!0),R_=e=>e,bp=e=>Reflect.getPrototypeOf(e);function Pf(e,t,n=!1,i=!1){e=e.__v_raw;const r=st(e),s=st(t);n||(io(t,s)&&ii(r,"get",t),ii(r,"get",s));const{has:o}=bp(r),a=i?R_:n?F_:pu;if(o.call(r,t))return a(e.get(t));if(o.call(r,s))return a(e.get(s));e!==r&&e.get(t)}function Lf(e,t=!1){const n=this.__v_raw,i=st(n),r=st(e);return t||(io(e,r)&&ii(i,"has",e),ii(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Rf(e,t=!1){return e=e.__v_raw,!t&&ii(st(e),"iterate",zo),Reflect.get(e,"size",e)}function r0(e){e=st(e);const t=st(this);return bp(t).has.call(t,e)||(t.add(e),Jr(t,"add",e,e)),this}function s0(e,t){t=st(t);const n=st(this),{has:i,get:r}=bp(n);let s=i.call(n,e);s||(e=st(e),s=i.call(n,e));const o=r.call(n,e);return n.set(e,t),s?io(t,o)&&Jr(n,"set",e,t):Jr(n,"add",e,t),this}function o0(e){const t=st(this),{has:n,get:i}=bp(t);let r=n.call(t,e);r||(e=st(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&Jr(t,"delete",e,void 0),s}function a0(){const e=st(this),t=e.size!==0,n=e.clear();return t&&Jr(e,"clear",void 0,void 0),n}function Of(e,t){return function(i,r){const s=this,o=s.__v_raw,a=st(o),l=t?R_:e?F_:pu;return!e&&ii(a,"iterate",zo),o.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function If(e,t,n){return function(...i){const r=this.__v_raw,s=st(r),o=sl(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...i),u=n?R_:t?F_:pu;return!t&&ii(s,"iterate",l?_g:zo),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function gs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function CD(){const e={get(s){return Pf(this,s)},get size(){return Rf(this)},has:Lf,add:r0,set:s0,delete:o0,clear:a0,forEach:Of(!1,!1)},t={get(s){return Pf(this,s,!1,!0)},get size(){return Rf(this)},has:Lf,add:r0,set:s0,delete:o0,clear:a0,forEach:Of(!1,!0)},n={get(s){return Pf(this,s,!0)},get size(){return Rf(this,!0)},has(s){return Lf.call(this,s,!0)},add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear"),forEach:Of(!0,!1)},i={get(s){return Pf(this,s,!0,!0)},get size(){return Rf(this,!0)},has(s){return Lf.call(this,s,!0)},add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear"),forEach:Of(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=If(s,!1,!1),n[s]=If(s,!0,!1),t[s]=If(s,!1,!0),i[s]=If(s,!0,!0)}),[e,n,t,i]}const[PD,LD,RD,OD]=CD();function O_(e,t){const n=t?e?OD:RD:e?LD:PD;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(ot(n,r)&&r in i?n:i,r,s)}const ID={get:O_(!1,!1)},FD={get:O_(!1,!0)},kD={get:O_(!0,!1)},m1=new WeakMap,g1=new WeakMap,y1=new WeakMap,BD=new WeakMap;function ND(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zD(e){return e.__v_skip||!Object.isExtensible(e)?0:ND(lD(e))}function Ar(e){return Ko(e)?e:I_(e,!1,TD,ID,m1)}function yf(e){return I_(e,!1,AD,FD,g1)}function _1(e){return I_(e,!0,DD,kD,y1)}function I_(e,t,n,i,r){if(!yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=zD(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function Xs(e){return Ko(e)?Xs(e.__v_raw):!!(e&&e.__v_isReactive)}function Ko(e){return!!(e&&e.__v_isReadonly)}function od(e){return!!(e&&e.__v_isShallow)}function v1(e){return Xs(e)||Ko(e)}function st(e){const t=e&&e.__v_raw;return t?st(t):e}function wp(e){return rd(e,"__v_skip",!0),e}const pu=e=>yt(e)?Ar(e):e,F_=e=>yt(e)?_1(e):e;class x1{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new C_(()=>t(this._value),()=>Uh(this,1),()=>this.dep&&u1(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=st(this);return(!t._cacheable||t.effect.dirty)&&io(t._value,t._value=t.effect.run())&&Uh(t,2),b1(t),t.effect._dirtyLevel>=1&&Uh(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function UD(e,t,n=!1){let i,r;const s=We(e);return s?(i=e,r=Pi):(i=e.get,r=e.set),new x1(i,r,s||!r,n)}function b1(e){$s&&No&&(e=st(e),l1(No,e.dep||(e.dep=f1(()=>e.dep=void 0,e instanceof x1?e:void 0))))}function Uh(e,t=2,n){e=st(e);const i=e.dep;i&&c1(i,t)}function jt(e){return!!(e&&e.__v_isRef===!0)}function ri(e){return w1(e,!1)}function mu(e){return w1(e,!0)}function w1(e,t){return jt(e)?e:new HD(e,t)}class HD{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:st(t),this._value=n?t:pu(t)}get value(){return b1(this),this._value}set value(t){const n=this.__v_isShallow||od(t)||Ko(t);t=n?t:st(t),io(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:pu(t),Uh(this,2))}}function ut(e){return jt(e)?e.value:e}const GD={get:(e,t,n)=>ut(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return jt(r)&&!jt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function M1(e){return Xs(e)?e:new Proxy(e,GD)}function VD(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=S1(e,n);return t}class WD{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bD(st(this._object),this._key)}}class jD{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function qD(e,t,n){return jt(e)?e:We(e)?new jD(e):yt(e)&&arguments.length>1?S1(e,t,n):ri(e)}function S1(e,t,n){const i=e[t];return jt(i)?i:new WD(e,t,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ys(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){_f(s,t,n)}return r}function Fi(e,t,n,i){if(We(e)){const s=Ys(e,t,n,i);return s&&S_(s)&&s.catch(o=>{_f(o,t,n)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(Fi(e[s],t,n,i));return r}function _f(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Ys(l,null,10,[e,o,a]);return}}$D(e,n,r,i)}function $D(e,t,n,i=!0){console.error(e)}let gu=!1,vg=!1;const wn=[];let vr=0;const ol=[];let Rs=null,Fo=0;const E1=Promise.resolve();let k_=null;function us(e){const t=k_||E1;return e?t.then(this?e.bind(this):e):t}function XD(e){let t=vr+1,n=wn.length;for(;t<n;){const i=t+n>>>1,r=wn[i],s=yu(r);s<e||s===e&&r.pre?t=i+1:n=i}return t}function B_(e){(!wn.length||!wn.includes(e,gu&&e.allowRecurse?vr+1:vr))&&(e.id==null?wn.push(e):wn.splice(XD(e.id),0,e),T1())}function T1(){!gu&&!vg&&(vg=!0,k_=E1.then(D1))}function YD(e){const t=wn.indexOf(e);t>vr&&wn.splice(t,1)}function xg(e){ke(e)?ol.push(...e):(!Rs||!Rs.includes(e,e.allowRecurse?Fo+1:Fo))&&ol.push(e),T1()}function l0(e,t,n=gu?vr+1:0){for(;n<wn.length;n++){const i=wn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;wn.splice(n,1),n--,i()}}}function ad(e){if(ol.length){const t=[...new Set(ol)].sort((n,i)=>yu(n)-yu(i));if(ol.length=0,Rs){Rs.push(...t);return}for(Rs=t,Fo=0;Fo<Rs.length;Fo++)Rs[Fo]();Rs=null,Fo=0}}const yu=e=>e.id==null?1/0:e.id,ZD=(e,t)=>{const n=yu(e)-yu(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function D1(e){vg=!1,gu=!0,wn.sort(ZD);try{for(vr=0;vr<wn.length;vr++){const t=wn[vr];t&&t.active!==!1&&Ys(t,null,14)}}finally{vr=0,wn.length=0,ad(),gu=!1,k_=null,(wn.length||ol.length)&&D1()}}function JD(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||wt;let r=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=i[u]||wt;d&&(r=n.map(h=>It(h)?h.trim():h)),f&&(r=n.map(fD))}let a,l=i[a=Kp(t)]||i[a=Kp(Dr(t))];!l&&s&&(l=i[a=Kp(Jl(t))]),l&&Fi(l,e,6,r);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Fi(c,e,6,r)}}function A1(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!We(e)){const l=c=>{const u=A1(c,t,!0);u&&(a=!0,Zt(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(yt(e)&&i.set(e,null),null):(ke(s)?s.forEach(l=>o[l]=null):Zt(o,s),yt(e)&&i.set(e,o),o)}function Mp(e,t){return!e||!mf(t)?!1:(t=t.slice(2).replace(/Once$/,""),ot(e,t[0].toLowerCase()+t.slice(1))||ot(e,Jl(t))||ot(e,t))}let hn=null,C1=null;function ld(e){const t=hn;return hn=e,C1=e&&e.type.__scopeId||null,t}function Gt(e,t=hn,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&w0(-1);const s=ld(t);let o;try{o=e(...r)}finally{ld(s),i._d&&w0(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function em(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:h,ctx:p,inheritAttrs:g}=e;let _,m;const y=ld(e);try{if(n.shapeFlag&4){const v=r||i,b=v;_=Di(u.call(b,v,f,s,h,d,p)),m=l}else{const v=t;_=Di(v.length>1?v(s,{attrs:l,slots:a,emit:c}):v(s,null)),m=t.props?l:QD(l)}}catch(v){Gc.length=0,_f(v,e,1),_=tt(Un)}let x=_;if(m&&g!==!1){const v=Object.keys(m),{shapeFlag:b}=x;v.length&&b&7&&(o&&v.some(w_)&&(m=eA(m,o)),x=ts(x,m))}return n.dirs&&(x=ts(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),_=x,ld(y),_}function KD(e,t=!0){let n;for(let i=0;i<e.length;i++){const r=e[i];if(xl(r)){if(r.type!==Un||r.children==="v-if"){if(n)return;n=r}}else return}return n}const QD=e=>{let t;for(const n in e)(n==="class"||n==="style"||mf(n))&&((t||(t={}))[n]=e[n]);return t},eA=(e,t)=>{const n={};for(const i in e)(!w_(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function tA(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?c0(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==i[d]&&!Mp(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?c0(i,o,c):!0:!!o;return!1}function c0(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!Mp(n,s))return!0}return!1}function N_({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const z_="components";function nA(e,t){return L1(z_,e,!0,t)||e}const P1=Symbol.for("v-ndc");function iA(e){return It(e)?L1(z_,e,!1)||e:e||P1}function L1(e,t,n=!0,i=!1){const r=hn||nn;if(r){const s=r.type;if(e===z_){const a=Pg(s,!1);if(a&&(a===t||a===Dr(t)||a===xp(Dr(t))))return s}const o=u0(r[e]||s[e],t)||u0(r.appContext[e],t);return!o&&i?s:o}}function u0(e,t){return e&&(e[t]||e[Dr(t)]||e[xp(Dr(t))])}const R1=e=>e.__isSuspense;let bg=0;const rA={name:"Suspense",__isSuspense:!0,process(e,t,n,i,r,s,o,a,l,c){if(e==null)sA(t,n,i,r,s,o,a,l,c);else{if(s&&s.deps>0){t.suspense=e.suspense;return}oA(e,t,n,i,r,o,a,l,c)}},hydrate:aA,create:H_,normalize:lA},U_=rA;function _u(e,t){const n=e.props&&e.props[t];We(n)&&n()}function sA(e,t,n,i,r,s,o,a,l){const{p:c,o:{createElement:u}}=l,f=u("div"),d=e.suspense=H_(e,r,i,t,f,n,s,o,a,l);c(null,d.pendingBranch=e.ssContent,f,null,i,d,s,o),d.deps>0?(_u(e,"onPending"),_u(e,"onFallback"),c(null,e.ssFallback,t,n,i,null,s,o),al(d,e.ssFallback)):d.resolve(!1,!0)}function oA(e,t,n,i,r,s,o,a,{p:l,um:c,o:{createElement:u}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const d=t.ssContent,h=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:_,isHydrating:m}=f;if(g)f.pendingBranch=d,er(d,g)?(l(g,d,f.hiddenContainer,null,r,f,s,o,a),f.deps<=0?f.resolve():_&&(m||(l(p,h,n,i,r,null,s,o,a),al(f,h)))):(f.pendingId=bg++,m?(f.isHydrating=!1,f.activeBranch=g):c(g,r,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),_?(l(null,d,f.hiddenContainer,null,r,f,s,o,a),f.deps<=0?f.resolve():(l(p,h,n,i,r,null,s,o,a),al(f,h))):p&&er(d,p)?(l(p,d,n,i,r,f,s,o,a),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,r,f,s,o,a),f.deps<=0&&f.resolve()));else if(p&&er(d,p))l(p,d,n,i,r,f,s,o,a),al(f,d);else if(_u(t,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=bg++,l(null,d,f.hiddenContainer,null,r,f,s,o,a),f.deps<=0)f.resolve();else{const{timeout:y,pendingId:x}=f;y>0?setTimeout(()=>{f.pendingId===x&&f.fallback(h)},y):y===0&&f.fallback(h)}}function H_(e,t,n,i,r,s,o,a,l,c,u=!1){const{p:f,m:d,um:h,n:p,o:{parentNode:g,remove:_}}=c;let m;const y=cA(e);y&&t!=null&&t.pendingBranch&&(m=t.pendingId,t.deps++);const x=e.props?e1(e.props.timeout):void 0,v=s,b={vnode:e,parent:t,parentComponent:n,namespace:o,container:i,hiddenContainer:r,deps:0,pendingId:bg++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(M=!1,S=!1){const{vnode:A,activeBranch:E,pendingBranch:L,pendingId:N,effects:R,parentComponent:H,container:U}=b;let z=!1;b.isHydrating?b.isHydrating=!1:M||(z=E&&L.transition&&L.transition.mode==="out-in",z&&(E.transition.afterLeave=()=>{N===b.pendingId&&(d(L,U,s===v?p(E):s,0),xg(R))}),E&&(g(E.el)!==b.hiddenContainer&&(s=p(E)),h(E,H,b,!0)),z||d(L,U,s,0)),al(b,L),b.pendingBranch=null,b.isInFallback=!1;let F=b.parent,V=!1;for(;F;){if(F.pendingBranch){F.effects.push(...R),V=!0;break}F=F.parent}!V&&!z&&xg(R),b.effects=[],y&&t&&t.pendingBranch&&m===t.pendingId&&(t.deps--,t.deps===0&&!S&&t.resolve()),_u(A,"onResolve")},fallback(M){if(!b.pendingBranch)return;const{vnode:S,activeBranch:A,parentComponent:E,container:L,namespace:N}=b;_u(S,"onFallback");const R=p(A),H=()=>{b.isInFallback&&(f(null,M,L,R,E,null,N,a,l),al(b,M))},U=M.transition&&M.transition.mode==="out-in";U&&(A.transition.afterLeave=H),b.isInFallback=!0,h(A,E,null,!0),U||H()},move(M,S,A){b.activeBranch&&d(b.activeBranch,M,S,A),b.container=M},next(){return b.activeBranch&&p(b.activeBranch)},registerDep(M,S){const A=!!b.pendingBranch;A&&b.deps++;const E=M.vnode.el;M.asyncDep.catch(L=>{_f(L,M,0)}).then(L=>{if(M.isUnmounted||b.isUnmounted||b.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:N}=M;Cg(M,L,!1),E&&(N.el=E);const R=!E&&M.subTree.el;S(M,N,g(E||M.subTree.el),E?null:p(M.subTree),b,o,l),R&&_(R),N_(M,N.el),A&&--b.deps===0&&b.resolve()})},unmount(M,S){b.isUnmounted=!0,b.activeBranch&&h(b.activeBranch,n,M,S),b.pendingBranch&&h(b.pendingBranch,n,M,S)}};return b}function aA(e,t,n,i,r,s,o,a,l){const c=t.suspense=H_(t,i,n,e.parentNode,document.createElement("div"),null,r,s,o,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),u}function lA(e){const{shapeFlag:t,children:n}=e,i=t&32;e.ssContent=f0(i?n.default:n),e.ssFallback=i?f0(n.fallback):tt(Un)}function f0(e){let t;if(We(e)){const n=vl&&e._c;n&&(e._d=!1,Jn()),e=e(),n&&(e._d=!0,t=Li,eM())}return ke(e)&&(e=KD(e)),e=Di(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function O1(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):xg(e)}function al(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e;let r=t.el;for(;!r&&t.component;)t=t.component.subTree,r=t.el;n.el=r,i&&i.subTree===n&&(i.vnode.el=r,N_(i,r))}function cA(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}const uA=Symbol.for("v-scx"),fA=()=>pn(uA);function I1(e,t){return G_(e,null,t)}const Ff={};function Kr(e,t,n){return G_(e,t,n)}function G_(e,t,{immediate:n,deep:i,flush:r,once:s,onTrack:o,onTrigger:a}=wt){if(t&&s){const M=t;t=(...S)=>{M(...S),b()}}const l=nn,c=M=>i===!0?M:ja(M,i===!1?1:void 0);let u,f=!1,d=!1;if(jt(e)?(u=()=>e.value,f=od(e)):Xs(e)?(u=()=>c(e),f=!0):ke(e)?(d=!0,f=e.some(M=>Xs(M)||od(M)),u=()=>e.map(M=>{if(jt(M))return M.value;if(Xs(M))return c(M);if(We(M))return Ys(M,l,2)})):We(e)?t?u=()=>Ys(e,l,2):u=()=>(h&&h(),Fi(e,l,3,[p])):u=Pi,t&&i){const M=u;u=()=>ja(M())}let h,p=M=>{h=x.onStop=()=>{Ys(M,l,4),h=x.onStop=void 0}},g;if(Dp)if(p=Pi,t?n&&Fi(t,l,3,[u(),d?[]:void 0,p]):u(),r==="sync"){const M=fA();g=M.__watcherHandles||(M.__watcherHandles=[])}else return Pi;let _=d?new Array(e.length).fill(Ff):Ff;const m=()=>{if(!(!x.active||!x.dirty))if(t){const M=x.run();(i||f||(d?M.some((S,A)=>io(S,_[A])):io(M,_)))&&(h&&h(),Fi(t,l,3,[M,_===Ff?void 0:d&&_[0]===Ff?[]:_,p]),_=M)}else x.run()};m.allowRecurse=!!t;let y;r==="sync"?y=m:r==="post"?y=()=>cn(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),y=()=>B_(m));const x=new C_(u,Pi,y),v=s1(),b=()=>{x.stop(),v&&M_(v.effects,x)};return t?n?m():_=x.run():r==="post"?cn(x.run.bind(x),l&&l.suspense):x.run(),g&&g.push(b),b}function hA(e,t,n){const i=this.proxy,r=It(e)?e.includes(".")?F1(i,e):()=>i[e]:e.bind(i,i);let s;We(t)?s=t:(s=t.handler,n=t);const o=Qo(this),a=G_(r,s.bind(i),n);return o(),a}function F1(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function ja(e,t,n=0,i){if(!yt(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(i=i||new Set,i.has(e))return e;if(i.add(e),jt(e))ja(e.value,t,n,i);else if(ke(e))for(let r=0;r<e.length;r++)ja(e[r],t,n,i);else if(Jw(e)||sl(e))e.forEach(r=>{ja(r,t,n,i)});else if(Qw(e))for(const r in e)ja(e[r],t,n,i);return e}function mr(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(da(),Fi(l,n,8,[e.el,a,e,t]),pa())}}const Os=Symbol("_leaveCb"),kf=Symbol("_enterCb");function dA(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vf(()=>{e.isMounted=!0}),Kl(()=>{e.isUnmounting=!0}),e}const Si=[Function,Array],k1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Si,onEnter:Si,onAfterEnter:Si,onEnterCancelled:Si,onBeforeLeave:Si,onLeave:Si,onAfterLeave:Si,onLeaveCancelled:Si,onBeforeAppear:Si,onAppear:Si,onAfterAppear:Si,onAppearCancelled:Si},pA={name:"BaseTransition",props:k1,setup(e,{slots:t}){const n=ma(),i=dA();let r;return()=>{const s=t.default&&N1(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const g of s)if(g.type!==Un){o=g;break}}const a=st(e),{mode:l}=a;if(i.isLeaving)return tm(o);const c=h0(o);if(!c)return tm(o);const u=wg(c,a,i,n);cd(c,u);const f=n.subTree,d=f&&h0(f);let h=!1;const{getTransitionKey:p}=c.type;if(p){const g=p();r===void 0?r=g:g!==r&&(r=g,h=!0)}if(d&&d.type!==Un&&(!er(c,d)||h)){const g=wg(d,a,i,n);if(cd(d,g),l==="out-in")return i.isLeaving=!0,g.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},tm(o);l==="in-out"&&c.type!==Un&&(g.delayLeave=(_,m,y)=>{const x=B1(i,d);x[String(d.key)]=d,_[Os]=()=>{m(),_[Os]=void 0,delete u.delayedLeave},u.delayedLeave=y})}return o}}},mA=pA;function B1(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function wg(e,t,n,i){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:g,onAppear:_,onAfterAppear:m,onAppearCancelled:y}=t,x=String(e.key),v=B1(n,e),b=(A,E)=>{A&&Fi(A,i,9,E)},M=(A,E)=>{const L=E[1];b(A,E),ke(A)?A.every(N=>N.length<=1)&&L():A.length<=1&&L()},S={mode:s,persisted:o,beforeEnter(A){let E=a;if(!n.isMounted)if(r)E=g||a;else return;A[Os]&&A[Os](!0);const L=v[x];L&&er(e,L)&&L.el[Os]&&L.el[Os](),b(E,[A])},enter(A){let E=l,L=c,N=u;if(!n.isMounted)if(r)E=_||l,L=m||c,N=y||u;else return;let R=!1;const H=A[kf]=U=>{R||(R=!0,U?b(N,[A]):b(L,[A]),S.delayedLeave&&S.delayedLeave(),A[kf]=void 0)};E?M(E,[A,H]):H()},leave(A,E){const L=String(e.key);if(A[kf]&&A[kf](!0),n.isUnmounting)return E();b(f,[A]);let N=!1;const R=A[Os]=H=>{N||(N=!0,E(),H?b(p,[A]):b(h,[A]),A[Os]=void 0,v[L]===e&&delete v[L])};v[L]=e,d?M(d,[A,R]):R()},clone(A){return wg(A,t,n,i)}};return S}function tm(e){if(Sp(e))return e=ts(e),e.children=null,e}function h0(e){return Sp(e)?e.children?e.children[0]:void 0:e}function cd(e,t){e.shapeFlag&6&&e.component?cd(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function N1(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Zn?(o.patchFlag&128&&r++,i=i.concat(N1(o.children,t,a))):(t||o.type!==Un)&&i.push(a!=null?ts(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function ar(e,t){return We(e)?Zt({name:e.name},t,{setup:e}):e}const Uo=e=>!!e.type.__asyncLoader,Sp=e=>e.type.__isKeepAlive,gA={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ma(),i=n.ctx;if(!i.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const r=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=i,d=f("div");i.activate=(y,x,v,b,M)=>{const S=y.component;c(y,x,v,0,a),l(S.vnode,y,x,v,S,a,b,y.slotScopeIds,M),cn(()=>{S.isDeactivated=!1,S.a&&zc(S.a);const A=y.props&&y.props.onVnodeMounted;A&&Xn(A,S.parent,y)},a)},i.deactivate=y=>{const x=y.component;c(y,d,null,1,a),cn(()=>{x.da&&zc(x.da);const v=y.props&&y.props.onVnodeUnmounted;v&&Xn(v,x.parent,y),x.isDeactivated=!0},a)};function h(y){nm(y),u(y,n,a,!0)}function p(y){r.forEach((x,v)=>{const b=Pg(x.type);b&&(!y||!y(b))&&g(v)})}function g(y){const x=r.get(y);!o||!er(x,o)?h(x):o&&nm(o),r.delete(y),s.delete(y)}Kr(()=>[e.include,e.exclude],([y,x])=>{y&&p(v=>Ec(y,v)),x&&p(v=>!Ec(x,v))},{flush:"post",deep:!0});let _=null;const m=()=>{_!=null&&r.set(_,im(n.subTree))};return vf(m),U1(m),Kl(()=>{r.forEach(y=>{const{subTree:x,suspense:v}=n,b=im(x);if(y.type===b.type&&y.key===b.key){nm(b);const M=b.component.da;M&&cn(M,v);return}h(y)})}),()=>{if(_=null,!t.default)return null;const y=t.default(),x=y[0];if(y.length>1)return o=null,y;if(!xl(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let v=im(x);const b=v.type,M=Pg(Uo(v)?v.type.__asyncResolved||{}:b),{include:S,exclude:A,max:E}=e;if(S&&(!M||!Ec(S,M))||A&&M&&Ec(A,M))return o=v,x;const L=v.key==null?b:v.key,N=r.get(L);return v.el&&(v=ts(v),x.shapeFlag&128&&(x.ssContent=v)),_=L,N?(v.el=N.el,v.component=N.component,v.transition&&cd(v,v.transition),v.shapeFlag|=512,s.delete(L),s.add(L)):(s.add(L),E&&s.size>parseInt(E,10)&&g(s.values().next().value)),v.shapeFlag|=256,o=v,R1(x.type)?x:v}}},yA=gA;function Ec(e,t){return ke(e)?e.some(n=>Ec(n,t)):It(e)?e.split(",").includes(t):aD(e)?e.test(t):!1}function V_(e,t){z1(e,"a",t)}function W_(e,t){z1(e,"da",t)}function z1(e,t,n=nn){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ep(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Sp(r.parent.vnode)&&_A(i,t,n,r),r=r.parent}}function _A(e,t,n,i){const r=Ep(t,e,i,!0);j_(()=>{M_(i[t],r)},n)}function nm(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function im(e){return e.shapeFlag&128?e.ssContent:e}function Ep(e,t,n=nn,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;da();const a=Qo(n),l=Fi(t,n,e,o);return a(),pa(),l});return i?r.unshift(s):r.push(s),s}}const fs=e=>(t,n=nn)=>(!Dp||e==="sp")&&Ep(e,(...i)=>t(...i),n),vA=fs("bm"),vf=fs("m"),xA=fs("bu"),U1=fs("u"),Kl=fs("bum"),j_=fs("um"),bA=fs("sp"),wA=fs("rtg"),MA=fs("rtc");function H1(e,t=nn){Ep("ec",e,t)}function Y4(e,t,n,i){let r;const s=n&&n[i];if(ke(e)||It(e)){r=new Array(e.length);for(let o=0,a=e.length;o<a;o++)r[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(yt(e))if(e[Symbol.iterator])r=Array.from(e,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(e);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=t(e[c],c,a,s&&s[a])}}else r=[];return n&&(n[i]=r),r}function d0(e,t,n={},i,r){if(hn.isCE||hn.parent&&Uo(hn.parent)&&hn.parent.isCE)return t!=="default"&&(n.name=t),tt("slot",n,i&&i());let s=e[t];s&&s._c&&(s._d=!1),Jn();const o=s&&G1(s(n)),a=$r(Zn,{key:n.key||o&&o.key||`_${t}`},o||(i?i():[]),o&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function G1(e){return e.some(t=>xl(t)?!(t.type===Un||t.type===Zn&&!G1(t.children)):!0)?e:null}const Mg=e=>e?rM(e)?Z_(e)||e.proxy:Mg(e.parent):null,Uc=Zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Mg(e.parent),$root:e=>Mg(e.root),$emit:e=>e.emit,$options:e=>q_(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,B_(e.update)}),$nextTick:e=>e.n||(e.n=us.bind(e.proxy)),$watch:e=>hA.bind(e)}),rm=(e,t)=>e!==wt&&!e.__isScriptSetup&&ot(e,t),SA={get({_:e},t){const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(rm(i,t))return o[t]=1,i[t];if(r!==wt&&ot(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&ot(c,t))return o[t]=3,s[t];if(n!==wt&&ot(n,t))return o[t]=4,n[t];Sg&&(o[t]=0)}}const u=Uc[t];let f,d;if(u)return t==="$attrs"&&ii(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==wt&&ot(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,ot(d,t))return d[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return rm(r,t)?(r[t]=n,!0):i!==wt&&ot(i,t)?(i[t]=n,!0):ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==wt&&ot(e,o)||rm(t,o)||(a=s[0])&&ot(a,o)||ot(i,o)||ot(Uc,o)||ot(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ot(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function p0(e){return ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Z4(e){const t=ma();let n=e();return Ag(),S_(n)&&(n=n.catch(i=>{throw Qo(t),i})),[n,()=>Qo(t)]}let Sg=!0;function EA(e){const t=q_(e),n=e.proxy,i=e.ctx;Sg=!1,t.beforeCreate&&m0(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:g,deactivated:_,beforeDestroy:m,beforeUnmount:y,destroyed:x,unmounted:v,render:b,renderTracked:M,renderTriggered:S,errorCaptured:A,serverPrefetch:E,expose:L,inheritAttrs:N,components:R,directives:H,filters:U}=t;if(c&&TA(c,i,null),o)for(const V in o){const $=o[V];We($)&&(i[V]=$.bind(n))}if(r){const V=r.call(n,n);yt(V)&&(e.data=Ar(V))}if(Sg=!0,s)for(const V in s){const $=s[V],q=We($)?$.bind(n,n):We($.get)?$.get.bind(n,n):Pi,D=!We($)&&We($.set)?$.set.bind(n):Pi,I=fn({get:q,set:D});Object.defineProperty(i,V,{enumerable:!0,configurable:!0,get:()=>I.value,set:le=>I.value=le})}if(a)for(const V in a)V1(a[V],i,n,V);if(l){const V=We(l)?l.call(n):l;Reflect.ownKeys(V).forEach($=>{Ho($,V[$])})}u&&m0(u,e,"c");function F(V,$){ke($)?$.forEach(q=>V(q.bind(n))):$&&V($.bind(n))}if(F(vA,f),F(vf,d),F(xA,h),F(U1,p),F(V_,g),F(W_,_),F(H1,A),F(MA,M),F(wA,S),F(Kl,y),F(j_,v),F(bA,E),ke(L))if(L.length){const V=e.exposed||(e.exposed={});L.forEach($=>{Object.defineProperty(V,$,{get:()=>n[$],set:q=>n[$]=q})})}else e.exposed||(e.exposed={});b&&e.render===Pi&&(e.render=b),N!=null&&(e.inheritAttrs=N),R&&(e.components=R),H&&(e.directives=H)}function TA(e,t,n=Pi){ke(e)&&(e=Eg(e));for(const i in e){const r=e[i];let s;yt(r)?"default"in r?s=pn(r.from||i,r.default,!0):s=pn(r.from||i):s=pn(r),jt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function m0(e,t,n){Fi(ke(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function V1(e,t,n,i){const r=i.includes(".")?F1(n,i):()=>n[i];if(It(e)){const s=t[e];We(s)&&Kr(r,s)}else if(We(e))Kr(r,e.bind(n));else if(yt(e))if(ke(e))e.forEach(s=>V1(s,t,n,i));else{const s=We(e.handler)?e.handler.bind(n):t[e.handler];We(s)&&Kr(r,s,e)}}function q_(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(c=>ud(l,c,o,!0)),ud(l,t,o)),yt(t)&&s.set(t,l),l}function ud(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&ud(e,s,n,!0),r&&r.forEach(o=>ud(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=DA[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const DA={data:g0,props:y0,emits:y0,methods:Tc,computed:Tc,beforeCreate:Ln,created:Ln,beforeMount:Ln,mounted:Ln,beforeUpdate:Ln,updated:Ln,beforeDestroy:Ln,beforeUnmount:Ln,destroyed:Ln,unmounted:Ln,activated:Ln,deactivated:Ln,errorCaptured:Ln,serverPrefetch:Ln,components:Tc,directives:Tc,watch:CA,provide:g0,inject:AA};function g0(e,t){return t?e?function(){return Zt(We(e)?e.call(this,this):e,We(t)?t.call(this,this):t)}:t:e}function AA(e,t){return Tc(Eg(e),Eg(t))}function Eg(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ln(e,t){return e?[...new Set([].concat(e,t))]:t}function Tc(e,t){return e?Zt(Object.create(null),e,t):t}function y0(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:Zt(Object.create(null),p0(e),p0(t??{})):t}function CA(e,t){if(!e)return t;if(!t)return e;const n=Zt(Object.create(null),e);for(const i in t)n[i]=Ln(e[i],t[i]);return n}function W1(){return{app:null,config:{isNativeTag:sD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let PA=0;function LA(e,t){return function(i,r=null){We(i)||(i=Zt({},i)),r!=null&&!yt(r)&&(r=null);const s=W1(),o=new WeakSet;let a=!1;const l=s.app={_uid:PA++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:oM,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&We(c.install)?(o.add(c),c.install(l,...u)):We(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,f){if(!a){const d=tt(i,r);return d.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(d,c):e(d,c,f),a=!0,l._container=c,c.__vue_app__=l,Z_(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){vu=l;try{return c()}finally{vu=null}}};return l}}let vu=null;function Ho(e,t){if(nn){let n=nn.provides;const i=nn.parent&&nn.parent.provides;i===n&&(n=nn.provides=Object.create(i)),n[e]=t}}function pn(e,t,n=!1){const i=nn||hn;if(i||vu){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:vu._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&We(t)?t.call(i&&i.proxy):t}}function $_(){return!!(nn||hn||vu)}function RA(e,t,n,i=!1){const r={},s={};rd(s,Tp,1),e.propsDefaults=Object.create(null),j1(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:yf(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function OA(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=st(r),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Mp(e.emitsOptions,d))continue;const h=t[d];if(l)if(ot(s,d))h!==s[d]&&(s[d]=h,c=!0);else{const p=Dr(d);r[p]=Tg(l,a,p,h,e,!1)}else h!==s[d]&&(s[d]=h,c=!0)}}}else{j1(e,t,r,s)&&(c=!0);let u;for(const f in a)(!t||!ot(t,f)&&((u=Jl(f))===f||!ot(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Tg(l,a,f,void 0,e,!0)):delete r[f]);if(s!==a)for(const f in s)(!t||!ot(t,f))&&(delete s[f],c=!0)}c&&Jr(e,"set","$attrs")}function j1(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Nc(l))continue;const c=t[l];let u;r&&ot(r,u=Dr(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Mp(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=st(n),c=a||wt;for(let u=0;u<s.length;u++){const f=s[u];n[f]=Tg(r,l,f,c[f],e,!ot(c,f))}}return o}function Tg(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=ot(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&We(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const u=Qo(r);i=c[n]=l.call(null,t),u()}}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Jl(n))&&(i=!0))}return i}function q1(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let l=!1;if(!We(e)){const u=f=>{l=!0;const[d,h]=q1(f,t,!0);Zt(o,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return yt(e)&&i.set(e,rl),rl;if(ke(s))for(let u=0;u<s.length;u++){const f=Dr(s[u]);_0(f)&&(o[f]=wt)}else if(s)for(const u in s){const f=Dr(u);if(_0(f)){const d=s[u],h=o[f]=ke(d)||We(d)?{type:d}:Zt({},d);if(h){const p=b0(Boolean,h.type),g=b0(String,h.type);h[0]=p>-1,h[1]=g<0||p<g,(p>-1||ot(h,"default"))&&a.push(f)}}}const c=[o,a];return yt(e)&&i.set(e,c),c}function _0(e){return e[0]!=="$"}function v0(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function x0(e,t){return v0(e)===v0(t)}function b0(e,t){return ke(t)?t.findIndex(n=>x0(n,e)):We(t)&&x0(t,e)?0:-1}const $1=e=>e[0]==="_"||e==="$stable",X_=e=>ke(e)?e.map(Di):[Di(e)],IA=(e,t,n)=>{if(t._n)return t;const i=Gt((...r)=>X_(t(...r)),n);return i._c=!1,i},X1=(e,t,n)=>{const i=e._ctx;for(const r in e){if($1(r))continue;const s=e[r];if(We(s))t[r]=IA(r,s,i);else if(s!=null){const o=X_(s);t[r]=()=>o}}},Y1=(e,t)=>{const n=X_(t);e.slots.default=()=>n},FA=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=st(t),rd(t,"_",n)):X1(t,e.slots={})}else e.slots={},t&&Y1(e,t);rd(e.slots,Tp,1)},kA=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=wt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:(Zt(r,t),!n&&a===1&&delete r._):(s=!t.$stable,X1(t,r)),o=t}else t&&(Y1(e,t),o={default:1});if(s)for(const a in r)!$1(a)&&o[a]==null&&delete r[a]};function fd(e,t,n,i,r=!1){if(ke(e)){e.forEach((d,h)=>fd(d,t&&(ke(t)?t[h]:t),n,i,r));return}if(Uo(i)&&!r)return;const s=i.shapeFlag&4?Z_(i.component)||i.component.proxy:i.el,o=r?null:s,{i:a,r:l}=e,c=t&&t.r,u=a.refs===wt?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(It(c)?(u[c]=null,ot(f,c)&&(f[c]=null)):jt(c)&&(c.value=null)),We(l))Ys(l,a,12,[o,u]);else{const d=It(l),h=jt(l),p=e.f;if(d||h){const g=()=>{if(p){const _=d?ot(f,l)?f[l]:u[l]:l.value;r?ke(_)&&M_(_,s):ke(_)?_.includes(s)||_.push(s):d?(u[l]=[s],ot(f,l)&&(f[l]=u[l])):(l.value=[s],e.k&&(u[e.k]=l.value))}else d?(u[l]=o,ot(f,l)&&(f[l]=o)):h&&(l.value=o,e.k&&(u[e.k]=o))};r||p?g():(g.id=-1,cn(g,n))}}}let ys=!1;const BA=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",NA=e=>e.namespaceURI.includes("MathML"),Bf=e=>{if(BA(e))return"svg";if(NA(e))return"mathml"},Nf=e=>e.nodeType===8;function zA(e){const{mt:t,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=e,u=(x,v)=>{if(!v.hasChildNodes()){n(null,x,v),ad(),v._vnode=x;return}ys=!1,f(v.firstChild,x,null,null,null),ad(),v._vnode=x,ys&&console.error("Hydration completed but contains mismatches.")},f=(x,v,b,M,S,A=!1)=>{const E=Nf(x)&&x.data==="[",L=()=>g(x,v,b,M,S,E),{type:N,ref:R,shapeFlag:H,patchFlag:U}=v;let z=x.nodeType;v.el=x,U===-2&&(A=!1,v.dynamicChildren=null);let F=null;switch(N){case _l:z!==3?v.children===""?(l(v.el=r(""),o(x),x),F=x):F=L():(x.data!==v.children&&(ys=!0,x.data=v.children),F=s(x));break;case Un:y(x)?(F=s(x),m(v.el=x.content.firstChild,x,b)):z!==8||E?F=L():F=s(x);break;case Hc:if(E&&(x=s(x),z=x.nodeType),z===1||z===3){F=x;const V=!v.children.length;for(let $=0;$<v.staticCount;$++)V&&(v.children+=F.nodeType===1?F.outerHTML:F.data),$===v.staticCount-1&&(v.anchor=F),F=s(F);return E?s(F):F}else L();break;case Zn:E?F=p(x,v,b,M,S,A):F=L();break;default:if(H&1)(z!==1||v.type.toLowerCase()!==x.tagName.toLowerCase())&&!y(x)?F=L():F=d(x,v,b,M,S,A);else if(H&6){v.slotScopeIds=S;const V=o(x);if(E?F=_(x):Nf(x)&&x.data==="teleport start"?F=_(x,x.data,"teleport end"):F=s(x),t(v,V,null,b,M,Bf(V),A),Uo(v)){let $;E?($=tt(Zn),$.anchor=F?F.previousSibling:V.lastChild):$=x.nodeType===3?ht(""):tt("div"),$.el=x,v.component.subTree=$}}else H&64?z!==8?F=L():F=v.type.hydrate(x,v,b,M,S,A,e,h):H&128&&(F=v.type.hydrate(x,v,b,M,Bf(o(x)),S,A,e,f))}return R!=null&&fd(R,null,M,v),F},d=(x,v,b,M,S,A)=>{A=A||!!v.dynamicChildren;const{type:E,props:L,patchFlag:N,shapeFlag:R,dirs:H,transition:U}=v,z=E==="input"||E==="option";if(z||N!==-1){H&&mr(v,null,b,"created");let F=!1;if(y(x)){F=J1(M,U)&&b&&b.vnode.props&&b.vnode.props.appear;const $=x.content.firstChild;F&&U.beforeEnter($),m($,x,b),v.el=x=$}if(R&16&&!(L&&(L.innerHTML||L.textContent))){let $=h(x.firstChild,v,x,b,M,S,A);for(;$;){ys=!0;const q=$;$=$.nextSibling,a(q)}}else R&8&&x.textContent!==v.children&&(ys=!0,x.textContent=v.children);if(L)if(z||!A||N&48)for(const $ in L)(z&&($.endsWith("value")||$==="indeterminate")||mf($)&&!Nc($)||$[0]===".")&&i(x,$,null,L[$],void 0,void 0,b);else L.onClick&&i(x,"onClick",null,L.onClick,void 0,void 0,b);let V;(V=L&&L.onVnodeBeforeMount)&&Xn(V,b,v),H&&mr(v,null,b,"beforeMount"),((V=L&&L.onVnodeMounted)||H||F)&&O1(()=>{V&&Xn(V,b,v),F&&U.enter(x),H&&mr(v,null,b,"mounted")},M)}return x.nextSibling},h=(x,v,b,M,S,A,E)=>{E=E||!!v.dynamicChildren;const L=v.children,N=L.length;for(let R=0;R<N;R++){const H=E?L[R]:L[R]=Di(L[R]);if(x)x=f(x,H,M,S,A,E);else{if(H.type===_l&&!H.children)continue;ys=!0,n(null,H,b,null,M,S,Bf(b),A)}}return x},p=(x,v,b,M,S,A)=>{const{slotScopeIds:E}=v;E&&(S=S?S.concat(E):E);const L=o(x),N=h(s(x),v,L,b,M,S,A);return N&&Nf(N)&&N.data==="]"?s(v.anchor=N):(ys=!0,l(v.anchor=c("]"),L,N),N)},g=(x,v,b,M,S,A)=>{if(ys=!0,v.el=null,A){const N=_(x);for(;;){const R=s(x);if(R&&R!==N)a(R);else break}}const E=s(x),L=o(x);return a(x),n(null,v,L,E,b,M,Bf(L),S),E},_=(x,v="[",b="]")=>{let M=0;for(;x;)if(x=s(x),x&&Nf(x)&&(x.data===v&&M++,x.data===b)){if(M===0)return s(x);M--}return x},m=(x,v,b)=>{const M=v.parentNode;M&&M.replaceChild(x,v);let S=b;for(;S;)S.vnode.el===v&&(S.vnode.el=S.subTree.el=x),S=S.parent},y=x=>x.nodeType===1&&x.tagName.toLowerCase()==="template";return[u,f]}const cn=O1;function UA(e){return Z1(e)}function HA(e){return Z1(e,zA)}function Z1(e,t){const n=t1();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=Pi,insertStaticContent:p}=e,g=(T,P,G,Z=null,w=null,C=null,J=void 0,j=null,k=!!P.dynamicChildren)=>{if(T===P)return;T&&!er(T,P)&&(Z=W(T),le(T,w,C,!0),T=null),P.patchFlag===-2&&(k=!1,P.dynamicChildren=null);const{type:X,ref:re,shapeFlag:fe}=P;switch(X){case _l:_(T,P,G,Z);break;case Un:m(T,P,G,Z);break;case Hc:T==null&&y(P,G,Z,J);break;case Zn:R(T,P,G,Z,w,C,J,j,k);break;default:fe&1?b(T,P,G,Z,w,C,J,j,k):fe&6?H(T,P,G,Z,w,C,J,j,k):(fe&64||fe&128)&&X.process(T,P,G,Z,w,C,J,j,k,oe)}re!=null&&w&&fd(re,T&&T.ref,C,P||T,!P)},_=(T,P,G,Z)=>{if(T==null)i(P.el=a(P.children),G,Z);else{const w=P.el=T.el;P.children!==T.children&&c(w,P.children)}},m=(T,P,G,Z)=>{T==null?i(P.el=l(P.children||""),G,Z):P.el=T.el},y=(T,P,G,Z)=>{[T.el,T.anchor]=p(T.children,P,G,Z,T.el,T.anchor)},x=({el:T,anchor:P},G,Z)=>{let w;for(;T&&T!==P;)w=d(T),i(T,G,Z),T=w;i(P,G,Z)},v=({el:T,anchor:P})=>{let G;for(;T&&T!==P;)G=d(T),r(T),T=G;r(P)},b=(T,P,G,Z,w,C,J,j,k)=>{P.type==="svg"?J="svg":P.type==="math"&&(J="mathml"),T==null?M(P,G,Z,w,C,J,j,k):E(T,P,w,C,J,j,k)},M=(T,P,G,Z,w,C,J,j)=>{let k,X;const{props:re,shapeFlag:fe,transition:ne,dirs:ce}=T;if(k=T.el=o(T.type,C,re&&re.is,re),fe&8?u(k,T.children):fe&16&&A(T.children,k,null,Z,w,sm(T,C),J,j),ce&&mr(T,null,Z,"created"),S(k,T,T.scopeId,J,Z),re){for(const xe in re)xe!=="value"&&!Nc(xe)&&s(k,xe,null,re[xe],C,T.children,Z,w,K);"value"in re&&s(k,"value",null,re.value,C),(X=re.onVnodeBeforeMount)&&Xn(X,Z,T)}ce&&mr(T,null,Z,"beforeMount");const _e=J1(w,ne);_e&&ne.beforeEnter(k),i(k,P,G),((X=re&&re.onVnodeMounted)||_e||ce)&&cn(()=>{X&&Xn(X,Z,T),_e&&ne.enter(k),ce&&mr(T,null,Z,"mounted")},w)},S=(T,P,G,Z,w)=>{if(G&&h(T,G),Z)for(let C=0;C<Z.length;C++)h(T,Z[C]);if(w){let C=w.subTree;if(P===C){const J=w.vnode;S(T,J,J.scopeId,J.slotScopeIds,w.parent)}}},A=(T,P,G,Z,w,C,J,j,k=0)=>{for(let X=k;X<T.length;X++){const re=T[X]=j?Is(T[X]):Di(T[X]);g(null,re,P,G,Z,w,C,J,j)}},E=(T,P,G,Z,w,C,J)=>{const j=P.el=T.el;let{patchFlag:k,dynamicChildren:X,dirs:re}=P;k|=T.patchFlag&16;const fe=T.props||wt,ne=P.props||wt;let ce;if(G&&go(G,!1),(ce=ne.onVnodeBeforeUpdate)&&Xn(ce,G,P,T),re&&mr(P,T,G,"beforeUpdate"),G&&go(G,!0),X?L(T.dynamicChildren,X,j,G,Z,sm(P,w),C):J||$(T,P,j,null,G,Z,sm(P,w),C,!1),k>0){if(k&16)N(j,P,fe,ne,G,Z,w);else if(k&2&&fe.class!==ne.class&&s(j,"class",null,ne.class,w),k&4&&s(j,"style",fe.style,ne.style,w),k&8){const _e=P.dynamicProps;for(let xe=0;xe<_e.length;xe++){const ve=_e[xe],we=fe[ve],$e=ne[ve];($e!==we||ve==="value")&&s(j,ve,we,$e,w,T.children,G,Z,K)}}k&1&&T.children!==P.children&&u(j,P.children)}else!J&&X==null&&N(j,P,fe,ne,G,Z,w);((ce=ne.onVnodeUpdated)||re)&&cn(()=>{ce&&Xn(ce,G,P,T),re&&mr(P,T,G,"updated")},Z)},L=(T,P,G,Z,w,C,J)=>{for(let j=0;j<P.length;j++){const k=T[j],X=P[j],re=k.el&&(k.type===Zn||!er(k,X)||k.shapeFlag&70)?f(k.el):G;g(k,X,re,null,Z,w,C,J,!0)}},N=(T,P,G,Z,w,C,J)=>{if(G!==Z){if(G!==wt)for(const j in G)!Nc(j)&&!(j in Z)&&s(T,j,G[j],null,J,P.children,w,C,K);for(const j in Z){if(Nc(j))continue;const k=Z[j],X=G[j];k!==X&&j!=="value"&&s(T,j,X,k,J,P.children,w,C,K)}"value"in Z&&s(T,"value",G.value,Z.value,J)}},R=(T,P,G,Z,w,C,J,j,k)=>{const X=P.el=T?T.el:a(""),re=P.anchor=T?T.anchor:a("");let{patchFlag:fe,dynamicChildren:ne,slotScopeIds:ce}=P;ce&&(j=j?j.concat(ce):ce),T==null?(i(X,G,Z),i(re,G,Z),A(P.children||[],G,re,w,C,J,j,k)):fe>0&&fe&64&&ne&&T.dynamicChildren?(L(T.dynamicChildren,ne,G,w,C,J,j),(P.key!=null||w&&P===w.subTree)&&K1(T,P,!0)):$(T,P,G,re,w,C,J,j,k)},H=(T,P,G,Z,w,C,J,j,k)=>{P.slotScopeIds=j,T==null?P.shapeFlag&512?w.ctx.activate(P,G,Z,J,k):U(P,G,Z,w,C,J,k):z(T,P,k)},U=(T,P,G,Z,w,C,J)=>{const j=T.component=YA(T,Z,w);if(Sp(T)&&(j.ctx.renderer=oe),ZA(j),j.asyncDep){if(w&&w.registerDep(j,F),!T.el){const k=j.subTree=tt(Un);m(null,k,P,G)}}else F(j,T,P,G,w,C,J)},z=(T,P,G)=>{const Z=P.component=T.component;if(tA(T,P,G))if(Z.asyncDep&&!Z.asyncResolved){V(Z,P,G);return}else Z.next=P,YD(Z.update),Z.effect.dirty=!0,Z.update();else P.el=T.el,Z.vnode=P},F=(T,P,G,Z,w,C,J)=>{const j=()=>{if(T.isMounted){let{next:re,bu:fe,u:ne,parent:ce,vnode:_e}=T;{const Ge=Q1(T);if(Ge){re&&(re.el=_e.el,V(T,re,J)),Ge.asyncDep.then(()=>{T.isUnmounted||j()});return}}let xe=re,ve;go(T,!1),re?(re.el=_e.el,V(T,re,J)):re=_e,fe&&zc(fe),(ve=re.props&&re.props.onVnodeBeforeUpdate)&&Xn(ve,ce,re,_e),go(T,!0);const we=em(T),$e=T.subTree;T.subTree=we,g($e,we,f($e.el),W($e),T,w,C),re.el=we.el,xe===null&&N_(T,we.el),ne&&cn(ne,w),(ve=re.props&&re.props.onVnodeUpdated)&&cn(()=>Xn(ve,ce,re,_e),w)}else{let re;const{el:fe,props:ne}=P,{bm:ce,m:_e,parent:xe}=T,ve=Uo(P);if(go(T,!1),ce&&zc(ce),!ve&&(re=ne&&ne.onVnodeBeforeMount)&&Xn(re,xe,P),go(T,!0),fe&&se){const we=()=>{T.subTree=em(T),se(fe,T.subTree,T,w,null)};ve?P.type.__asyncLoader().then(()=>!T.isUnmounted&&we()):we()}else{const we=T.subTree=em(T);g(null,we,G,Z,T,w,C),P.el=we.el}if(_e&&cn(_e,w),!ve&&(re=ne&&ne.onVnodeMounted)){const we=P;cn(()=>Xn(re,xe,we),w)}(P.shapeFlag&256||xe&&Uo(xe.vnode)&&xe.vnode.shapeFlag&256)&&T.a&&cn(T.a,w),T.isMounted=!0,P=G=Z=null}},k=T.effect=new C_(j,Pi,()=>B_(X),T.scope),X=T.update=()=>{k.dirty&&k.run()};X.id=T.uid,go(T,!0),X()},V=(T,P,G)=>{P.component=T;const Z=T.vnode.props;T.vnode=P,T.next=null,OA(T,P.props,Z,G),kA(T,P.children,G),da(),l0(T),pa()},$=(T,P,G,Z,w,C,J,j,k=!1)=>{const X=T&&T.children,re=T?T.shapeFlag:0,fe=P.children,{patchFlag:ne,shapeFlag:ce}=P;if(ne>0){if(ne&128){D(X,fe,G,Z,w,C,J,j,k);return}else if(ne&256){q(X,fe,G,Z,w,C,J,j,k);return}}ce&8?(re&16&&K(X,w,C),fe!==X&&u(G,fe)):re&16?ce&16?D(X,fe,G,Z,w,C,J,j,k):K(X,w,C,!0):(re&8&&u(G,""),ce&16&&A(fe,G,Z,w,C,J,j,k))},q=(T,P,G,Z,w,C,J,j,k)=>{T=T||rl,P=P||rl;const X=T.length,re=P.length,fe=Math.min(X,re);let ne;for(ne=0;ne<fe;ne++){const ce=P[ne]=k?Is(P[ne]):Di(P[ne]);g(T[ne],ce,G,null,w,C,J,j,k)}X>re?K(T,w,C,!0,!1,fe):A(P,G,Z,w,C,J,j,k,fe)},D=(T,P,G,Z,w,C,J,j,k)=>{let X=0;const re=P.length;let fe=T.length-1,ne=re-1;for(;X<=fe&&X<=ne;){const ce=T[X],_e=P[X]=k?Is(P[X]):Di(P[X]);if(er(ce,_e))g(ce,_e,G,null,w,C,J,j,k);else break;X++}for(;X<=fe&&X<=ne;){const ce=T[fe],_e=P[ne]=k?Is(P[ne]):Di(P[ne]);if(er(ce,_e))g(ce,_e,G,null,w,C,J,j,k);else break;fe--,ne--}if(X>fe){if(X<=ne){const ce=ne+1,_e=ce<re?P[ce].el:Z;for(;X<=ne;)g(null,P[X]=k?Is(P[X]):Di(P[X]),G,_e,w,C,J,j,k),X++}}else if(X>ne)for(;X<=fe;)le(T[X],w,C,!0),X++;else{const ce=X,_e=X,xe=new Map;for(X=_e;X<=ne;X++){const bt=P[X]=k?Is(P[X]):Di(P[X]);bt.key!=null&&xe.set(bt.key,X)}let ve,we=0;const $e=ne-_e+1;let Ge=!1,Wi=0;const an=new Array($e);for(X=0;X<$e;X++)an[X]=0;for(X=ce;X<=fe;X++){const bt=T[X];if(we>=$e){le(bt,w,C,!0);continue}let Ft;if(bt.key!=null)Ft=xe.get(bt.key);else for(ve=_e;ve<=ne;ve++)if(an[ve-_e]===0&&er(bt,P[ve])){Ft=ve;break}Ft===void 0?le(bt,w,C,!0):(an[Ft-_e]=X+1,Ft>=Wi?Wi=Ft:Ge=!0,g(bt,P[Ft],G,null,w,C,J,j,k),we++)}const ji=Ge?GA(an):rl;for(ve=ji.length-1,X=$e-1;X>=0;X--){const bt=_e+X,Ft=P[bt],mn=bt+1<re?P[bt+1].el:Z;an[X]===0?g(null,Ft,G,mn,w,C,J,j,k):Ge&&(ve<0||X!==ji[ve]?I(Ft,G,mn,2):ve--)}}},I=(T,P,G,Z,w=null)=>{const{el:C,type:J,transition:j,children:k,shapeFlag:X}=T;if(X&6){I(T.component.subTree,P,G,Z);return}if(X&128){T.suspense.move(P,G,Z);return}if(X&64){J.move(T,P,G,oe);return}if(J===Zn){i(C,P,G);for(let fe=0;fe<k.length;fe++)I(k[fe],P,G,Z);i(T.anchor,P,G);return}if(J===Hc){x(T,P,G);return}if(Z!==2&&X&1&&j)if(Z===0)j.beforeEnter(C),i(C,P,G),cn(()=>j.enter(C),w);else{const{leave:fe,delayLeave:ne,afterLeave:ce}=j,_e=()=>i(C,P,G),xe=()=>{fe(C,()=>{_e(),ce&&ce()})};ne?ne(C,_e,xe):xe()}else i(C,P,G)},le=(T,P,G,Z=!1,w=!1)=>{const{type:C,props:J,ref:j,children:k,dynamicChildren:X,shapeFlag:re,patchFlag:fe,dirs:ne}=T;if(j!=null&&fd(j,null,G,T,!0),re&256){P.ctx.deactivate(T);return}const ce=re&1&&ne,_e=!Uo(T);let xe;if(_e&&(xe=J&&J.onVnodeBeforeUnmount)&&Xn(xe,P,T),re&6)ue(T.component,G,Z);else{if(re&128){T.suspense.unmount(G,Z);return}ce&&mr(T,null,P,"beforeUnmount"),re&64?T.type.remove(T,P,G,w,oe,Z):X&&(C!==Zn||fe>0&&fe&64)?K(X,P,G,!1,!0):(C===Zn&&fe&384||!w&&re&16)&&K(k,P,G),Z&&de(T)}(_e&&(xe=J&&J.onVnodeUnmounted)||ce)&&cn(()=>{xe&&Xn(xe,P,T),ce&&mr(T,null,P,"unmounted")},G)},de=T=>{const{type:P,el:G,anchor:Z,transition:w}=T;if(P===Zn){ge(G,Z);return}if(P===Hc){v(T);return}const C=()=>{r(G),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(T.shapeFlag&1&&w&&!w.persisted){const{leave:J,delayLeave:j}=w,k=()=>J(G,C);j?j(T.el,C,k):k()}else C()},ge=(T,P)=>{let G;for(;T!==P;)G=d(T),r(T),T=G;r(P)},ue=(T,P,G)=>{const{bum:Z,scope:w,update:C,subTree:J,um:j}=T;Z&&zc(Z),w.stop(),C&&(C.active=!1,le(J,T,P,G)),j&&cn(j,P),cn(()=>{T.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},K=(T,P,G,Z=!1,w=!1,C=0)=>{for(let J=C;J<T.length;J++)le(T[J],P,G,Z,w)},W=T=>T.shapeFlag&6?W(T.component.subTree):T.shapeFlag&128?T.suspense.next():d(T.anchor||T.el);let ee=!1;const ie=(T,P,G)=>{T==null?P._vnode&&le(P._vnode,null,null,!0):g(P._vnode||null,T,P,null,null,null,G),ee||(ee=!0,l0(),ad(),ee=!1),P._vnode=T},oe={p:g,um:le,m:I,r:de,mt:U,mc:A,pc:$,pbc:L,n:W,o:e};let Q,se;return t&&([Q,se]=t(oe)),{render:ie,hydrate:Q,createApp:LA(ie,Q)}}function sm({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function go({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function J1(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function K1(e,t,n=!1){const i=e.children,r=t.children;if(ke(i)&&ke(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Is(r[s]),a.el=o.el),n||K1(o,a)),a.type===_l&&(a.el=o.el)}}function GA(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(r=n[n.length-1],e[r]<c){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<c?s=a+1:o=a;c<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function Q1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Q1(t)}const VA=e=>e.__isTeleport,Zn=Symbol.for("v-fgt"),_l=Symbol.for("v-txt"),Un=Symbol.for("v-cmt"),Hc=Symbol.for("v-stc"),Gc=[];let Li=null;function Jn(e=!1){Gc.push(Li=e?null:[])}function eM(){Gc.pop(),Li=Gc[Gc.length-1]||null}let vl=1;function w0(e){vl+=e}function tM(e){return e.dynamicChildren=vl>0?Li||rl:null,eM(),vl>0&&Li&&Li.push(e),e}function hd(e,t,n,i,r,s){return tM(Te(e,t,n,i,r,s,!0))}function $r(e,t,n,i,r){return tM(tt(e,t,n,i,r,!0))}function xl(e){return e?e.__v_isVNode===!0:!1}function er(e,t){return e.type===t.type&&e.key===t.key}const Tp="__vInternal",nM=({key:e})=>e??null,Hh=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?It(e)||jt(e)||We(e)?{i:hn,r:e,k:t,f:!!n}:e:null);function Te(e,t=null,n=null,i=0,r=null,s=e===Zn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nM(t),ref:t&&Hh(t),scopeId:C1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:hn};return a?(Y_(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=It(n)?8:16),vl>0&&!o&&Li&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Li.push(l),l}const tt=WA;function WA(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===P1)&&(e=Un),xl(e)){const a=ts(e,t,!0);return n&&Y_(a,n),vl>0&&!s&&Li&&(a.shapeFlag&6?Li[Li.indexOf(e)]=a:Li.push(a)),a.patchFlag|=-2,a}if(eC(e)&&(e=e.__vccOpts),t){t=jA(t);let{class:a,style:l}=t;a&&!It(a)&&(t.class=D_(a)),yt(l)&&(v1(l)&&!ke(l)&&(l=Zt({},l)),t.style=T_(l))}const o=It(e)?1:R1(e)?128:VA(e)?64:yt(e)?4:We(e)?2:0;return Te(e,t,n,i,r,o,s,!0)}function jA(e){return e?v1(e)||Tp in e?Zt({},e):e:null}function ts(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:o}=e,a=t?iM(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&nM(a),ref:t&&t.ref?n&&r?ke(r)?r.concat(Hh(t)):[r,Hh(t)]:Hh(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Zn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ts(e.ssContent),ssFallback:e.ssFallback&&ts(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ht(e=" ",t=0){return tt(_l,null,e,t)}function qA(e,t){const n=tt(Hc,null,e);return n.staticCount=t,n}function J4(e="",t=!1){return t?(Jn(),$r(Un,null,e)):tt(Un,null,e)}function Di(e){return e==null||typeof e=="boolean"?tt(Un):ke(e)?tt(Zn,null,e.slice()):typeof e=="object"?Is(e):tt(_l,null,String(e))}function Is(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ts(e)}function Y_(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Y_(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Tp in t)?t._ctx=hn:r===3&&hn&&(hn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else We(t)?(t={default:t,_ctx:hn},n=32):(t=String(t),i&64?(n=16,t=[ht(t)]):n=8);e.children=t,e.shapeFlag|=n}function iM(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=D_([t.class,i.class]));else if(r==="style")t.style=T_([t.style,i.style]);else if(mf(r)){const s=t[r],o=i[r];o&&s!==o&&!(ke(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function Xn(e,t,n,i=null){Fi(e,t,7,[n,i])}const $A=W1();let XA=0;function YA(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||$A,s={uid:XA++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new r1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:q1(i,r),emitsOptions:A1(i,r),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:i.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=JD.bind(null,s),e.ce&&e.ce(s),s}let nn=null;const ma=()=>nn||hn;let dd,Dg;{const e=t1(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};dd=t("__VUE_INSTANCE_SETTERS__",n=>nn=n),Dg=t("__VUE_SSR_SETTERS__",n=>Dp=n)}const Qo=e=>{const t=nn;return dd(e),e.scope.on(),()=>{e.scope.off(),dd(t)}},Ag=()=>{nn&&nn.scope.off(),dd(null)};function rM(e){return e.vnode.shapeFlag&4}let Dp=!1;function ZA(e,t=!1){t&&Dg(t);const{props:n,children:i}=e.vnode,r=rM(e);RA(e,n,r,t),FA(e,i);const s=r?JA(e,t):void 0;return t&&Dg(!1),s}function JA(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=wp(new Proxy(e.ctx,SA));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?QA(e):null,s=Qo(e);da();const o=Ys(i,e,0,[e.props,r]);if(pa(),s(),S_(o)){if(o.then(Ag,Ag),t)return o.then(a=>{Cg(e,a,t)}).catch(a=>{_f(a,e,0)});e.asyncDep=o}else Cg(e,o,t)}else sM(e,t)}function Cg(e,t,n){We(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yt(t)&&(e.setupState=M1(t)),sM(e,n)}let M0;function sM(e,t,n){const i=e.type;if(!e.render){if(!t&&M0&&!i.render){const r=i.template||q_(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Zt(Zt({isCustomElement:s,delimiters:a},o),l);i.render=M0(r,c)}}e.render=i.render||Pi}{const r=Qo(e);da();try{EA(e)}finally{pa(),r()}}}function KA(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ii(e,"get","$attrs"),t[n]}}))}function QA(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return KA(e)},slots:e.slots,emit:e.emit,expose:t}}function Z_(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(M1(wp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Uc)return Uc[n](e)},has(t,n){return n in t||n in Uc}}))}function Pg(e,t=!0){return We(e)?e.displayName||e.name:e.name||t&&e.__name}function eC(e){return We(e)&&"__vccOpts"in e}const fn=(e,t)=>UD(e,t,Dp);function Hn(e,t,n){const i=arguments.length;return i===2?yt(t)&&!ke(t)?xl(t)?tt(e,null,[t]):tt(e,t):tt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&xl(n)&&(n=[n]),tt(e,t,n))}const oM="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const tC="http://www.w3.org/2000/svg",nC="http://www.w3.org/1998/Math/MathML",Fs=typeof document<"u"?document:null,S0=Fs&&Fs.createElement("template"),iC={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?Fs.createElementNS(tC,e):t==="mathml"?Fs.createElementNS(nC,e):Fs.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Fs.createTextNode(e),createComment:e=>Fs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Fs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{S0.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const a=S0.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},_s="transition",lc="animation",xu=Symbol("_vtc"),Ap=(e,{slots:t})=>Hn(mA,rC(e),t);Ap.displayName="Transition";const aM={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ap.props=Zt({},k1,aM);const yo=(e,t=[])=>{ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},E0=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function rC(e){const t={};for(const R in e)R in aM||(t[R]=e[R]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=sC(r),g=p&&p[0],_=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:x,onLeave:v,onLeaveCancelled:b,onBeforeAppear:M=m,onAppear:S=y,onAppearCancelled:A=x}=t,E=(R,H,U)=>{_o(R,H?u:a),_o(R,H?c:o),U&&U()},L=(R,H)=>{R._isLeaving=!1,_o(R,f),_o(R,h),_o(R,d),H&&H()},N=R=>(H,U)=>{const z=R?S:y,F=()=>E(H,R,U);yo(z,[H,F]),T0(()=>{_o(H,R?l:s),vs(H,R?u:a),E0(z)||D0(H,i,g,F)})};return Zt(t,{onBeforeEnter(R){yo(m,[R]),vs(R,s),vs(R,o)},onBeforeAppear(R){yo(M,[R]),vs(R,l),vs(R,c)},onEnter:N(!1),onAppear:N(!0),onLeave(R,H){R._isLeaving=!0;const U=()=>L(R,H);vs(R,f),lC(),vs(R,d),T0(()=>{R._isLeaving&&(_o(R,f),vs(R,h),E0(v)||D0(R,i,_,U))}),yo(v,[R,U])},onEnterCancelled(R){E(R,!1),yo(x,[R])},onAppearCancelled(R){E(R,!0),yo(A,[R])},onLeaveCancelled(R){L(R),yo(b,[R])}})}function sC(e){if(e==null)return null;if(yt(e))return[om(e.enter),om(e.leave)];{const t=om(e);return[t,t]}}function om(e){return e1(e)}function vs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[xu]||(e[xu]=new Set)).add(t)}function _o(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[xu];n&&(n.delete(t),n.size||(e[xu]=void 0))}function T0(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let oC=0;function D0(e,t,n,i){const r=e._endId=++oC,s=()=>{r===e._endId&&i()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=aC(e,t);if(!o)return i();const c=o+"end";let u=0;const f=()=>{e.removeEventListener(c,d),s()},d=h=>{h.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),e.addEventListener(c,d)}function aC(e,t){const n=window.getComputedStyle(e),i=p=>(n[p]||"").split(", "),r=i(`${_s}Delay`),s=i(`${_s}Duration`),o=A0(r,s),a=i(`${lc}Delay`),l=i(`${lc}Duration`),c=A0(a,l);let u=null,f=0,d=0;t===_s?o>0&&(u=_s,f=o,d=s.length):t===lc?c>0&&(u=lc,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?_s:lc:null,d=u?u===_s?s.length:l.length:0);const h=u===_s&&/\b(transform|all)(,|$)/.test(i(`${_s}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function A0(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>C0(n)+C0(e[i])))}function C0(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function lC(){return document.body.offsetHeight}function cC(e,t,n){const i=e[xu];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const uC=Symbol("_vod"),fC=Symbol("");function hC(e,t,n){const i=e.style,r=i.display,s=It(n);if(n&&!s){if(t&&!It(t))for(const o in t)n[o]==null&&Lg(i,o,"");for(const o in n)Lg(i,o,n[o])}else if(s){if(t!==n){const o=i[fC];o&&(n+=";"+o),i.cssText=n}}else t&&e.removeAttribute("style");uC in e&&(i.display=r)}const P0=/\s*!important$/;function Lg(e,t,n){if(ke(n))n.forEach(i=>Lg(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=dC(e,t);P0.test(n)?e.setProperty(Jl(i),n.replace(P0,""),"important"):e[i]=n}}const L0=["Webkit","Moz","ms"],am={};function dC(e,t){const n=am[t];if(n)return n;let i=Dr(t);if(i!=="filter"&&i in e)return am[t]=i;i=xp(i);for(let r=0;r<L0.length;r++){const s=L0[r]+i;if(s in e)return am[t]=s}return t}const R0="http://www.w3.org/1999/xlink";function pC(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(R0,t.slice(6,t.length)):e.setAttributeNS(R0,t,n);else{const s=yD(t);n==null||s&&!n1(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function mC(e,t,n,i,r,s,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,s),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=n1(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function gC(e,t,n,i){e.addEventListener(t,n,i)}function yC(e,t,n,i){e.removeEventListener(t,n,i)}const O0=Symbol("_vei");function _C(e,t,n,i,r=null){const s=e[O0]||(e[O0]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=vC(t);if(i){const c=s[t]=wC(i,r);gC(e,a,c,l)}else o&&(yC(e,a,o,l),s[t]=void 0)}}const I0=/(?:Once|Passive|Capture)$/;function vC(e){let t;if(I0.test(e)){t={};let i;for(;i=e.match(I0);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jl(e.slice(2)),t]}let lm=0;const xC=Promise.resolve(),bC=()=>lm||(xC.then(()=>lm=0),lm=Date.now());function wC(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Fi(MC(i,n.value),t,5,[i])};return n.value=e,n.attached=bC(),n}function MC(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const F0=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,SC=(e,t,n,i,r,s,o,a,l)=>{const c=r==="svg";t==="class"?cC(e,i,c):t==="style"?hC(e,n,i):mf(t)?w_(t)||_C(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):EC(e,t,i,c))?mC(e,t,i,s,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),pC(e,t,i,c))};function EC(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&F0(t)&&We(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return F0(t)&&It(n)?!1:t in e}const lM=Zt({patchProp:SC},iC);let Vc,k0=!1;function TC(){return Vc||(Vc=UA(lM))}function DC(){return Vc=k0?Vc:HA(lM),k0=!0,Vc}const AC=(...e)=>{const t=TC().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=uM(i);if(!r)return;const s=t._component;!We(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,cM(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},CC=(...e)=>{const t=DC().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=uM(i);if(r)return n(r,!0,cM(r))},t};function cM(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function uM(e){return It(e)?document.querySelector(e):e}const fM=/#/g,hM=/&/g,PC=/\//g,LC=/=/g,RC=/\?/g,Cp=/\+/g,OC=/%5e/gi,IC=/%60/gi,FC=/%7c/gi,kC=/%20/gi,BC=/%252f/gi;function dM(e){return encodeURI(""+e).replace(FC,"|")}function Rg(e){return dM(typeof e=="string"?e:JSON.stringify(e)).replace(Cp,"%2B").replace(kC,"+").replace(fM,"%23").replace(hM,"%26").replace(IC,"`").replace(OC,"^")}function cm(e){return Rg(e).replace(LC,"%3D")}function NC(e){return dM(e).replace(fM,"%23").replace(RC,"%3F").replace(BC,"%2F").replace(hM,"%26").replace(Cp,"%2B")}function K4(e){return NC(e).replace(PC,"%2F")}function pd(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function zC(e){return pd(e.replace(Cp," "))}function UC(e){return pd(e.replace(Cp," "))}function pM(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const i=n.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const r=zC(i[1]);if(r==="__proto__"||r==="constructor")continue;const s=UC(i[2]||"");t[r]===void 0?t[r]=s:Array.isArray(t[r])?t[r].push(s):t[r]=[t[r],s]}return t}function HC(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${cm(e)}=${Rg(n)}`).join("&"):`${cm(e)}=${Rg(t)}`:cm(e)}function GC(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>HC(t,e[t])).filter(Boolean).join("&")}const VC=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,WC=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,jC=/^([/\\]\s*){2,}[^/\\]/;function ga(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?VC.test(e):WC.test(e)||(t.acceptRelative?jC.test(e):!1)}const qC=/^[\s\0]*(blob|data|javascript|vbscript):$/i;function $C(e){return!!e&&qC.test(e)}const XC=/\/$|\/\?|\/#/;function Og(e="",t){return t?XC.test(e):e.endsWith("/")}function Pp(e="",t){if(!t)return(Og(e)?e.slice(0,-1):e)||"/";if(!Og(e,!0))return e||"/";let n=e,i="";const r=e.indexOf("#");r>=0&&(n=e.slice(0,r),i=e.slice(r));const[s,...o]=n.split("?");return(s.slice(0,-1)||"/")+(o.length>0?`?${o.join("?")}`:"")+i}function md(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(Og(e,!0))return e||"/";let n=e,i="";const r=e.indexOf("#");if(r>=0&&(n=e.slice(0,r),i=e.slice(r),!n))return i;const[s,...o]=n.split("?");return s+"/"+(o.length>0?`?${o.join("?")}`:"")+i}function YC(e=""){return e.startsWith("/")}function B0(e=""){return YC(e)?e:"/"+e}function ZC(e,t){if(gM(t)||ga(e))return e;const n=Pp(t);return e.startsWith(n)?e:Ql(n,e)}function N0(e,t){if(gM(t))return e;const n=Pp(t);if(!e.startsWith(n))return e;const i=e.slice(n.length);return i[0]==="/"?i:"/"+i}function mM(e,t){const n=xf(e),i={...pM(n.search),...t};return n.search=GC(i),eP(n)}function gM(e){return!e||e==="/"}function JC(e){return e&&e!=="/"}const KC=/^\.?\//;function Ql(e,...t){let n=e||"";for(const i of t.filter(r=>JC(r)))if(n){const r=i.replace(KC,"");n=md(n)+r}else n=i;return n}function QC(e,t,n={}){return n.trailingSlash||(e=md(e),t=md(t)),n.leadingSlash||(e=B0(e),t=B0(t)),n.encoding||(e=pd(e),t=pd(t)),e===t}function xf(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,f,d=""]=n;return{protocol:f.toLowerCase(),pathname:d,href:f+d,auth:"",host:"",search:"",hash:""}}if(!ga(e,{acceptRelative:!0}))return t?xf(t+e):z0(e);const[,i="",r,s=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[],{pathname:l,search:c,hash:u}=z0(a.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:i.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:o,pathname:l,search:c,hash:u}}function z0(e=""){const[t="",n="",i=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:i}}function eP(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",i=e.hash||"",r=e.auth?e.auth+"@":"",s=e.host||"";return(e.protocol?e.protocol+"//":"")+r+s+t+n+i}const tP=()=>{var e;return((e=window==null?void 0:window.__NUXT__)==null?void 0:e.config)||{}},gd=tP().app,nP=()=>gd.baseURL,iP=()=>gd.buildAssetsDir,J_=(...e)=>Ql(yM(),iP(),...e),yM=(...e)=>{const t=gd.cdnURL||gd.baseURL;return e.length?Ql(t,...e):t};globalThis.__buildAssetsURL=J_,globalThis.__publicAssetsURL=yM;const rP=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,sP=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,oP=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function aP(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){lP(e);return}return t}function lP(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function yd(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.at(-1)==='"'&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!oP.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(rP.test(e)||sP.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,aP)}return JSON.parse(e)}catch(i){if(t.strict)throw i;return e}}class cP extends Error{constructor(t,n){super(t,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function uP(e){var l,c,u,f,d;const t=((l=e.error)==null?void 0:l.message)||((c=e.error)==null?void 0:c.toString())||"",n=((u=e.request)==null?void 0:u.method)||((f=e.options)==null?void 0:f.method)||"GET",i=((d=e.request)==null?void 0:d.url)||String(e.request)||"/",r=`[${n}] ${JSON.stringify(i)}`,s=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=`${r}: ${s}${t?` ${t}`:""}`,a=new cP(o,e.error?{cause:e.error}:void 0);for(const h of["request","options","response"])Object.defineProperty(a,h,{get(){return e[h]}});for(const[h,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,h,{get(){return e.response&&e.response[p]}});return a}const fP=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function U0(e="GET"){return fP.has(e.toUpperCase())}function hP(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const dP=new Set(["image/svg","application/xml","application/xhtml","application/html"]),pP=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function mP(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return pP.test(t)?"json":dP.has(t)||t.startsWith("text/")?"text":"blob"}function gP(e,t,n=globalThis.Headers){const i={...t,...e};if(t!=null&&t.params&&(e!=null&&e.params)&&(i.params={...t==null?void 0:t.params,...e==null?void 0:e.params}),t!=null&&t.query&&(e!=null&&e.query)&&(i.query={...t==null?void 0:t.query,...e==null?void 0:e.query}),t!=null&&t.headers&&(e!=null&&e.headers)){i.headers=new n((t==null?void 0:t.headers)||{});for(const[r,s]of new n((e==null?void 0:e.headers)||{}))i.headers.set(r,s)}return i}const yP=new Set([408,409,425,429,500,502,503,504]),_P=new Set([101,204,205,304]);function _M(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:i=globalThis.AbortController}=e;async function r(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=U0(a.options.method)?0:1;const f=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(f):yP.has(f))){const d=a.options.retryDelay||0;return d>0&&await new Promise(h=>setTimeout(h,d)),s(a.request,{...a.options,retry:u-1,timeout:a.options.timeout})}}const c=uP(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){var d;const u={request:l,options:gP(c,e.defaults,n),response:void 0,error:void 0};if(u.options.method=(d=u.options.method)==null?void 0:d.toUpperCase(),u.options.onRequest&&await u.options.onRequest(u),typeof u.request=="string"&&(u.options.baseURL&&(u.request=ZC(u.request,u.options.baseURL)),(u.options.query||u.options.params)&&(u.request=mM(u.request,{...u.options.params,...u.options.query}))),u.options.body&&U0(u.options.method)&&(hP(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"))),!u.options.signal&&u.options.timeout){const h=new i;setTimeout(()=>h.abort(),u.options.timeout),u.options.signal=h.signal}try{u.response=await t(u.request,u.options)}catch(h){return u.error=h,u.options.onRequestError&&await u.options.onRequestError(u),await r(u)}if(u.response.body&&!_P.has(u.response.status)&&u.options.method!=="HEAD"){const h=(u.options.parseResponse?"json":u.options.responseType)||mP(u.response.headers.get("content-type")||"");switch(h){case"json":{const p=await u.response.text(),g=u.options.parseResponse||yd;u.response._data=g(p);break}case"stream":{u.response._data=u.response.body;break}default:u.response._data=await u.response[h]()}}return u.options.onResponse&&await u.options.onResponse(u),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await u.options.onResponseError(u),await r(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>t(...a),o.create=(a={})=>_M({...e,defaults:{...e.defaults,...a}}),o}const K_=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),vP=K_.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),xP=K_.Headers,bP=K_.AbortController,wP=_M({fetch:vP,Headers:xP,AbortController:bP}),MP=wP;globalThis.$fetch||(globalThis.$fetch=MP.create({baseURL:nP()}));function Ig(e,t={},n){for(const i in e){const r=e[i],s=n?`${n}:${i}`:i;typeof r=="object"&&r!==null?Ig(r,t,s):typeof r=="function"&&(t[s]=r)}return t}const SP={run:e=>e()},EP=()=>SP,vM=typeof console.createTask<"u"?console.createTask:EP;function TP(e,t){const n=t.shift(),i=vM(n);return e.reduce((r,s)=>r.then(()=>i.run(()=>s(...t))),Promise.resolve())}function DP(e,t){const n=t.shift(),i=vM(n);return Promise.all(e.map(r=>i.run(()=>r(...t))))}function um(e,t){for(const n of[...e])n(t)}class AP{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,i={}){if(!t||typeof n!="function")return()=>{};const r=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!i.allowDeprecated){let o=s.message;o||(o=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let i,r=(...s)=>(typeof i=="function"&&i(),i=void 0,r=void 0,n(...s));return i=this.hook(t,r),i}removeHook(t,n){if(this._hooks[t]){const i=this._hooks[t].indexOf(n);i!==-1&&this._hooks[t].splice(i,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const i=this._hooks[t]||[];delete this._hooks[t];for(const r of i)this.hook(t,r)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Ig(t),i=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of i.splice(0,i.length))r()}}removeHooks(t){const n=Ig(t);for(const i in n)this.removeHook(i,n[i])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(TP,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(DP,t,...n)}callHookWith(t,n,...i){const r=this._before||this._after?{name:n,args:i,context:{}}:void 0;this._before&&um(this._before,r);const s=t(n in this._hooks?[...this._hooks[n]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&r&&um(this._after,r)}):(this._after&&r&&um(this._after,r),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function xM(){return new AP}function CP(e={}){let t,n=!1;const i=o=>{if(t&&t!==o)throw new Error("Context conflict")};let r;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?r=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(r&&t===void 0){const o=r.getStore();if(o!==void 0)return o}return t};return{use:()=>{const o=s();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>s(),set:(o,a)=>{a||i(o),t=o,n=!0},unset:()=>{t=void 0,n=!1},call:(o,a)=>{i(o),t=o;try{return r?r.run(o,a):a()}finally{n||(t=void 0)}},async callAsync(o,a){t=o;const l=()=>{t=o},c=()=>t===o?l:void 0;Fg.add(c);try{const u=r?r.run(o,a):a();return n||(t=void 0),await u}finally{Fg.delete(c)}}}}function PP(e={}){const t={};return{get(n,i={}){return t[n]||(t[n]=CP({...e,...i})),t[n],t[n]}}}const _d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},H0="__unctx__",LP=_d[H0]||(_d[H0]=PP()),RP=(e,t={})=>LP.get(e,t),G0="__unctx_async_handlers__",Fg=_d[G0]||(_d[G0]=new Set);function bu(e){const t=[];for(const r of Fg){const s=r();s&&t.push(s)}const n=()=>{for(const r of t)r()};let i=e();return i&&typeof i=="object"&&"catch"in i&&(i=i.catch(r=>{throw n(),r})),[i,n]}const bM=RP("nuxt-app",{asyncContext:!1}),OP="__nuxt_plugin";function IP(e){let t=0;const n={_scope:A_(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.9.3"},get vue(){return n.vueApp.version}},payload:Ar({data:{},state:{},once:new Set,_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:r=>n._scope.run(()=>BP(n,r)),isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};t++;let r=!1;return()=>{if(!r&&(r=!0,t--,t===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...e};n.hooks=xM(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(r,s)=>{const o="$"+r;zf(n,o,s),zf(n.vueApp.config.globalProperties,o,s)},zf(n.vueApp,"$nuxt",n),zf(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener("nuxt.preloadError",s=>{n.callHook("app:chunkError",{error:s.payload})}),window.useNuxtApp=window.useNuxtApp||xt;const r=n.hook("app:error",(...s)=>{console.error("[nuxt] error caught during app initialization",...s)});n.hook("app:mounted",r)}const i=Ar(n.payload.config);return n.provide("config",i),n}async function FP(e,t){if(t.hooks&&e.hooks.addHooks(t.hooks),typeof t=="function"){const{provide:n}=await e.runWithContext(()=>t(e))||{};if(n&&typeof n=="object")for(const i in n)e.provide(i,n[i])}}async function kP(e,t){const n=[],i=[],r=[],s=[];let o=0;async function a(l){if(l.dependsOn&&!l.dependsOn.every(c=>n.includes(c)))i.push([new Set(l.dependsOn),l]);else{const c=FP(e,l).then(async()=>{l._name&&(n.push(l._name),await Promise.all(i.map(async([u,f])=>{u.has(l._name)&&(u.delete(l._name),u.size===0&&(o++,await a(f)))})))});l.parallel?r.push(c.catch(u=>s.push(u))):await c}}for(const l of t)await a(l);if(await Promise.all(r),o)for(let l=0;l<o;l++)await Promise.all(r);if(s.length)throw s[0]}function Vi(e){if(typeof e=="function")return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[OP]:!0,_name:t})}function BP(e,t,n){const i=()=>n?t(...n):t();return bM.set(e),e.vueApp.runWithContext(i)}function xt(){var t;let e;if($_()&&(e=(t=ma())==null?void 0:t.appContext.app.$nuxt),e=e||bM.tryUse(),!e)throw new Error("[nuxt] instance unavailable");return e}function Lp(){return xt().$config}function zf(e,t,n){Object.defineProperty(e,t,{get:()=>n})}const NP="modulepreload",zP=function(e,t){return e[0]==="."?new URL(e,t).href:e},V0={},UP=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");r=Promise.all(n.map(o=>{if(o=zP(o,i),o in V0)return;V0[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":NP,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Ue=(...e)=>UP(...e).catch(t=>{const n=new Event("nuxt.preloadError");throw n.payload=t,window.dispatchEvent(n),t}),HP=-1,GP=-2,VP=-3,WP=-4,jP=-5,qP=-6;function $P(e,t){return XP(JSON.parse(e),t)}function XP(e,t){if(typeof e=="number")return r(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const n=e,i=Array(n.length);function r(s,o=!1){if(s===HP)return;if(s===VP)return NaN;if(s===WP)return 1/0;if(s===jP)return-1/0;if(s===qP)return-0;if(o)throw new Error("Invalid input");if(s in i)return i[s];const a=n[s];if(!a||typeof a!="object")i[s]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],c=t==null?void 0:t[l];if(c)return i[s]=c(r(a[1]));switch(l){case"Date":i[s]=new Date(a[1]);break;case"Set":const u=new Set;i[s]=u;for(let h=1;h<a.length;h+=1)u.add(r(a[h]));break;case"Map":const f=new Map;i[s]=f;for(let h=1;h<a.length;h+=2)f.set(r(a[h]),r(a[h+1]));break;case"RegExp":i[s]=new RegExp(a[1],a[2]);break;case"Object":i[s]=Object(a[1]);break;case"BigInt":i[s]=BigInt(a[1]);break;case"null":const d=Object.create(null);i[s]=d;for(let h=1;h<a.length;h+=2)d[a[h]]=r(a[h+1]);break;default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);i[s]=l;for(let c=0;c<a.length;c+=1){const u=a[c];u!==GP&&(l[c]=r(u))}}else{const l={};i[s]=l;for(const c in a){const u=a[c];l[c]=r(u)}}return i[s]}return r(0)}function YP(e){return Array.isArray(e)?e:[e]}const ZP=["title","titleTemplate","script","style","noscript"],Gh=["base","meta","link","style","script","noscript"],JP=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],KP=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],wM=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],QP=typeof window<"u";function Q_(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function W0(e){return e._h||Q_(e._d?e._d:`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([t,n])=>`${t}:${String(n)}`).join(",")}`)}function MM(e,t){const{props:n,tag:i}=e;if(KP.includes(i))return i;if(i==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const r=["id"];i==="meta"&&r.push("name","property","http-equiv");for(const s of r)if(typeof n[s]<"u"){const o=String(n[s]);return t&&!t(o)?!1:`${i}:${s}:${o}`}return!1}function j0(e,t){return e==null?t||null:typeof e=="function"?e(t):e}function SM(e,t){const n=[],i=t.resolveKeyData||(s=>s.key),r=t.resolveValueData||(s=>s.value);for(const[s,o]of Object.entries(e))n.push(...(Array.isArray(o)?o:[o]).map(a=>{const l={key:s,value:a},c=r(l);return typeof c=="object"?SM(c,t):Array.isArray(c)?c:{[typeof t.key=="function"?t.key(l):t.key]:i(l),[typeof t.value=="function"?t.value(l):t.value]:c}}).flat());return n}function EM(e,t){return Object.entries(e).map(([n,i])=>{if(typeof i=="object"&&(i=EM(i,t)),t.resolve){const r=t.resolve({key:n,value:i});if(r)return r}return typeof i=="number"&&(i=i.toString()),typeof i=="string"&&t.wrapValue&&(i=i.replace(new RegExp(t.wrapValue,"g"),`\\${t.wrapValue}`),i=`${t.wrapValue}${i}${t.wrapValue}`),`${n}${t.keyValueSeparator||""}${i}`}).join(t.entrySeparator||"")}const An=e=>({keyValue:e,metaKey:"property"}),fm=e=>({keyValue:e}),ev={appleItunesApp:{unpack:{entrySeparator:", ",resolve({key:e,value:t}){return`${Yr(e)}=${t}`}}},articleExpirationTime:An("article:expiration_time"),articleModifiedTime:An("article:modified_time"),articlePublishedTime:An("article:published_time"),bookReleaseDate:An("book:release_date"),charset:{metaKey:"charset"},contentSecurityPolicy:{unpack:{entrySeparator:"; ",resolve({key:e,value:t}){return`${Yr(e)} ${t}`}},metaKey:"http-equiv"},contentType:{metaKey:"http-equiv"},defaultStyle:{metaKey:"http-equiv"},fbAppId:An("fb:app_id"),msapplicationConfig:fm("msapplication-Config"),msapplicationTileColor:fm("msapplication-TileColor"),msapplicationTileImage:fm("msapplication-TileImage"),ogAudioSecureUrl:An("og:audio:secure_url"),ogAudioUrl:An("og:audio"),ogImageSecureUrl:An("og:image:secure_url"),ogImageUrl:An("og:image"),ogSiteName:An("og:site_name"),ogVideoSecureUrl:An("og:video:secure_url"),ogVideoUrl:An("og:video"),profileFirstName:An("profile:first_name"),profileLastName:An("profile:last_name"),profileUsername:An("profile:username"),refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve({key:e,value:t}){if(e==="seconds")return`${t}`}}},robots:{unpack:{entrySeparator:", ",resolve({key:e,value:t}){return typeof t=="boolean"?`${Yr(e)}`:`${Yr(e)}:${t}`}}},xUaCompatible:{metaKey:"http-equiv"}},TM=["og","book","article","profile"];function DM(e){var n;const t=Yr(e).split(":")[0];return TM.includes(t)?"property":((n=ev[e])==null?void 0:n.metaKey)||"name"}function eL(e){var t;return((t=ev[e])==null?void 0:t.keyValue)||Yr(e)}function Yr(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.split("-")[0];return TM.includes(n)||n==="twitter"?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function kg(e){if(Array.isArray(e))return e.map(n=>kg(n));if(typeof e!="object"||Array.isArray(e))return e;const t={};for(const[n,i]of Object.entries(e))t[Yr(n)]=kg(i);return t}function tL(e,t){const n=ev[t];return t==="refresh"?`${e.seconds};url=${e.url}`:EM(kg(e),{keyValueSeparator:"=",entrySeparator:", ",resolve({value:i,key:r}){if(i===null)return"";if(typeof i=="boolean")return`${r}`},...n==null?void 0:n.unpack})}const AM=["og:image","og:video","og:audio","twitter:image"];function CM(e){const t={};return Object.entries(e).forEach(([n,i])=>{String(i)!=="false"&&n&&(t[n]=i)}),t}function q0(e,t){const n=CM(t),i=Yr(e),r=DM(i);if(AM.includes(i)){const s={};return Object.entries(n).forEach(([o,a])=>{s[`${e}${o==="url"?"":`${o.charAt(0).toUpperCase()}${o.slice(1)}`}`]=a}),tv(s).sort((o,a)=>{var l,c;return(((l=o[r])==null?void 0:l.length)||0)-(((c=a[r])==null?void 0:c.length)||0)})}return[{[r]:i,...n}]}function tv(e){const t=[],n={};Object.entries(e).forEach(([r,s])=>{if(!Array.isArray(s)){if(typeof s=="object"&&s){if(AM.includes(Yr(r))){t.push(...q0(r,s));return}n[r]=CM(s)}else n[r]=s;return}s.forEach(o=>{t.push(...typeof o=="string"?tv({[r]:o}):q0(r,o))})});const i=SM(n,{key({key:r}){return DM(r)},value({key:r}){return r==="charset"?"charset":"content"},resolveKeyData({key:r}){return eL(r)},resolveValueData({value:r,key:s}){return r===null?"_null":typeof r=="object"?tL(r,s):typeof r=="number"?r.toString():r}});return[...t,...i].map(r=>(r.content==="_null"&&(r.content=null),r))}async function nL(e,t,n){const i={tag:e,props:await PM(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[["script","noscript","style"].includes(e)?"innerHTML":"textContent"]:t},["templateParams","titleTemplate"].includes(e))};return wM.forEach(r=>{const s=typeof i.props[r]<"u"?i.props[r]:n[r];typeof s<"u"&&((!["innerHTML","textContent","children"].includes(r)||ZP.includes(i.tag))&&(i[r==="children"?"innerHTML":r]=s),delete i.props[r])}),i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(r=>({...i,props:{...i.props,content:r}})):i}function iL(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(t=>e[t])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(t=>t.trim()).filter(Boolean).join(" ")}async function PM(e,t){for(const n of Object.keys(e)){if(n==="class"){e[n]=iL(e[n]);continue}if(e[n]instanceof Promise&&(e[n]=await e[n]),!t&&!wM.includes(n)){const i=String(e[n]),r=n.startsWith("data-");i==="true"||i===""?e[n]=r?"true":!0:e[n]||(r&&i==="false"?e[n]="false":delete e[n])}}return e}const rL=10;async function sL(e){const t=[];return Object.entries(e.resolvedInput).filter(([n,i])=>typeof i<"u"&&JP.includes(n)).forEach(([n,i])=>{const r=YP(i);t.push(...r.map(s=>nL(n,s,e)).flat())}),(await Promise.all(t)).flat().filter(Boolean).map((n,i)=>(n._e=e._i,e.mode&&(n._m=e.mode),n._p=(e._i<<rL)+i,n))}const $0={base:-10,title:10},X0={critical:-80,high:-10,low:20};function vd(e){let t=100;const n=e.tagPriority;return typeof n=="number"?n:(e.tag==="meta"?(e.props["http-equiv"]==="content-security-policy"&&(t=-30),e.props.charset&&(t=-20),e.props.name==="viewport"&&(t=-15)):e.tag==="link"&&e.props.rel==="preconnect"?t=20:e.tag in $0&&(t=$0[e.tag]),typeof n=="string"&&n in X0?t+X0[n]:t)}const oL=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],LM=["onload","onerror","onabort","onprogress","onloadstart"],xs="%separator";function Vh(e,t,n){if(typeof e!="string"||!e.includes("%"))return e;function i(o){let a;return["s","pageTitle"].includes(o)?a=t.pageTitle:o.includes(".")?a=o.split(".").reduce((l,c)=>l&&l[c]||void 0,t):a=t[o],typeof a<"u"?(a||"").replace(/"/g,'\\"'):!1}let r=e;try{r=decodeURI(e)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(o=>{const a=i(o.slice(1));typeof a=="string"&&(e=e.replace(new RegExp(`\\${o}(\\W|$)`,"g"),(l,c)=>`${a}${c}`).trim())}),e.includes(xs)&&(e.endsWith(xs)&&(e=e.slice(0,-xs.length).trim()),e.startsWith(xs)&&(e=e.slice(xs.length).trim()),e=e.replace(new RegExp(`\\${xs}\\s*\\${xs}`,"g"),xs),e=Vh(e,{separator:n},n)),e}async function aL(e){const t={tag:e.tagName.toLowerCase(),props:await PM(e.getAttributeNames().reduce((n,i)=>({...n,[i]:e.getAttribute(i)}),{})),innerHTML:e.innerHTML};return t._d=MM(t),t}async function RM(e,t={}){var u;const n=t.document||e.resolvedOptions.document;if(!n)return;const i={shouldRender:e.dirty,tags:[]};if(await e.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const r=(await e.resolveTags()).map(f=>({tag:f,id:Gh.includes(f.tag)?W0(f):f.tag,shouldRender:!0}));let s=e._dom;if(!s){s={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};for(const f of["body","head"]){const d=(u=n==null?void 0:n[f])==null?void 0:u.children;for(const h of[...d].filter(p=>Gh.includes(p.tagName.toLowerCase())))s.elMap[h.getAttribute("data-hid")||W0(await aL(h))]=h}}s.pendingSideEffects={...s.sideEffects||{}},s.sideEffects={};function o(f,d,h){const p=`${f}:${d}`;s.sideEffects[p]=h,delete s.pendingSideEffects[p]}function a({id:f,$el:d,tag:h}){const p=h.tag.endsWith("Attrs");s.elMap[f]=d,p||(["textContent","innerHTML"].forEach(g=>{h[g]&&h[g]!==d[g]&&(d[g]=h[g])}),o(f,"el",()=>{s.elMap[f].remove(),delete s.elMap[f]})),Object.entries(h.props).forEach(([g,_])=>{const m=`attr:${g}`;if(g==="class")for(const y of(_||"").split(" ").filter(Boolean))p&&o(f,`${m}:${y}`,()=>d.classList.remove(y)),!d.classList.contains(y)&&d.classList.add(y);else d.getAttribute(g)!==_&&d.setAttribute(g,_===!0?"":String(_)),p&&o(f,m,()=>d.removeAttribute(g))})}const l=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const f of r){const{tag:d,shouldRender:h,id:p}=f;if(h){if(d.tag==="title"){n.title=d.textContent;continue}f.$el=f.$el||s.elMap[p],f.$el?a(f):Gh.includes(d.tag)&&l.push(f)}}for(const f of l){const d=f.tag.tagPosition||"head";f.$el=n.createElement(f.tag.tag),a(f),c[d]=c[d]||n.createDocumentFragment(),c[d].appendChild(f.$el)}for(const f of r)await e.hooks.callHook("dom:renderTag",f,n,o);c.head&&n.head.appendChild(c.head),c.bodyOpen&&n.body.insertBefore(c.bodyOpen,n.body.firstChild),c.bodyClose&&n.body.appendChild(c.bodyClose),Object.values(s.pendingSideEffects).forEach(f=>f()),e._dom=s,e.dirty=!1,await e.hooks.callHook("dom:rendered",{renders:r})}async function lL(e,t={}){const n=t.delayFn||(i=>setTimeout(i,10));return e._domUpdatePromise=e._domUpdatePromise||new Promise(i=>n(async()=>{await RM(e,t),delete e._domUpdatePromise,i()}))}function cL(e){return t=>{var i,r;const n=((r=(i=t.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return n&&t.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":function(s){lL(s,e)}}}}}const uL=["templateParams","htmlAttrs","bodyAttrs"],fL={hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(i=>{e.props[i]&&(e.key=e.props[i],delete e.props[i])});const n=MM(e)||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":function(e){const t={};e.tags.forEach(i=>{const r=(i.key?`${i.tag}:${i.key}`:i._d)||i._p,s=t[r];if(s){let a=i==null?void 0:i.tagDuplicateStrategy;if(!a&&uL.includes(i.tag)&&(a="merge"),a==="merge"){const l=s.props;["class","style"].forEach(c=>{l[c]&&(i.props[c]?(c==="style"&&!l[c].endsWith(";")&&(l[c]+=";"),i.props[c]=`${l[c]} ${i.props[c]}`):i.props[c]=l[c])}),t[r].props={...l,...i.props};return}else if(i._e===s._e){s._duped=s._duped||[],i._d=`${s._d}:${s._duped.length+1}`,s._duped.push(i);return}else if(vd(i)>vd(s))return}const o=Object.keys(i.props).length+(i.innerHTML?1:0)+(i.textContent?1:0);if(Gh.includes(i.tag)&&o===0){delete t[r];return}t[r]=i});const n=[];Object.values(t).forEach(i=>{const r=i._duped;delete i._duped,n.push(i),r&&n.push(...r)}),e.tags=n,e.tags=e.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},hL={mode:"server",hooks:{"tags:resolve":function(e){const t={};e.tags.filter(n=>["titleTemplate","templateParams","title"].includes(n.tag)&&n._m==="server").forEach(n=>{t[n.tag]=n.tag.startsWith("title")?n.textContent:n.props}),Object.keys(t).length&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},dL=["script","link","bodyAttrs"];function pL(e){const t={},n={};return Object.entries(e.props).forEach(([i,r])=>{i.startsWith("on")&&typeof r=="function"?(LM.includes(i)&&(t[i]=`this.dataset.${i} = true`),n[i]=r):t[i]=r}),{props:t,eventHandlers:n}}const mL=e=>({hooks:{"tags:resolve":function(t){for(const n of t.tags)if(dL.includes(n.tag)){const{props:i,eventHandlers:r}=pL(n);n.props=i,Object.keys(r).length&&((n.props.src||n.props.href)&&(n.key=n.key||Q_(n.props.src||n.props.href)),n._eventHandlers=r)}},"dom:renderTag":function(t,n,i){if(!t.tag._eventHandlers)return;const r=t.tag.tag==="bodyAttrs"?n.defaultView:t.$el;Object.entries(t.tag._eventHandlers).forEach(([s,o])=>{const a=`${t.tag._d||t.tag._p}:${s}`,l=s.slice(2).toLowerCase(),c=`data-h-${l}`;if(i(t.id,a,()=>{}),t.$el.hasAttribute(c))return;t.$el.setAttribute(c,"");let u;const f=d=>{o(d),u==null||u.disconnect()};s in t.$el.dataset?f(new Event(s.replace("on",""))):LM.includes(s)&&typeof MutationObserver<"u"?(u=new MutationObserver(d=>{d.some(p=>p.attributeName===`data-${s}`)&&(f(new Event(s.replace("on",""))),u==null||u.disconnect())}),u.observe(t.$el,{attributes:!0})):r.addEventListener(l,f),i(t.id,a,()=>{u==null||u.disconnect(),r.removeEventListener(l,f),t.$el.removeAttribute(c)})})}}}),gL=["link","style","script","noscript"],yL={hooks:{"tag:normalise":({tag:e})=>{e.key&&gL.includes(e.tag)&&(e.props["data-hid"]=e._h=Q_(e.key))}}},_L={hooks:{"tags:resolve":e=>{const t=n=>{var i;return(i=e.tags.find(r=>r._d===n))==null?void 0:i._p};for(const{prefix:n,offset:i}of oL)for(const r of e.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(n))){const s=t(r.tagPriority.replace(n,""));typeof s<"u"&&(r._p=s+i)}e.tags.sort((n,i)=>n._p-i._p).sort((n,i)=>vd(n)-vd(i))}}},vL={meta:"content",link:"href",htmlAttrs:"lang"},xL=e=>({hooks:{"tags:resolve":t=>{var a;const{tags:n}=t,i=(a=n.find(l=>l.tag==="title"))==null?void 0:a.textContent,r=n.findIndex(l=>l.tag==="templateParams"),s=r!==-1?n[r].props:{},o=s.separator||"|";delete s.separator,s.pageTitle=Vh(s.pageTitle||i||"",s,o);for(const l of n.filter(c=>c.processTemplateParams!==!1)){const c=vL[l.tag];c&&typeof l.props[c]=="string"?l.props[c]=Vh(l.props[c],s,o):(l.processTemplateParams===!0||["titleTemplate","title"].includes(l.tag))&&["innerHTML","textContent"].forEach(u=>{typeof l[u]=="string"&&(l[u]=Vh(l[u],s,o))})}e._templateParams=s,e._separator=o,t.tags=n.filter(l=>l.tag!=="templateParams")}}}),bL={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n=t.findIndex(r=>r.tag==="titleTemplate");const i=t.findIndex(r=>r.tag==="title");if(i!==-1&&n!==-1){const r=j0(t[n].textContent,t[i].textContent);r!==null?t[i].textContent=r||t[i].textContent:delete t[i]}else if(n!==-1){const r=j0(t[n].textContent);r!==null&&(t[n].textContent=r,t[n].tag="title",n=-1)}n!==-1&&delete t[n],e.tags=t.filter(Boolean)}}},wL={hooks:{"tags:afterResolve":function(e){for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&["application/ld+json","application/json"].includes(t.props.type)?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let OM;function ML(e={}){const t=SL(e);return t.use(cL()),OM=t}function Y0(e,t){return!e||e==="server"&&t||e==="client"&&!t}function SL(e={}){const t=xM();t.addHooks(e.hooks||{}),e.document=e.document||(QP?document:void 0);const n=!e.document,i=()=>{a.dirty=!0,t.callHook("entries:updated",a)};let r=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return s},use(l){const c=typeof l=="function"?l(a):l;(!c.key||!o.some(u=>u.key===c.key))&&(o.push(c),Y0(c.mode,n)&&t.addHooks(c.hooks||{}))},push(l,c){c==null||delete c.head;const u={_i:r++,input:l,...c};return Y0(u.mode,n)&&(s.push(u),i()),{dispose(){s=s.filter(f=>f._i!==u._i),t.callHook("entries:updated",a),i()},patch(f){s=s.map(d=>(d._i===u._i&&(d.input=u.input=f),d)),i()}}},async resolveTags(){const l={tags:[],entries:[...s]};await t.callHook("entries:resolve",l);for(const c of l.entries){const u=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(u):u),c.resolvedInput)for(const f of await sL(c)){const d={tag:f,entry:c,resolvedOptions:a.resolvedOptions};await t.callHook("tag:normalise",d),l.tags.push(d.tag)}}return await t.callHook("tags:beforeResolve",l),await t.callHook("tags:resolve",l),await t.callHook("tags:afterResolve",l),l.tags},ssr:n};return[fL,hL,mL,yL,_L,xL,bL,wL,...(e==null?void 0:e.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function EL(){return OM}const TL=oM.startsWith("3");function DL(e){return typeof e=="function"?e():ut(e)}function xd(e,t=""){if(e instanceof Promise)return e;const n=DL(e);return!e||!n?n:Array.isArray(n)?n.map(i=>xd(i,t)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([i,r])=>i==="titleTemplate"||i.startsWith("on")?[i,ut(r)]:[i,xd(r,i)])):n}const AL={hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=xd(t.input)}}},IM="usehead";function CL(e){return{install(n){TL&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(IM,e))}}.install}function PL(e={}){e.domDelayFn=e.domDelayFn||(n=>us(()=>setTimeout(()=>n(),0)));const t=ML(e);return t.use(AL),t.install=CL(t),t}const Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ng="__unhead_injection_handler__";function LL(e){Bg[Ng]=e}function RL(){if(Ng in Bg)return Bg[Ng]();const e=pn(IM);return e||EL()}function nv(e,t={}){const n=t.head||RL();if(n)return n.ssr?n.push(e,t):OL(n,e,t)}function OL(e,t,n={}){const i=ri(!1),r=ri({});I1(()=>{r.value=i.value?{}:xd(t)});const s=e.push(r.value,n);return Kr(r,a=>{s.patch(a)}),ma()&&(Kl(()=>{s.dispose()}),W_(()=>{i.value=!0}),V_(()=>{i.value=!1})),s}function FM(e,t){const{title:n,titleTemplate:i,...r}=e;return nv({title:n,titleTemplate:i,_flatMeta:r},{...t,transform(s){const o=tv({...s._flatMeta});return delete s._flatMeta,{...s,meta:o}}})}function IL(e){return{ctx:{table:e},matchAll:t=>BM(t,e)}}function kM(e){const t={};for(const n in e)t[n]=n==="dynamic"?new Map(Object.entries(e[n]).map(([i,r])=>[i,kM(r)])):new Map(Object.entries(e[n]));return t}function FL(e){return IL(kM(e))}function BM(e,t){const n=[];for(const[r,s]of Z0(t.wildcard))e.startsWith(r)&&n.push(s);for(const[r,s]of Z0(t.dynamic))if(e.startsWith(r+"/")){const o="/"+e.slice(r.length).split("/").splice(2).join("/");n.push(...BM(o,s))}const i=t.static.get(e);return i&&n.push(i),n.filter(Boolean)}function Z0(e){return[...e.entries()].sort((t,n)=>t[0].length-n[0].length)}function hm(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function zg(e,t,n=".",i){if(!hm(t))return zg(e,{},n,i);const r=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const o=e[s];o!=null&&(i&&i(r,s,o,n)||(Array.isArray(o)&&Array.isArray(r[s])?r[s]=[...o,...r[s]]:hm(o)&&hm(r[s])?r[s]=zg(o,r[s],(n?`${n}.`:"")+s.toString(),i):r[s]=o))}return r}function NM(e){return(...t)=>t.reduce((n,i)=>zg(n,i,"",e),{})}const zM=NM(),kL=NM((e,t,n)=>{if(e[t]!==void 0&&typeof n=="function")return e[t]=n(e[t]),!0});function BL(e,t){try{return t in e}catch{return!1}}var NL=Object.defineProperty,zL=(e,t,n)=>t in e?NL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Po=(e,t,n)=>(zL(e,typeof t!="symbol"?t+"":t,n),n);class Ug extends Error{constructor(t,n={}){super(t,n),Po(this,"statusCode",500),Po(this,"fatal",!1),Po(this,"unhandled",!1),Po(this,"statusMessage"),Po(this,"data"),Po(this,"cause"),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const t={message:this.message,statusCode:Gg(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=UM(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}Po(Ug,"__h3_error__",!0);function Hg(e){if(typeof e=="string")return new Ug(e);if(UL(e))return e;const t=new Ug(e.message??e.statusMessage??"",{cause:e.cause||e});if(BL(e,"stack"))try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=Gg(e.statusCode,t.statusCode):e.status&&(t.statusCode=Gg(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const n=t.statusMessage;UM(t.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function UL(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.__h3_error__)===!0}const HL=/[^\u0009\u0020-\u007E]/g;function UM(e=""){return e.replace(HL,"")}function Gg(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}const HM=Symbol("layout-meta"),bf=Symbol("route"),GM="__nuxt_error",Rp=()=>qD(xt().payload,"error"),qa=e=>{const t=iv(e);try{const n=xt(),i=Rp();n.hooks.callHook("app:error",t),i.value=i.value||t}catch{throw t}return t},GL=async(e={})=>{const t=xt(),n=Rp();t.callHook("app:error:cleared",e),e.redirect&&await hs().replace(e.redirect),n.value=null},VL=e=>!!e&&typeof e=="object"&&GM in e,iv=e=>{const t=Hg(e);return Object.defineProperty(t,GM,{value:!0,configurable:!1,writable:!1}),t},hs=()=>{var e;return(e=xt())==null?void 0:e.$router},rv=()=>$_()?pn(bf,xt()._route):xt()._route;const WL=()=>{try{if(xt()._processingMiddleware)return!0}catch{return!0}return!1},jL=(e,t)=>{e||(e="/");const n=typeof e=="string"?e:mM(e.path||"/",e.query||{})+(e.hash||"");if(t!=null&&t.open){{const{target:a="_blank",windowFeatures:l={}}=t.open,c=Object.entries(l).filter(([u,f])=>f!==void 0).map(([u,f])=>`${u.toLowerCase()}=${f}`).join(", ");open(n,a,c)}return Promise.resolve()}const i=(t==null?void 0:t.external)||ga(n,{acceptRelative:!0});if(i){if(!(t!=null&&t.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const a=xf(n).protocol;if(a&&$C(a))throw new Error(`Cannot navigate to a URL with '${a}' protocol.`)}const r=WL();if(!i&&r)return e;const s=hs(),o=xt();return i?(o._scope.stop(),t!=null&&t.replace?location.replace(n):location.href=n,r?o.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t!=null&&t.replace?s.replace(e):s.push(e)},qL={nuxt:{buildId:"1d085611-a836-4d55-9dab-dfbf8dcfd954"}},$L=kL(qL);function XL(){const e=xt();return e._appConfig||(e._appConfig=Ar($L)),e._appConfig}const YL=!1,Vg=!1,ZL=!1,JL={componentName:"NuxtLink"},Q4={deep:!0},KL="#__nuxt";let Wh,VM;function QL(){var t;const e=(t=XL().nuxt)==null?void 0:t.buildId;return Wh=$fetch(J_(`builds/meta/${e}.json`)),Wh.then(n=>{VM=FL(n.matcher)}),Wh}function Op(){return Wh||QL()}async function WM(e){return await Op(),zM({},...VM.matchAll(e).reverse())}function J0(e,t={}){const n=e2(e,t),i=xt(),r=i._payloadCache=i._payloadCache||{};return n in r||(r[n]=t2(e).then(s=>s?jM(n).then(o=>o||(delete r[n],null)):(r[n]=null,null))),r[n]}const K0="json";function e2(e,t={}){const n=new URL(e,"http://localhost");if(n.search)throw new Error("Payload URL cannot contain search params: "+e);if(n.host!=="localhost"||ga(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const i=t.hash||(t.fresh?Date.now():"");return Ql(Lp().app.baseURL,n.pathname,i?`_payload.${i}.${K0}`:`_payload.${K0}`)}async function jM(e){const t=fetch(e).then(n=>n.text().then(qM));try{return await t}catch(n){console.warn("[nuxt] Cannot load payload ",e,n)}return null}async function t2(e=rv().path){if(e=Pp(e),(await Op()).prerendered.includes(e))return!0;const n=await WM(e);return!!n.prerender&&!n.redirect}let Uf=null;async function n2(){if(Uf)return Uf;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=await qM(e.textContent||""),n=e.dataset.src?await jM(e.dataset.src):void 0;return Uf={...t,...n,...window.__NUXT__},Uf}async function qM(e){return await $P(e,xt()._payloadRevivers)}function i2(e,t){xt()._payloadRevivers[e]=t}const Q0={NuxtError:e=>iv(e),EmptyShallowRef:e=>mu(e==="_"?void 0:e==="0n"?BigInt(0):yd(e)),EmptyRef:e=>ri(e==="_"?void 0:e==="0n"?BigInt(0):yd(e)),ShallowRef:e=>mu(e),ShallowReactive:e=>yf(e),Ref:e=>ri(e),Reactive:e=>Ar(e)},r2=Vi({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,n;for(const i in Q0)i2(i,Q0[i]);Object.assign(e.payload,([t,n]=bu(()=>e.runWithContext(n2)),t=await t,n(),t)),window.__NUXT__=e.payload}}),s2=[],o2=Vi({name:"nuxt:head",enforce:"pre",setup(e){const t=PL({plugins:s2});LL(()=>xt().vueApp._context.provides.usehead),e.vueApp.use(t);{let n=!0;const i=async()=>{n=!1,await RM(t)};t.hooks.hook("dom:beforeRender",r=>{r.shouldRender=!n}),e.hooks.hook("page:start",()=>{n=!0}),e.hooks.hook("page:finish",()=>{e.isHydrating||i()}),e.hooks.hook("app:error",i),e.hooks.hook("app:suspense:resolve",i)}}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ua=typeof window<"u";function a2(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const at=Object.assign;function dm(e,t){const n={};for(const i in t){const r=t[i];n[i]=sr(r)?r.map(e):e(r)}return n}const Wc=()=>{},sr=Array.isArray,l2=/\/$/,c2=e=>e.replace(l2,"");function pm(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=d2(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function u2(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ex(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function f2(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&bl(t.matched[i],n.matched[r])&&$M(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function bl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $M(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!h2(e[n],t[n]))return!1;return!0}function h2(e,t){return sr(e)?tx(e,t):sr(t)?tx(t,e):e===t}function tx(e,t){return sr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function d2(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var wu;(function(e){e.pop="pop",e.push="push"})(wu||(wu={}));var jc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(jc||(jc={}));function p2(e){if(!e)if(Ua){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),c2(e)}const m2=/^[^#]+#/;function g2(e,t){return e.replace(m2,"#")+t}function y2(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Ip=()=>({left:window.pageXOffset,top:window.pageYOffset});function _2(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=y2(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function nx(e,t){return(history.state?history.state.position-t:-1)+e}const Wg=new Map;function v2(e,t){Wg.set(e,t)}function x2(e){const t=Wg.get(e);return Wg.delete(e),t}let b2=()=>location.protocol+"//"+location.host;function XM(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),ex(l,"")}return ex(n,e)+i+r}function w2(e,t,n,i){let r=[],s=[],o=null;const a=({state:d})=>{const h=XM(e,location),p=n.value,g=t.value;let _=0;if(d){if(n.value=h,t.value=d,o&&o===p){o=null;return}_=g?d.position-g.position:0}else i(h);r.forEach(m=>{m(n.value,p,{delta:_,type:wu.pop,direction:_?_>0?jc.forward:jc.back:jc.unknown})})};function l(){o=n.value}function c(d){r.push(d);const h=()=>{const p=r.indexOf(d);p>-1&&r.splice(p,1)};return s.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(at({},d.state,{scroll:Ip()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function ix(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Ip():null}}function M2(e){const{history:t,location:n}=window,i={value:XM(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:b2()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,c){const u=at({},t.state,ix(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=at({},r.value,t.state,{forward:l,scroll:Ip()});s(u.current,u,!0);const f=at({},ix(i.value,l,null),{position:u.position+1},c);s(l,f,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function YM(e){e=p2(e);const t=M2(e),n=w2(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=at({location:"",base:e,go:i,createHref:g2.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function S2(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),YM(e)}function E2(e){return typeof e=="string"||e&&typeof e=="object"}function ZM(e){return typeof e=="string"||typeof e=="symbol"}const Ji={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},JM=Symbol("");var rx;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(rx||(rx={}));function wl(e,t){return at(new Error,{type:e,[JM]:!0},t)}function Br(e,t){return e instanceof Error&&JM in e&&(t==null||!!(e.type&t))}const sx="[^/]+?",T2={sensitive:!1,strict:!1,start:!0,end:!0},D2=/[.+*?^${}()[\]/\\]/g;function A2(e,t){const n=at({},T2,t),i=[];let r=n.start?"^":"";const s=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(D2,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:g,optional:_,regexp:m}=d;s.push({name:p,repeatable:g,optional:_});const y=m||sx;if(y!==sx){h+=10;try{new RegExp(`(${y})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+v.message)}}let x=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=_&&c.length<2?`(?:/${x})`:"/"+x),_&&(x+="?"),r+=x,h+=20,_&&(h+=-8),g&&(h+=-20),y===".*"&&(h+=-50)}u.push(h)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=s[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:_}=h,m=p in c?c[p]:"";if(sr(m)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=sr(m)?m.join("/"):m;if(!y)if(_)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function C2(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function P2(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=C2(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(ox(i))return 1;if(ox(r))return-1}return r.length-i.length}function ox(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const L2={type:0,value:""},R2=/[a-zA-Z0-9_]/;function O2(e){if(!e)return[[]];if(e==="/")return[[L2]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function f(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:R2.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function I2(e,t,n){const i=A2(O2(e.path),n),r=at(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function F2(e,t){const n=[],i=new Map;t=cx({strict:!1,end:!0,sensitive:!1},t);function r(u){return i.get(u)}function s(u,f,d){const h=!d,p=k2(u);p.aliasOf=d&&d.record;const g=cx(t,u),_=[p];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const v of x)_.push(at({},p,{components:d?d.record.components:p.components,path:v,aliasOf:d?d.record:p}))}let m,y;for(const x of _){const{path:v}=x;if(f&&v[0]!=="/"){const b=f.record.path,M=b[b.length-1]==="/"?"":"/";x.path=f.record.path+(v&&M+v)}if(m=I2(x,f,g),d?d.alias.push(m):(y=y||m,y!==m&&y.alias.push(m),h&&u.name&&!lx(m)&&o(u.name)),p.children){const b=p.children;for(let M=0;M<b.length;M++)s(b[M],m,d&&d.children[M])}d=d||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return y?()=>{o(y)}:Wc}function o(u){if(ZM(u)){const f=i.get(u);f&&(i.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&P2(u,n[f])>=0&&(u.record.path!==n[f].record.path||!KM(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!lx(u)&&i.set(u.record.name,u)}function c(u,f){let d,h={},p,g;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw wl(1,{location:u});g=d.record.name,h=at(ax(f.params,d.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&ax(u.params,d.keys.map(y=>y.name))),p=d.stringify(h)}else if("path"in u)p=u.path,d=n.find(y=>y.re.test(p)),d&&(h=d.parse(p),g=d.record.name);else{if(d=f.name?i.get(f.name):n.find(y=>y.re.test(f.path)),!d)throw wl(1,{location:u,currentLocation:f});g=d.record.name,h=at({},f.params,u.params),p=d.stringify(h)}const _=[];let m=d;for(;m;)_.unshift(m.record),m=m.parent;return{name:g,path:p,params:h,matched:_,meta:N2(_)}}return e.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function ax(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function k2(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:B2(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function B2(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function lx(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function N2(e){return e.reduce((t,n)=>at(t,n.meta),{})}function cx(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function KM(e,t){return t.children.some(n=>n===e||KM(e,n))}const QM=/#/g,z2=/&/g,U2=/\//g,H2=/=/g,G2=/\?/g,eS=/\+/g,V2=/%5B/g,W2=/%5D/g,tS=/%5E/g,j2=/%60/g,nS=/%7B/g,q2=/%7C/g,iS=/%7D/g,$2=/%20/g;function sv(e){return encodeURI(""+e).replace(q2,"|").replace(V2,"[").replace(W2,"]")}function X2(e){return sv(e).replace(nS,"{").replace(iS,"}").replace(tS,"^")}function jg(e){return sv(e).replace(eS,"%2B").replace($2,"+").replace(QM,"%23").replace(z2,"%26").replace(j2,"`").replace(nS,"{").replace(iS,"}").replace(tS,"^")}function Y2(e){return jg(e).replace(H2,"%3D")}function Z2(e){return sv(e).replace(QM,"%23").replace(G2,"%3F")}function J2(e){return e==null?"":Z2(e).replace(U2,"%2F")}function bd(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function K2(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(eS," "),o=s.indexOf("="),a=bd(o<0?s:s.slice(0,o)),l=o<0?null:bd(s.slice(o+1));if(a in t){let c=t[a];sr(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function ux(e){let t="";for(let n in e){const i=e[n];if(n=Y2(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(sr(i)?i.map(s=>s&&jg(s)):[i&&jg(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Q2(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=sr(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const eR=Symbol(""),fx=Symbol(""),ov=Symbol(""),av=Symbol(""),qg=Symbol("");function cc(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ks(e,t,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(wl(4,{from:n,to:t})):f instanceof Error?a(f):E2(f)?a(wl(2,{from:t,to:f})):(s&&i.enterCallbacks[r]===s&&typeof f=="function"&&s.push(f),o())},c=e.call(i&&i.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function mm(e,t,n,i){const r=[];for(const s of e)for(const o in s.components){let a=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(tR(a)){const c=(a.__vccOpts||a)[t];c&&r.push(ks(c,n,i,s,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=a2(c)?c.default:c;s.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&ks(d,n,i,s,o)()}))}}return r}function tR(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function hx(e){const t=pn(ov),n=pn(av),i=fn(()=>t.resolve(ut(e.to))),r=fn(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(bl.bind(null,u));if(d>-1)return d;const h=dx(l[c-2]);return c>1&&dx(u)===h&&f[f.length-1].path!==h?f.findIndex(bl.bind(null,l[c-2])):d}),s=fn(()=>r.value>-1&&sR(n.params,i.value.params)),o=fn(()=>r.value>-1&&r.value===n.matched.length-1&&$M(n.params,i.value.params));function a(l={}){return rR(l)?t[ut(e.replace)?"replace":"push"](ut(e.to)).catch(Wc):Promise.resolve()}return{route:i,href:fn(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const nR=ar({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hx,setup(e,{slots:t}){const n=Ar(hx(e)),{options:i}=pn(ov),r=fn(()=>({[px(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[px(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Hn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),iR=nR;function rR(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sR(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!sr(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function dx(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const px=(e,t,n)=>e??t??n,oR=ar({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=pn(qg),r=fn(()=>e.route||i.value),s=pn(fx,0),o=fn(()=>{let c=ut(s);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=fn(()=>r.value.matched[o.value]);Ho(fx,fn(()=>o.value+1)),Ho(eR,a),Ho(qg,r);const l=ri();return Kr(()=>[l.value,a.value,e.name],([c,u,f],[d,h,p])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!bl(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return mx(n.default,{Component:d,route:c});const h=f.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,_=Hn(d,at({},p,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return mx(n.default,{Component:_,route:c})||_}}});function mx(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const rS=oR;function aR(e){const t=F2(e.routes,e),n=e.parseQuery||K2,i=e.stringifyQuery||ux,r=e.history,s=cc(),o=cc(),a=cc(),l=mu(Ji);let c=Ji;Ua&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=dm.bind(null,W=>""+W),f=dm.bind(null,J2),d=dm.bind(null,bd);function h(W,ee){let ie,oe;return ZM(W)?(ie=t.getRecordMatcher(W),oe=ee):oe=W,t.addRoute(oe,ie)}function p(W){const ee=t.getRecordMatcher(W);ee&&t.removeRoute(ee)}function g(){return t.getRoutes().map(W=>W.record)}function _(W){return!!t.getRecordMatcher(W)}function m(W,ee){if(ee=at({},ee||l.value),typeof W=="string"){const P=pm(n,W,ee.path),G=t.resolve({path:P.path},ee),Z=r.createHref(P.fullPath);return at(P,G,{params:d(G.params),hash:bd(P.hash),redirectedFrom:void 0,href:Z})}let ie;if("path"in W)ie=at({},W,{path:pm(n,W.path,ee.path).path});else{const P=at({},W.params);for(const G in P)P[G]==null&&delete P[G];ie=at({},W,{params:f(P)}),ee.params=f(ee.params)}const oe=t.resolve(ie,ee),Q=W.hash||"";oe.params=u(d(oe.params));const se=u2(i,at({},W,{hash:X2(Q),path:oe.path})),T=r.createHref(se);return at({fullPath:se,hash:Q,query:i===ux?Q2(W.query):W.query||{}},oe,{redirectedFrom:void 0,href:T})}function y(W){return typeof W=="string"?pm(n,W,l.value.path):at({},W)}function x(W,ee){if(c!==W)return wl(8,{from:ee,to:W})}function v(W){return S(W)}function b(W){return v(at(y(W),{replace:!0}))}function M(W){const ee=W.matched[W.matched.length-1];if(ee&&ee.redirect){const{redirect:ie}=ee;let oe=typeof ie=="function"?ie(W):ie;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=y(oe):{path:oe},oe.params={}),at({query:W.query,hash:W.hash,params:"path"in oe?{}:W.params},oe)}}function S(W,ee){const ie=c=m(W),oe=l.value,Q=W.state,se=W.force,T=W.replace===!0,P=M(ie);if(P)return S(at(y(P),{state:typeof P=="object"?at({},Q,P.state):Q,force:se,replace:T}),ee||ie);const G=ie;G.redirectedFrom=ee;let Z;return!se&&f2(i,oe,ie)&&(Z=wl(16,{to:G,from:oe}),I(oe,oe,!0,!1)),(Z?Promise.resolve(Z):L(G,oe)).catch(w=>Br(w)?Br(w,2)?w:D(w):$(w,G,oe)).then(w=>{if(w){if(Br(w,2))return S(at({replace:T},y(w.to),{state:typeof w.to=="object"?at({},Q,w.to.state):Q,force:se}),ee||G)}else w=R(G,oe,!0,T,Q);return N(G,oe,w),w})}function A(W,ee){const ie=x(W,ee);return ie?Promise.reject(ie):Promise.resolve()}function E(W){const ee=ge.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(W):W()}function L(W,ee){let ie;const[oe,Q,se]=lR(W,ee);ie=mm(oe.reverse(),"beforeRouteLeave",W,ee);for(const P of oe)P.leaveGuards.forEach(G=>{ie.push(ks(G,W,ee))});const T=A.bind(null,W,ee);return ie.push(T),K(ie).then(()=>{ie=[];for(const P of s.list())ie.push(ks(P,W,ee));return ie.push(T),K(ie)}).then(()=>{ie=mm(Q,"beforeRouteUpdate",W,ee);for(const P of Q)P.updateGuards.forEach(G=>{ie.push(ks(G,W,ee))});return ie.push(T),K(ie)}).then(()=>{ie=[];for(const P of se)if(P.beforeEnter)if(sr(P.beforeEnter))for(const G of P.beforeEnter)ie.push(ks(G,W,ee));else ie.push(ks(P.beforeEnter,W,ee));return ie.push(T),K(ie)}).then(()=>(W.matched.forEach(P=>P.enterCallbacks={}),ie=mm(se,"beforeRouteEnter",W,ee),ie.push(T),K(ie))).then(()=>{ie=[];for(const P of o.list())ie.push(ks(P,W,ee));return ie.push(T),K(ie)}).catch(P=>Br(P,8)?P:Promise.reject(P))}function N(W,ee,ie){a.list().forEach(oe=>E(()=>oe(W,ee,ie)))}function R(W,ee,ie,oe,Q){const se=x(W,ee);if(se)return se;const T=ee===Ji,P=Ua?history.state:{};ie&&(oe||T?r.replace(W.fullPath,at({scroll:T&&P&&P.scroll},Q)):r.push(W.fullPath,Q)),l.value=W,I(W,ee,ie,T),D()}let H;function U(){H||(H=r.listen((W,ee,ie)=>{if(!ue.listening)return;const oe=m(W),Q=M(oe);if(Q){S(at(Q,{replace:!0}),oe).catch(Wc);return}c=oe;const se=l.value;Ua&&v2(nx(se.fullPath,ie.delta),Ip()),L(oe,se).catch(T=>Br(T,12)?T:Br(T,2)?(S(T.to,oe).then(P=>{Br(P,20)&&!ie.delta&&ie.type===wu.pop&&r.go(-1,!1)}).catch(Wc),Promise.reject()):(ie.delta&&r.go(-ie.delta,!1),$(T,oe,se))).then(T=>{T=T||R(oe,se,!1),T&&(ie.delta&&!Br(T,8)?r.go(-ie.delta,!1):ie.type===wu.pop&&Br(T,20)&&r.go(-1,!1)),N(oe,se,T)}).catch(Wc)}))}let z=cc(),F=cc(),V;function $(W,ee,ie){D(W);const oe=F.list();return oe.length?oe.forEach(Q=>Q(W,ee,ie)):console.error(W),Promise.reject(W)}function q(){return V&&l.value!==Ji?Promise.resolve():new Promise((W,ee)=>{z.add([W,ee])})}function D(W){return V||(V=!W,U(),z.list().forEach(([ee,ie])=>W?ie(W):ee()),z.reset()),W}function I(W,ee,ie,oe){const{scrollBehavior:Q}=e;if(!Ua||!Q)return Promise.resolve();const se=!ie&&x2(nx(W.fullPath,0))||(oe||!ie)&&history.state&&history.state.scroll||null;return us().then(()=>Q(W,ee,se)).then(T=>T&&_2(T)).catch(T=>$(T,W,ee))}const le=W=>r.go(W);let de;const ge=new Set,ue={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:_,getRoutes:g,resolve:m,options:e,push:v,replace:b,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:F.add,isReady:q,install(W){const ee=this;W.component("RouterLink",iR),W.component("RouterView",rS),W.config.globalProperties.$router=ee,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>ut(l)}),Ua&&!de&&l.value===Ji&&(de=!0,v(r.location).catch(Q=>{}));const ie={};for(const Q in Ji)Object.defineProperty(ie,Q,{get:()=>l.value[Q],enumerable:!0});W.provide(ov,ee),W.provide(av,yf(ie)),W.provide(qg,l);const oe=W.unmount;ge.add(W),W.unmount=function(){ge.delete(W),ge.size<1&&(c=Ji,H&&H(),H=null,l.value=Ji,de=!1,V=!1),oe()}}};function K(W){return W.reduce((ee,ie)=>ee.then(()=>E(ie)),Promise.resolve())}return ue}function lR(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(c=>bl(c,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>bl(c,l))||r.push(l))}return[n,i,r]}function cR(){return pn(av)}const uR=(e,t)=>t.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var i;return((i=e.params[n.slice(1)])==null?void 0:i.toString())||""}),$g=(e,t)=>{const n=e.route.matched.find(r=>{var s;return((s=r.components)==null?void 0:s.default)===e.Component.type}),i=t??(n==null?void 0:n.meta.key)??(n&&uR(e.route,n));return typeof i=="function"?i(e.route):i},fR=(e,t)=>({default:()=>e?Hn(yA,e===!0?{}:e,t):t});function lv(e){return Array.isArray(e)?e:[e]}const gx=[{name:"about",path:"/about",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./about.KqAGJnhw.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(e=>e.default||e)},{name:"awards",path:"/awards",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./awards.Las05dWw.js"),__vite__mapDeps([8,1,2,9]),import.meta.url).then(e=>e.default||e)},{name:"brands",path:"/brands",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./brands.lXHPaJ6_.js"),__vite__mapDeps([10,1,2,7]),import.meta.url).then(e=>e.default||e)},{name:"careers",path:"/careers",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./careers.iX1mAABP.js"),__vite__mapDeps([11,1,2]),import.meta.url).then(e=>e.default||e)},{name:"example",path:"/example",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./example.R-eZL3_L.js"),__vite__mapDeps([12,1,2,13,14]),import.meta.url).then(e=>e.default||e)},{name:"expertise-branding",path:"/expertise/branding",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./branding.Jt0Ta_78.js"),__vite__mapDeps([15,1,2,3,4,14,7]),import.meta.url).then(e=>e.default||e)},{name:"expertise-development",path:"/expertise/development",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./development.Jk-VuQCd.js"),__vite__mapDeps([16,1,2,3,4,14,7]),import.meta.url).then(e=>e.default||e)},{name:"expertise-digital-marketing",path:"/expertise/digital-marketing",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./digital-marketing.Uu-bE1eM.js"),__vite__mapDeps([17,1,2,3,4,14,7]),import.meta.url).then(e=>e.default||e)},{name:"expertise-digital-strategy",path:"/expertise/digital-strategy",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./digital-strategy.qN0Z6Vi7.js"),__vite__mapDeps([18,1,2,3,4,14,7]),import.meta.url).then(e=>e.default||e)},{name:"expertise",path:"/expertise",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./index.7XVugm57.js"),__vite__mapDeps([19,1,2,7]),import.meta.url).then(e=>e.default||e)},{name:"expertise-production",path:"/expertise/production",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./production.enOjn_F6.js"),__vite__mapDeps([20,1,2,3,4,14,7]),import.meta.url).then(e=>e.default||e)},{name:"expertise-ux",path:"/expertise/ux",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./ux.pnt9KH9F.js"),__vite__mapDeps([21,1,2,3,4,14,7]),import.meta.url).then(e=>e.default||e)},{name:"id",path:"/id",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./id.swb0oO_Z.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,9]),import.meta.url).then(e=>e.default||e)},{name:"index",path:"/",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./index.0FkfWeOH.js"),__vite__mapDeps([23,1,2,4,6,24,9,14,7]),import.meta.url).then(e=>e.default||e)},{name:"inquiry-branding",path:"/inquiry/branding",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./branding.yh_nZRfn.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.default||e)},{name:"inquiry-ecommerce",path:"/inquiry/ecommerce",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./ecommerce.5BrIhdgS.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.default||e)},{name:"inquiry-feedback",path:"/inquiry/feedback",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./feedback.w4lexkKi.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.default||e)},{name:"inquiry",path:"/inquiry",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./index.KTAxs79Q.js"),__vite__mapDeps([25,1,2,14]),import.meta.url).then(e=>e.default||e)},{name:"inquiry-mobile-app",path:"/inquiry/mobile-app",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./mobile-app.eXHx6Io_.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.default||e)},{name:"inquiry-website",path:"/inquiry/website",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./website.A104pNpK.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.default||e)},{name:"journal-journal",path:"/journal/:journal()",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./_journal_.q1XWNRiX.js"),__vite__mapDeps([26,1,2,6,24]),import.meta.url).then(e=>e.default||e)},{name:"journal",path:"/journal",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./index.HwC1R9ZX.js"),__vite__mapDeps([27,1,2,6,24]),import.meta.url).then(e=>e.default||e)},{name:"sg",path:"/sg",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./sg.MrVRTDeb.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,9]),import.meta.url).then(e=>e.default||e)},{name:"sitemap",path:"/sitemap",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./sitemap.FzyCjquS.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.default||e)},{name:"terms",path:"/terms",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./terms.PGs-uowM.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.default||e)},{name:"works-108-media",path:"/works/108-media",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./108-media._f9DnD8U.js"),__vite__mapDeps([29,30,1,2,31,32,4,33,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-apprentice-search",path:"/works/apprentice-search",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./apprentice-search.ZtqWKejw.js"),__vite__mapDeps([36,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-arc",path:"/works/arc",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./arc.ah-eaKh6.js"),__vite__mapDeps([37,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-bodyshop",path:"/works/bodyshop",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./bodyshop.NmRdW26o.js"),__vite__mapDeps([38,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-capsll",path:"/works/capsll",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./capsll.0-xCXqAl.js"),__vite__mapDeps([39,30,1,2,32,4,33,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-clorova",path:"/works/clorova",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./clorova.xNsAFJnN.js"),__vite__mapDeps([40,30,1,2,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-fine-dine-club-new",path:"/works/fine-dine-club-new",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./fine-dine-club-new.wS31uuKu.js"),__vite__mapDeps([41,30,1,2,31,32,4,33,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-fine-dine-club",path:"/works/fine-dine-club",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./fine-dine-club.WlraLFjv.js"),__vite__mapDeps([42,30,1,2,31,32,4,33,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-honzen-sumizen",path:"/works/honzen-sumizen",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./honzen-sumizen.LxnyIG-E.js"),__vite__mapDeps([43,30,1,2,31,32,4,33,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works",path:"/works",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./index.Ab9wwB_C.js"),__vite__mapDeps([44,6,2,35,4,45]),import.meta.url).then(e=>e.default||e)},{name:"works-jannata",path:"/works/jannata",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./jannata.aI7qzh7I.js"),__vite__mapDeps([46,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-karma",path:"/works/karma",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./karma.rhC14ghM.js"),__vite__mapDeps([47,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-kevala",path:"/works/kevala",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./kevala.6AP5487j.js"),__vite__mapDeps([48,30,1,2,31,32,4,33,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-lustica",path:"/works/lustica",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./lustica.O7B5GXzC.js"),__vite__mapDeps([49,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-macra",path:"/works/macra",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./macra.JkilU58A.js"),__vite__mapDeps([50,30,1,2,32,4,33,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-prodotti",path:"/works/prodotti",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./prodotti.nrZ52bYo.js"),__vite__mapDeps([51,30,1,2,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-raia",path:"/works/raia",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./raia.BuOvsHhD.js"),__vite__mapDeps([52,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-relationshift",path:"/works/relationshift",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./relationshift.4_jpM467.js"),__vite__mapDeps([53,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-samsara",path:"/works/samsara",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./samsara.V42iYuLk.js"),__vite__mapDeps([54,30,1,2,34,13,35]),import.meta.url).then(e=>e.default||e)},{name:"works-vold",path:"/works/vold",meta:{},alias:[],redirect:void 0,component:()=>Ue(()=>import("./vold.GtEpqflK.js"),__vite__mapDeps([55,30,1,2,13,35]),import.meta.url).then(e=>e.default||e)}],sS=(e,t,n)=>(t=t===!0?{}:t,{default:()=>{var i;return t?Hn(e,t,n):(i=n.default)==null?void 0:i.call(n)}});function yx(e){const t=(e==null?void 0:e.meta.key)??e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var i;return((i=e.params[n.slice(1)])==null?void 0:i.toString())||""});return typeof t=="function"?t(e):t}function hR(e,t){return e===t||t===Ji?!1:yx(e)!==yx(t)?!0:!e.matched.every((i,r)=>{var s,o;return i.components&&i.components.default===((o=(s=t.matched[r])==null?void 0:s.components)==null?void 0:o.default)})}const dR={scrollBehavior(e,t,n){var c;const i=xt(),r=((c=hs().options)==null?void 0:c.scrollBehaviorType)??"auto";let s=n||void 0;const o=typeof e.meta.scrollToTop=="function"?e.meta.scrollToTop(e,t):e.meta.scrollToTop;if(!s&&t&&e&&o!==!1&&hR(e,t)&&(s={left:0,top:0}),e.path===t.path){if(t.hash&&!e.hash)return{left:0,top:0};if(e.hash)return{el:e.hash,top:_x(e.hash),behavior:r}}const a=u=>!!(u.meta.pageTransition??Vg),l=a(t)&&a(e)?"page:transition:finish":"page:finish";return new Promise(u=>{i.hooks.hookOnce(l,async()=>{await us(),e.hash&&(s={el:e.hash,top:_x(e.hash),behavior:r}),u(s)})})}};function _x(e){try{const t=document.querySelector(e);if(t)return parseFloat(getComputedStyle(t).scrollMarginTop)}catch{}return 0}const pR={hashMode:!1,scrollBehaviorType:"auto"},$n={...pR,...dR},mR=async e=>{var l;let t,n;if(!((l=e.meta)!=null&&l.validate))return;const i=xt(),r=hs();if(([t,n]=bu(()=>Promise.resolve(e.meta.validate(e))),t=await t,n(),t)===!0)return;const o=iv({statusCode:404,statusMessage:`Page Not Found: ${e.fullPath}`,data:{path:e.fullPath}}),a=r.beforeResolve(c=>{if(a(),c===e){const u=r.afterEach(async()=>{u(),await i.runWithContext(()=>qa(o)),window.history.pushState({},"",e.fullPath)});return!1}})},gR=async e=>{let t,n;const i=([t,n]=bu(()=>WM(e.path)),t=await t,n(),t);if(i.redirect)return i.redirect},yR=[mR,gR],qc={};function _R(e,t,n){const{pathname:i,search:r,hash:s}=t,o=e.indexOf("#");if(o>-1){const c=s.includes(e.slice(o))?e.slice(o).length:1;let u=s.slice(c);return u[0]!=="/"&&(u="/"+u),N0(u,"")}const a=N0(i,e),l=!n||QC(a,n,{trailingSlash:!0})?a:n;return l+(l.includes("?")?"":r)+s}const vR=Vi({name:"nuxt:router",enforce:"pre",async setup(e){var g,_;let t,n,i=Lp().app.baseURL;$n.hashMode&&!i.includes("#")&&(i+="#");const r=((g=$n.history)==null?void 0:g.call($n,i))??($n.hashMode?S2(i):YM(i)),s=((_=$n.routes)==null?void 0:_.call($n,gx))??gx;let o;const a=_R(i,window.location,e.payload.path),l=aR({...$n,scrollBehavior:(m,y,x)=>{var v;if(y===Ji){o=x;return}return l.options.scrollBehavior=$n.scrollBehavior,(v=$n.scrollBehavior)==null?void 0:v.call($n,m,Ji,o||x)},history:r,routes:s});e.vueApp.use(l);const c=mu(l.currentRoute.value);l.afterEach((m,y)=>{c.value=y}),Object.defineProperty(e.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const u=mu(l.resolve(a)),f=()=>{u.value=l.currentRoute.value};e.hook("page:finish",f),l.afterEach((m,y)=>{var x,v,b,M;((v=(x=m.matched[0])==null?void 0:x.components)==null?void 0:v.default)===((M=(b=y.matched[0])==null?void 0:b.components)==null?void 0:M.default)&&f()});const d={};for(const m in u.value)Object.defineProperty(d,m,{get:()=>u.value[m]});e._route=yf(d),e._middleware=e._middleware||{global:[],named:{}};const h=Rp();try{[t,n]=bu(()=>l.isReady()),await t,n()}catch(m){[t,n]=bu(()=>e.runWithContext(()=>qa(m))),await t,n()}const p=e.payload.state._layout;return l.beforeEach(async(m,y)=>{var x;await e.callHook("page:loading:start"),m.meta=Ar(m.meta),e.isHydrating&&p&&!Ko(m.meta.layout)&&(m.meta.layout=p),e._processingMiddleware=!0;{const v=new Set([...yR,...e._middleware.global]);for(const b of m.matched){const M=b.meta.middleware;if(M)for(const S of lv(M))v.add(S)}for(const b of v){const M=typeof b=="string"?e._middleware.named[b]||await((x=qc[b])==null?void 0:x.call(qc).then(A=>A.default||A)):b;if(!M)throw new Error(`Unknown route middleware: '${b}'.`);const S=await e.runWithContext(()=>M(m,y));if(!e.payload.serverRendered&&e.isHydrating&&(S===!1||S instanceof Error)){const A=S||Hg({statusCode:404,statusMessage:`Page Not Found: ${a}`});return await e.runWithContext(()=>qa(A)),!1}if(S!==!0&&(S||S===!1))return S}}}),l.onError(async()=>{delete e._processingMiddleware,await e.callHook("page:loading:end")}),l.afterEach(async(m,y,x)=>{delete e._processingMiddleware,!e.isHydrating&&h.value&&await e.runWithContext(GL),x&&await e.callHook("page:loading:end"),m.matched.length===0&&await e.runWithContext(()=>qa(Hg({statusCode:404,fatal:!1,statusMessage:`Page not found: ${m.fullPath}`,data:{path:m.fullPath}})))}),e.hooks.hookOnce("app:created",async()=>{try{await l.replace({...l.resolve(a),name:void 0,force:!0}),l.options.scrollBehavior=$n.scrollBehavior}catch(m){await e.runWithContext(()=>qa(m))}}),{provide:{router:l}}}}),Xg=globalThis.requestIdleCallback||(e=>{const t=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))};return setTimeout(()=>{e(n)},1)}),xR=globalThis.cancelIdleCallback||(e=>{clearTimeout(e)}),cv=e=>{const t=xt();t.isHydrating?t.hooks.hookOnce("app:suspense:resolve",()=>{Xg(e)}):Xg(e)},bR=Vi({name:"nuxt:payload",setup(e){hs().beforeResolve(async(t,n)=>{if(t.path===n.path)return;const i=await J0(t.path);i&&Object.assign(e.static.data,i.data)}),cv(()=>{var t;e.hooks.hook("link:prefetch",async n=>{xf(n).protocol||await J0(n)}),((t=navigator.connection)==null?void 0:t.effectiveType)!=="slow-2g"&&setTimeout(Op,1e3)})}}),wR=Vi(e=>{let t;async function n(){const i=await Op();t&&clearTimeout(t),t=setTimeout(n,1e3*60*60);const r=await $fetch(J_("builds/latest.json"));r.id!==i.id&&e.hooks.callHook("app:manifest:update",r)}cv(()=>{t=setTimeout(n,1e3*60*60)})}),MR=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let oS;const wf=e=>oS=e,aS=Symbol();function Yg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var $c;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})($c||($c={}));function SR(){const e=A_(!0),t=e.run(()=>ri({}));let n=[],i=[];const r=wp({install(s){wf(r),r._a=s,s.provide(aS,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!MR?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const lS=()=>{};function vx(e,t,n,i=lS){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&s1()&&vD(r),r}function _a(e,...t){e.slice().forEach(n=>{n(...t)})}const ER=e=>e();function Zg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];Yg(r)&&Yg(i)&&e.hasOwnProperty(n)&&!jt(i)&&!Xs(i)?e[n]=Zg(r,i):e[n]=i}return e}const TR=Symbol();function DR(e){return!Yg(e)||!e.hasOwnProperty(TR)}const{assign:Cs}=Object;function AR(e){return!!(jt(e)&&e.effect)}function CR(e,t,n,i){const{state:r,actions:s,getters:o}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=r?r():{});const u=VD(n.state.value[e]);return Cs(u,s,Object.keys(o||{}).reduce((f,d)=>(f[d]=wp(fn(()=>{wf(n);const h=n._s.get(e);return o[d].call(h,h)})),f),{}))}return l=cS(e,c,t,n,i,!0),l}function cS(e,t,n={},i,r,s){let o;const a=Cs({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],h;const p=i.state.value[e];!s&&!p&&(i.state.value[e]={}),ri({});let g;function _(A){let E;c=u=!1,typeof A=="function"?(A(i.state.value[e]),E={type:$c.patchFunction,storeId:e,events:h}):(Zg(i.state.value[e],A),E={type:$c.patchObject,payload:A,storeId:e,events:h});const L=g=Symbol();us().then(()=>{g===L&&(c=!0)}),u=!0,_a(f,E,i.state.value[e])}const m=s?function(){const{state:E}=n,L=E?E():{};this.$patch(N=>{Cs(N,L)})}:lS;function y(){o.stop(),f=[],d=[],i._s.delete(e)}function x(A,E){return function(){wf(i);const L=Array.from(arguments),N=[],R=[];function H(F){N.push(F)}function U(F){R.push(F)}_a(d,{args:L,name:A,store:b,after:H,onError:U});let z;try{z=E.apply(this&&this.$id===e?this:b,L)}catch(F){throw _a(R,F),F}return z instanceof Promise?z.then(F=>(_a(N,F),F)).catch(F=>(_a(R,F),Promise.reject(F))):(_a(N,z),z)}}const v={_p:i,$id:e,$onAction:vx.bind(null,d),$patch:_,$reset:m,$subscribe(A,E={}){const L=vx(f,A,E.detached,()=>N()),N=o.run(()=>Kr(()=>i.state.value[e],R=>{(E.flush==="sync"?u:c)&&A({storeId:e,type:$c.direct,events:h},R)},Cs({},l,E)));return L},$dispose:y},b=Ar(v);i._s.set(e,b);const S=(i._a&&i._a.runWithContext||ER)(()=>i._e.run(()=>(o=A_()).run(t)));for(const A in S){const E=S[A];if(jt(E)&&!AR(E)||Xs(E))s||(p&&DR(E)&&(jt(E)?E.value=p[A]:Zg(E,p[A])),i.state.value[e][A]=E);else if(typeof E=="function"){const L=x(A,E);S[A]=L,a.actions[A]=E}}return Cs(b,S),Cs(st(b),S),Object.defineProperty(b,"$state",{get:()=>i.state.value[e],set:A=>{_(E=>{Cs(E,A)})}}),i._p.forEach(A=>{Cs(b,o.run(()=>A({store:b,app:i._a,pinia:i,options:a})))}),p&&s&&n.hydrate&&n.hydrate(b.$state,p),c=!0,u=!0,b}function PR(e,t,n){let i,r;const s=typeof t=="function";typeof e=="string"?(i=e,r=s?n:t):(r=e,i=e.id);function o(a,l){const c=$_();return a=a||(c?pn(aS,null):null),a&&wf(a),a=oS,a._s.has(i)||(s?cS(i,t,r,a):CR(i,r,a)),a._s.get(i)}return o.$id=i,o}async function uS(e,t=hs()){const{path:n,matched:i}=t.resolve(e);if(!i.length||(t._routePreloaded||(t._routePreloaded=new Set),t._routePreloaded.has(n)))return;const r=t._preloadPromises=t._preloadPromises||[];if(r.length>4)return Promise.all(r).then(()=>uS(e,t));t._routePreloaded.add(n);const s=i.map(o=>{var a;return(a=o.components)==null?void 0:a.default}).filter(o=>typeof o=="function");for(const o of s){const a=Promise.resolve(o()).catch(()=>{}).finally(()=>r.splice(r.indexOf(a)));r.push(a)}await Promise.all(r)}function LR(e={}){const t=e.path||window.location.pathname;let n={};try{n=yd(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||(n==null?void 0:n.path)!==t||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:xt().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const RR=(...e)=>e.find(t=>t!==void 0),OR="noopener noreferrer";function IR(e){const t=e.componentName||"NuxtLink",n=(i,r)=>{if(!i||e.trailingSlash!=="append"&&e.trailingSlash!=="remove")return i;if(typeof i=="string")return xx(i,e.trailingSlash);const s="path"in i?i.path:r(i).path;return{...i,name:void 0,path:xx(s,e.trailingSlash)}};return ar({name:t,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(i,{slots:r}){const s=hs(),o=Lp(),a=fn(()=>{const h=i.to||i.href||"";return n(h,s.resolve)}),l=fn(()=>typeof a.value=="string"&&ga(a.value,{acceptRelative:!0})),c=fn(()=>i.external||i.target&&i.target!=="_self"?!0:typeof a.value=="object"?!1:a.value===""||l.value),u=ri(!1),f=ri(null),d=h=>{var p;f.value=i.custom?(p=h==null?void 0:h.$el)==null?void 0:p.nextElementSibling:h==null?void 0:h.$el};if(i.prefetch!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!BR()){const p=xt();let g,_=null;vf(()=>{const m=kR();cv(()=>{g=Xg(()=>{var y;(y=f==null?void 0:f.value)!=null&&y.tagName&&(_=m.observe(f.value,async()=>{_==null||_(),_=null;const x=typeof a.value=="string"?a.value:s.resolve(a.value).fullPath;await Promise.all([p.hooks.callHook("link:prefetch",x).catch(()=>{}),!c.value&&uS(a.value,s).catch(()=>{})]),u.value=!0}))})})}),Kl(()=>{g&&xR(g),_==null||_(),_=null})}return()=>{var m,y;if(!c.value){const x={ref:d,to:a.value,activeClass:i.activeClass||e.activeClass,exactActiveClass:i.exactActiveClass||e.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(u.value&&(x.class=i.prefetchedClass||e.prefetchedClass),x.rel=i.rel),Hn(nA("RouterLink"),x,r.default)}const h=typeof a.value=="object"?((m=s.resolve(a.value))==null?void 0:m.href)??null:a.value&&!i.external&&!l.value?n(Ql(o.app.baseURL,a.value),s.resolve):a.value||null,p=i.target||null,g=i.noRel?null:RR(i.rel,e.externalRelAttribute,h?OR:"")||null,_=()=>jL(h,{replace:i.replace});return i.custom?r.default?r.default({href:h,navigate:_,get route(){if(!h)return;const x=xf(h);return{path:x.pathname,fullPath:x.pathname,get query(){return pM(x.search)},hash:x.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:h}},rel:g,target:p,isExternal:c.value,isActive:!1,isExactActive:!1}):null:Hn("a",{ref:f,href:h,rel:g,target:p},(y=r.default)==null?void 0:y.call(r))}}})}const FR=IR(JL);function xx(e,t){const n=t==="append"?md:Pp;return ga(e)&&!e.startsWith("http")?e:n(e,!0)}function kR(){const e=xt();if(e._observer)return e._observer;let t=null;const n=new Map,i=(s,o)=>(t||(t=new IntersectionObserver(a=>{for(const l of a){const c=n.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&c&&c()}})),n.set(s,o),t.observe(s),()=>{n.delete(s),t.unobserve(s),n.size===0&&(t.disconnect(),t=null)});return e._observer={observe:i}}function BR(){const e=navigator.connection;return!!(e&&(e.saveData||/2g/.test(e.effectiveType)))}const NR=Vi(e=>{const t=SR();return e.vueApp.use(t),wf(t),e.payload&&e.payload.pinia&&(t.state.value=e.payload.pinia),{provide:{pinia:t}}}),zR=Vi({name:"nuxt:global-components"}),Ns={default:()=>Ue(()=>import("./default.gD9r4n72.js"),__vite__mapDeps([56,6,2]),import.meta.url).then(e=>e.default||e)},UR=Vi({name:"nuxt:prefetch",setup(e){const t=hs();e.hooks.hook("app:mounted",()=>{t.beforeEach(async n=>{var r;const i=(r=n==null?void 0:n.meta)==null?void 0:r.layout;i&&typeof Ns[i]=="function"&&await Ns[i]()})}),e.hooks.hook("link:prefetch",n=>{if(ga(n))return;const i=t.resolve(n);if(!i)return;const r=i.meta.layout;let s=lv(i.meta.middleware);s=s.filter(o=>typeof o=="string");for(const o of s)typeof qc[o]=="function"&&qc[o]();r&&typeof Ns[r]=="function"&&Ns[r]()})}});var HR,GR=()=>HR;function VR(e){return typeof e=="function"?e():ut(e)}function Jg(e,t=""){if(e instanceof Promise)return e;const n=VR(e);return!e||!n?n:Array.isArray(n)?n.map(i=>Jg(i,t)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([i,r])=>i==="titleTemplate"||i.startsWith("on")?[i,ut(r)]:[i,Jg(r,i)])):n}var WR=typeof window<"u",jR="usehead";function uv(){return ma()&&pn(jR)||GR()}function qR(e,t={}){const n=uv(),i=ri(!1),r=ri({});I1(()=>{r.value=i.value?{}:Jg(e)});const s=n.push(r.value,t);return Kr(r,a=>{s.patch(a)}),ma()&&(Kl(()=>{s.dispose()}),W_(()=>{i.value=!0}),V_(()=>{i.value=!1})),s}function $R(e,t={}){return uv().push(e,t)}function XR(e,t={}){var i;const n=uv();if(n){const r=WR||!!((i=n.resolvedOptions)!=null&&i.document);return t.mode==="server"&&r||t.mode==="client"&&!r?void 0:r?qR(e,t):$R(e,t)}}var YR=e=>{const t={created(){var r;if(typeof((r=this.$options)==null?void 0:r.jsonld)!="function")return;const i=fn(()=>this.$options.jsonld.call(this));XR(()=>({script:[{type:"application/ld+json",children:i.value?JSON.stringify(i.value,null,""):void 0}]}))}},n={install(i){i.mixin(t)}};e.vueApp.use(n)},ZR=Vi(YR);const JR=Vi({name:"nuxt:chunk-reload",setup(e){const t=hs(),n=Lp(),i=new Set;t.beforeEach(()=>{i.clear()}),e.hook("app:chunkError",({error:s})=>{i.add(s)});function r(s){const a="href"in s&&s.href[0]==="#"?n.app.baseURL+s.href:Ql(n.app.baseURL,s.fullPath);LR({path:a,persistState:!0})}e.hook("app:manifest:update",()=>{t.beforeResolve(r)}),t.onError((s,o)=>{i.has(s)&&r(o)})}}),KR=Vi(()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","UA-20462557-3",{page_path:location.pathname})}),Fp=PR("store",{state:()=>({run_webgl:!1,run_smoothscroll:!0,run_reveal:!0,customCursor:!0,cursor:!1,imagetrail:!1,scroller:!1,menu__hover:!1,webp:!1,spike:0,homeblob:!1,footblob:!1}),actions:{set(e,t){this.hasOwnProperty(e)?this[e]=t:console.error("Store: state not found")}}});function Vr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var yi={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ml={duration:.5,overwrite:!1,delay:0},fv,En,Mt,Ri=1e8,gt=1/Ri,Kg=Math.PI*2,QR=Kg/4,e3=0,hS=Math.sqrt,t3=Math.cos,n3=Math.sin,on=function(t){return typeof t=="string"},Ot=function(t){return typeof t=="function"},ns=function(t){return typeof t=="number"},hv=function(t){return typeof t>"u"},Cr=function(t){return typeof t=="object"},Qn=function(t){return t!==!1},dv=function(){return typeof window<"u"},Hf=function(t){return Ot(t)||on(t)},dS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Tn=Array.isArray,Qg=/(?:-?\.?\d|\.)+/gi,pS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$a=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,gm=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,mS=/[+-]=-?[.\d]+/,gS=/[^,'"\[\]\s]+/gi,i3=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Dt,gr,ey,pv,_i={},wd={},yS,_S=function(t){return(wd=ea(t,_i))&&si},mv=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},Mu=function(t,n){return!n&&console.warn(t)},vS=function(t,n){return t&&(_i[t]=n)&&wd&&(wd[t]=n)||_i},Su=function(){return 0},r3={suppressEvents:!0,isStart:!0,kill:!1},jh={suppressEvents:!0,kill:!1},s3={suppressEvents:!0},gv={},Zs=[],ty={},xS,hi={},ym={},bx=30,qh=[],yv="",_v=function(t){var n=t[0],i,r;if(Cr(n)||Ot(n)||(t=[t]),!(i=(n._gsap||{}).harness)){for(r=qh.length;r--&&!qh[r].targetTest(n););i=qh[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new WS(t[r],i)))||t.splice(r,1);return t},Go=function(t){return t._gsap||_v(Oi(t))[0]._gsap},bS=function(t,n,i){return(i=t[n])&&Ot(i)?t[n]():hv(i)&&t.getAttribute&&t.getAttribute(n)||i},ei=function(t,n){return(t=t.split(",")).forEach(n)||t},Nt=function(t){return Math.round(t*1e5)/1e5||0},tn=function(t){return Math.round(t*1e7)/1e7||0},ll=function(t,n){var i=n.charAt(0),r=parseFloat(n.substr(2));return t=parseFloat(t),i==="+"?t+r:i==="-"?t-r:i==="*"?t*r:t/r},o3=function(t,n){for(var i=n.length,r=0;t.indexOf(n[r])<0&&++r<i;);return r<i},Md=function(){var t=Zs.length,n=Zs.slice(0),i,r;for(ty={},Zs.length=0,i=0;i<t;i++)r=n[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},wS=function(t,n,i,r){Zs.length&&!En&&Md(),t.render(n,i,r||En&&n<0&&(t._initted||t._startAt)),Zs.length&&!En&&Md()},MS=function(t){var n=parseFloat(t);return(n||n===0)&&(t+"").match(gS).length<2?n:on(t)?t.trim():t},SS=function(t){return t},zi=function(t,n){for(var i in n)i in t||(t[i]=n[i]);return t},a3=function(t){return function(n,i){for(var r in i)r in n||r==="duration"&&t||r==="ease"||(n[r]=i[r])}},ea=function(t,n){for(var i in n)t[i]=n[i];return t},wx=function e(t,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=Cr(n[i])?e(t[i]||(t[i]={}),n[i]):n[i]);return t},Sd=function(t,n){var i={},r;for(r in t)r in n||(i[r]=t[r]);return i},Xc=function(t){var n=t.parent||Dt,i=t.keyframes?a3(Tn(t.keyframes)):zi;if(Qn(t.inherit))for(;n;)i(t,n.vars.defaults),n=n.parent||n._dp;return t},l3=function(t,n){for(var i=t.length,r=i===n.length;r&&i--&&t[i]===n[i];);return i<0},ES=function(t,n,i,r,s){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=t[r],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=t[i],t[i]=n),n._next?n._next._prev=n:t[r]=n,n._prev=o,n.parent=n._dp=t,n},kp=function(t,n,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=n._prev,o=n._next;s?s._next=o:t[i]===n&&(t[i]=o),o?o._prev=s:t[r]===n&&(t[r]=s),n._next=n._prev=n.parent=null},ro=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Vo=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},c3=function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t},ny=function(t,n,i,r){return t._startAt&&(En?t._startAt.revert(jh):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,r))},u3=function e(t){return!t||t._ts&&e(t.parent)},Mx=function(t){return t._repeat?Sl(t._tTime,t=t.duration()+t._rDelay)*t:0},Sl=function(t,n){var i=Math.floor(t/=n);return t&&i===t?i-1:i},Ed=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Bp=function(t){return t._end=tn(t._start+(t._tDur/Math.abs(t._ts||t._rts||gt)||0))},Np=function(t,n){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=tn(i._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),Bp(t),i._dirty||Vo(i,t)),t},TS=function(t,n){var i;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(i=Ed(t.rawTime(),n),(!n._dur||Mf(0,n.totalDuration(),i)-n._tTime>gt)&&n.render(i,!0)),Vo(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-gt}},xr=function(t,n,i,r){return n.parent&&ro(n),n._start=tn((ns(i)?i:i||t!==Dt?Ti(t,i,n):t._time)+n._delay),n._end=tn(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),ES(t,n,"_first","_last",t._sort?"_start":0),iy(n)||(t._recent=n),r||TS(t,n),t._ts<0&&Np(t,t._tTime),t},DS=function(t,n){return(_i.ScrollTrigger||mv("scrollTrigger",n))&&_i.ScrollTrigger.create(n,t)},AS=function(t,n,i,r,s){if(xv(t,n,s),!t._initted)return 1;if(!i&&t._pt&&!En&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&xS!==pi.frame)return Zs.push(t),t._lazy=[s,r],1},f3=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},iy=function(t){var n=t.data;return n==="isFromStart"||n==="isStart"},h3=function(t,n,i,r){var s=t.ratio,o=n<0||!n&&(!t._start&&f3(t)&&!(!t._initted&&iy(t))||(t._ts<0||t._dp._ts<0)&&!iy(t))?0:1,a=t._rDelay,l=0,c,u,f;if(a&&t._repeat&&(l=Mf(0,t._tDur,n),u=Sl(l,a),t._yoyo&&u&1&&(o=1-o),u!==Sl(t._tTime,a)&&(s=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==s||En||r||t._zTime===gt||!n&&t._zTime){if(!t._initted&&AS(t,n,r,i,l))return;for(f=t._zTime,t._zTime=n||(i?gt:0),i||(i=n&&!f),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=l,c=t._pt;c;)c.r(o,c.d),c=c._next;n<0&&ny(t,n,i,!0),t._onUpdate&&!i&&gi(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&gi(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===o&&(o&&ro(t,1),!i&&!En&&(gi(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)},d3=function(t,n,i){var r;if(i>n)for(r=t._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>n)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<n)return r;r=r._prev}},El=function(t,n,i,r){var s=t._repeat,o=tn(n)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=s?s<0?1e10:tn(o*(s+1)+t._rDelay*s):o,a>0&&!r&&Np(t,t._tTime=t._tDur*a),t.parent&&Bp(t),i||Vo(t.parent,t),t},Sx=function(t){return t instanceof kn?Vo(t):El(t,t._dur)},p3={_start:0,endTime:Su,totalDuration:Su},Ti=function e(t,n,i){var r=t.labels,s=t._recent||p3,o=t.duration()>=Ri?s.endTime(!1):t._dur,a,l,c;return on(n)&&(isNaN(n)||n in r)?(l=n.charAt(0),c=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(n in r||(r[n]=o),r[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),c&&i&&(l=l/100*(Tn(i)?i[0]:i).totalDuration()),a>1?e(t,n.substr(0,a-1),i)+l:o+l)):n==null?o:+n},Yc=function(t,n,i){var r=ns(n[1]),s=(r?2:1)+(t<2?0:1),o=n[s],a,l;if(r&&(o.duration=n[1]),o.parent=i,t){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Qn(l.vars.inherit)&&l.parent;o.immediateRender=Qn(a.immediateRender),t<2?o.runBackwards=1:o.startAt=n[s-1]}return new Wt(n[0],o,n[s+1])},po=function(t,n){return t||t===0?n(t):n},Mf=function(t,n,i){return i<t?t:i>n?n:i},Mn=function(t,n){return!on(t)||!(n=i3.exec(t))?"":n[1]},m3=function(t,n,i){return po(i,function(r){return Mf(t,n,r)})},ry=[].slice,CS=function(t,n){return t&&Cr(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&Cr(t[0]))&&!t.nodeType&&t!==gr},g3=function(t,n,i){return i===void 0&&(i=[]),t.forEach(function(r){var s;return on(r)&&!n||CS(r,1)?(s=i).push.apply(s,Oi(r)):i.push(r)})||i},Oi=function(t,n,i){return Mt&&!n&&Mt.selector?Mt.selector(t):on(t)&&!i&&(ey||!Tl())?ry.call((n||pv).querySelectorAll(t),0):Tn(t)?g3(t,i):CS(t)?ry.call(t,0):t?[t]:[]},sy=function(t){return t=Oi(t)[0]||Mu("Invalid scope")||{},function(n){var i=t.current||t.nativeElement||t;return Oi(n,i.querySelectorAll?i:i===t?Mu("Invalid scope")||pv.createElement("div"):t)}},PS=function(t){return t.sort(function(){return .5-Math.random()})},LS=function(t){if(Ot(t))return t;var n=Cr(t)?t:{each:t},i=Wo(n.ease),r=n.from||0,s=parseFloat(n.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=n.axis,u=r,f=r;return on(r)?u=f={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],f=r[1]),function(d,h,p){var g=(p||n).length,_=o[g],m,y,x,v,b,M,S,A,E;if(!_){if(E=n.grid==="auto"?0:(n.grid||[1,Ri])[1],!E){for(S=-Ri;S<(S=p[E++].getBoundingClientRect().left)&&E<g;);E<g&&E--}for(_=o[g]=[],m=l?Math.min(E,g)*u-.5:r%E,y=E===Ri?0:l?g*f/E-.5:r/E|0,S=0,A=Ri,M=0;M<g;M++)x=M%E-m,v=y-(M/E|0),_[M]=b=c?Math.abs(c==="y"?v:x):hS(x*x+v*v),b>S&&(S=b),b<A&&(A=b);r==="random"&&PS(_),_.max=S-A,_.min=A,_.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(E>g?g-1:c?c==="y"?g/E:E:Math.max(E,g/E))||0)*(r==="edges"?-1:1),_.b=g<0?s-g:s,_.u=Mn(n.amount||n.each)||0,i=i&&g<0?HS(i):i}return g=(_[d]-_.min)/_.max||0,tn(_.b+(i?i(g):g)*_.v)+_.u}},oy=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=tn(Math.round(parseFloat(i)/t)*t*n);return(r-r%1)/n+(ns(i)?0:Mn(i))}},RS=function(t,n){var i=Tn(t),r,s;return!i&&Cr(t)&&(r=i=t.radius||Ri,t.values?(t=Oi(t.values),(s=!ns(t[0]))&&(r*=r)):t=oy(t.increment)),po(n,i?Ot(t)?function(o){return s=t(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Ri,u=0,f=t.length,d,h;f--;)s?(d=t[f].x-a,h=t[f].y-l,d=d*d+h*h):d=Math.abs(t[f]-a),d<c&&(c=d,u=f);return u=!r||c<=r?t[u]:o,s||u===o||ns(o)?u:u+Mn(o)}:oy(t))},OS=function(t,n,i,r){return po(Tn(t)?!n:i===!0?!!(i=0):!r,function(){return Tn(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(n-t+i*.99))/i)*i*r)/r})},y3=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(r){return n.reduce(function(s,o){return o(s)},r)}},_3=function(t,n){return function(i){return t(parseFloat(i))+(n||Mn(i))}},v3=function(t,n,i){return FS(t,n,0,1,i)},IS=function(t,n,i){return po(i,function(r){return t[~~n(r)]})},x3=function e(t,n,i){var r=n-t;return Tn(t)?IS(t,e(0,t.length),n):po(i,function(s){return(r+(s-t)%r)%r+t})},b3=function e(t,n,i){var r=n-t,s=r*2;return Tn(t)?IS(t,e(0,t.length-1),n):po(i,function(o){return o=(s+(o-t)%s)%s||0,t+(o>r?s-o:o)})},Eu=function(t){for(var n=0,i="",r,s,o,a;~(r=t.indexOf("random(",n));)o=t.indexOf(")",r),a=t.charAt(r+7)==="[",s=t.substr(r+7,o-r-7).match(a?gS:Qg),i+=t.substr(n,r-n)+OS(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return i+t.substr(n,t.length-n)},FS=function(t,n,i,r,s){var o=n-t,a=r-i;return po(s,function(l){return i+((l-t)/o*a||0)})},w3=function e(t,n,i,r){var s=isNaN(t+n)?0:function(h){return(1-h)*t+h*n};if(!s){var o=on(t),a={},l,c,u,f,d;if(i===!0&&(r=1)&&(i=null),o)t={p:t},n={p:n};else if(Tn(t)&&!Tn(n)){for(u=[],f=t.length,d=f-2,c=1;c<f;c++)u.push(e(t[c-1],t[c]));f--,s=function(p){p*=f;var g=Math.min(d,~~p);return u[g](p-g)},i=n}else r||(t=ea(Tn(t)?[]:{},t));if(!u){for(l in n)vv.call(a,t,l,"get",n[l]);s=function(p){return Mv(p,a)||(o?t.p:t)}}}return po(i,s)},Ex=function(t,n,i){var r=t.labels,s=Ri,o,a,l;for(o in r)a=r[o]-n,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},gi=function(t,n,i){var r=t.vars,s=r[n],o=Mt,a=t._ctx,l,c,u;if(s)return l=r[n+"Params"],c=r.callbackScope||t,i&&Zs.length&&Md(),a&&(Mt=a),u=l?s.apply(c,l):s.call(c),Mt=o,u},Dc=function(t){return ro(t),t.scrollTrigger&&t.scrollTrigger.kill(!!En),t.progress()<1&&gi(t,"onInterrupt"),t},Xa,kS=[],BS=function(t){if(t)if(t=!t.name&&t.default||t,dv()||t.headless){var n=t.name,i=Ot(t),r=n&&!i&&t.init?function(){this._props=[]}:t,s={init:Su,render:Mv,add:vv,kill:N3,modifier:B3,rawVars:0},o={targetTest:0,get:0,getSetter:wv,aliases:{},register:0};if(Tl(),t!==r){if(hi[n])return;zi(r,zi(Sd(t,s),o)),ea(r.prototype,ea(s,Sd(t,o))),hi[r.prop=n]=r,t.targetTest&&(qh.push(r),gv[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}vS(n,r),t.register&&t.register(si,r,ti)}else kS.push(t)},ft=255,Ac={aqua:[0,ft,ft],lime:[0,ft,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ft],navy:[0,0,128],white:[ft,ft,ft],olive:[128,128,0],yellow:[ft,ft,0],orange:[ft,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ft,0,0],pink:[ft,192,203],cyan:[0,ft,ft],transparent:[ft,ft,ft,0]},_m=function(t,n,i){return t+=t<0?1:t>1?-1:0,(t*6<1?n+(i-n)*t*6:t<.5?i:t*3<2?n+(i-n)*(2/3-t)*6:n)*ft+.5|0},NS=function(t,n,i){var r=t?ns(t)?[t>>16,t>>8&ft,t&ft]:0:Ac.black,s,o,a,l,c,u,f,d,h,p;if(!r){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Ac[t])r=Ac[t];else if(t.charAt(0)==="#"){if(t.length<6&&(s=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+s+s+o+o+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return r=parseInt(t.substr(1,6),16),[r>>16,r>>8&ft,r&ft,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),r=[t>>16,t>>8&ft,t&ft]}else if(t.substr(0,3)==="hsl"){if(r=p=t.match(Qg),!n)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,r.length>3&&(r[3]*=1),r[0]=_m(l+1/3,s,o),r[1]=_m(l,s,o),r[2]=_m(l-1/3,s,o);else if(~t.indexOf("="))return r=t.match(pS),i&&r.length<4&&(r[3]=1),r}else r=t.match(Qg)||Ac.transparent;r=r.map(Number)}return n&&!p&&(s=r[0]/ft,o=r[1]/ft,a=r[2]/ft,f=Math.max(s,o,a),d=Math.min(s,o,a),u=(f+d)/2,f===d?l=c=0:(h=f-d,c=u>.5?h/(2-f-d):h/(f+d),l=f===s?(o-a)/h+(o<a?6:0):f===o?(a-s)/h+2:(s-o)/h+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),i&&r.length<4&&(r[3]=1),r},zS=function(t){var n=[],i=[],r=-1;return t.split(Js).forEach(function(s){var o=s.match($a)||[];n.push.apply(n,o),i.push(r+=o.length+1)}),n.c=i,n},Tx=function(t,n,i){var r="",s=(t+r).match(Js),o=n?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return t;if(s=s.map(function(d){return(d=NS(d,n,1))&&o+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(u=zS(t),l=i.c,l.join(r)!==u.c.join(r)))for(c=t.replace(Js,"1").split($a),f=c.length-1;a<f;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(c=t.split(Js),f=c.length-1;a<f;a++)r+=c[a]+s[a];return r+c[f]},Js=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Ac)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),M3=/hsl[a]?\(/,US=function(t){var n=t.join(" "),i;if(Js.lastIndex=0,Js.test(n))return i=M3.test(n),t[1]=Tx(t[1],i),t[0]=Tx(t[0],i,zS(t[1])),!0},Tu,pi=function(){var e=Date.now,t=500,n=33,i=e(),r=i,s=1e3/240,o=s,a=[],l,c,u,f,d,h,p=function g(_){var m=e()-r,y=_===!0,x,v,b,M;if((m>t||m<0)&&(i+=m-n),r+=m,b=r-i,x=b-o,(x>0||y)&&(M=++f.frame,d=b-f.time*1e3,f.time=b=b/1e3,o+=x+(x>=s?4:s-x),v=1),y||(l=c(g)),v)for(h=0;h<a.length;h++)a[h](b,d,M,_)};return f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(_){return d/(1e3/(_||60))},wake:function(){yS&&(!ey&&dv()&&(gr=ey=window,pv=gr.document||{},_i.gsap=si,(gr.gsapVersions||(gr.gsapVersions=[])).push(si.version),_S(wd||gr.GreenSockGlobals||!gr.gsap&&gr||{}),kS.forEach(BS)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),c=u||function(_){return setTimeout(_,o-f.time*1e3+1|0)},Tu=1,p(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),Tu=0,c=Su},lagSmoothing:function(_,m){t=_||1/0,n=Math.min(m||33,t)},fps:function(_){s=1e3/(_||240),o=f.time*1e3+s},add:function(_,m,y){var x=m?function(v,b,M,S){_(v,b,M,S),f.remove(x)}:_;return f.remove(_),a[y?"unshift":"push"](x),Tl(),x},remove:function(_,m){~(m=a.indexOf(_))&&a.splice(m,1)&&h>=m&&h--},_listeners:a},f}(),Tl=function(){return!Tu&&pi.wake()},rt={},S3=/^[\d.\-M][\d.\-,\s]/,E3=/["']/g,T3=function(t){for(var n={},i=t.substr(1,t.length-3).split(":"),r=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),n[r]=isNaN(c)?c.replace(E3,"").trim():+c,r=l.substr(a+1).trim();return n},D3=function(t){var n=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",n);return t.substring(n,~r&&r<i?t.indexOf(")",i+1):i)},A3=function(t){var n=(t+"").split("("),i=rt[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[T3(n[1])]:D3(t).split(",").map(MS)):rt._CE&&S3.test(t)?rt._CE("",t):i},HS=function(t){return function(n){return 1-t(1-n)}},GS=function e(t,n){for(var i=t._first,r;i;)i instanceof kn?e(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Wo=function(t,n){return t&&(Ot(t)?t:rt[t]||A3(t))||n},ya=function(t,n,i,r){i===void 0&&(i=function(l){return 1-n(1-l)}),r===void 0&&(r=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:i,easeInOut:r},o;return ei(t,function(a){rt[a]=_i[a]=s,rt[o=a.toLowerCase()]=i;for(var l in s)rt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=rt[a+"."+l]=s[l]}),s},VS=function(t){return function(n){return n<.5?(1-t(1-n*2))/2:.5+t((n-.5)*2)/2}},vm=function e(t,n,i){var r=n>=1?n:1,s=(i||(t?.3:.45))/(n<1?n:1),o=s/Kg*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*n3((u-o)*s)+1},l=t==="out"?a:t==="in"?function(c){return 1-a(1-c)}:VS(a);return s=Kg/s,l.config=function(c,u){return e(t,c,u)},l},xm=function e(t,n){n===void 0&&(n=1.70158);var i=function(o){return o?--o*o*((n+1)*o+n)+1:0},r=t==="out"?i:t==="in"?function(s){return 1-i(1-s)}:VS(i);return r.config=function(s){return e(t,s)},r};ei("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;ya(e+",Power"+(n-1),t?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});rt.Linear.easeNone=rt.none=rt.Linear.easeIn;ya("Elastic",vm("in"),vm("out"),vm());(function(e,t){var n=1/t,i=2*n,r=2.5*n,s=function(a){return a<n?e*a*a:a<i?e*Math.pow(a-1.5/t,2)+.75:a<r?e*(a-=2.25/t)*a+.9375:e*Math.pow(a-2.625/t,2)+.984375};ya("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);ya("Expo",function(e){return e?Math.pow(2,10*(e-1)):0});ya("Circ",function(e){return-(hS(1-e*e)-1)});ya("Sine",function(e){return e===1?1:-t3(e*QR)+1});ya("Back",xm("in"),xm("out"),xm());rt.SteppedEase=rt.steps=_i.SteppedEase={config:function(t,n){t===void 0&&(t=1);var i=1/t,r=t+(n?0:1),s=n?1:0,o=1-gt;return function(a){return((r*Mf(0,o,a)|0)+s)*i}}};Ml.ease=rt["quad.out"];ei("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return yv+=e+","+e+"Params,"});var WS=function(t,n){this.id=e3++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:bS,this.set=n?n.getSetter:wv},Du=function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,El(this,+n.duration,1,1),this.data=n.data,Mt&&(this._ctx=Mt,Mt.data.push(this)),Tu||pi.wake()}var t=e.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,El(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(Tl(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Np(this,i),!s._dp||s.parent||TS(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&xr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===gt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),wS(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Mx(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Mx(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?Sl(this._tTime,s)+1:1},t.timeScale=function(i,r){if(!arguments.length)return this._rts===-gt?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?Ed(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-gt?0:this._rts,this.totalTime(Mf(-Math.abs(this._delay),this._tDur,s),r!==!1),Bp(this),c3(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Tl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==gt&&(this._tTime-=gt)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&xr(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(Qn(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ed(r.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=s3);var r=En;return En=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),En=r,this},t.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Sx(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,Sx(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(Ti(this,i),Qn(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Qn(r))},t.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-gt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-gt,this},t.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-gt)},t.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},t.then=function(i){var r=this;return new Promise(function(s){var o=Ot(i)?i:SS,a=function(){var c=r.then;r.then=null,Ot(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},t.kill=function(){Dc(this)},e}();zi(Du.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-gt,_prom:0,_ps:!1,_rts:1});var kn=function(e){fS(t,e);function t(i,r){var s;return i===void 0&&(i={}),s=e.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Qn(i.sortChildren),Dt&&xr(i.parent||Dt,Vr(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&DS(Vr(s),i.scrollTrigger),s}var n=t.prototype;return n.to=function(r,s,o){return Yc(0,arguments,this),this},n.from=function(r,s,o){return Yc(1,arguments,this),this},n.fromTo=function(r,s,o,a){return Yc(2,arguments,this),this},n.set=function(r,s,o){return s.duration=0,s.parent=this,Xc(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Wt(r,s,Ti(this,o),1),this},n.call=function(r,s,o){return xr(this,Wt.delayedCall(0,r,s),o)},n.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Wt(r,o,Ti(this,l)),this},n.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,Xc(o).immediateRender=Qn(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},n.staggerFromTo=function(r,s,o,a,l,c,u,f){return a.startAt=o,Xc(a).immediateRender=Qn(a.immediateRender),this.staggerTo(r,s,a,l,c,u,f)},n.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:tn(r),f=this._zTime<0!=r<0&&(this._initted||!c),d,h,p,g,_,m,y,x,v,b,M,S;if(this!==Dt&&u>l&&r>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),d=u,v=this._start,x=this._ts,m=!x,f&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(M=this._yoyo,_=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(_*100+r,s,o);if(d=tn(u%_),u===l?(g=this._repeat,d=c):(g=~~(u/_),g&&g===u/_&&(d=c,g--),d>c&&(d=c)),b=Sl(this._tTime,_),!a&&this._tTime&&b!==g&&this._tTime-b*_-this._dur<=0&&(b=g),M&&g&1&&(d=c-d,S=1),g!==b&&!this._lock){var A=M&&b&1,E=A===(M&&g&1);if(g<b&&(A=!A),a=A?0:u%c?c:u,this._lock=1,this.render(a||(S?0:tn(g*_)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&gi(this,"onRepeat"),this.vars.repeatRefresh&&!S&&(this.invalidate()._lock=1),a&&a!==this._time||m!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,E&&(this._lock=2,a=A?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!S&&this.invalidate()),this._lock=0,!this._ts&&!m)return this;GS(this,S)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=d3(this,tn(a),tn(d)),y&&(u-=d-(d=y._start))),this._tTime=u,this._time=d,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&d&&!s&&!g&&(gi(this,"onStart"),this._tTime!==u))return this;if(d>=a&&r>=0)for(h=this._first;h;){if(p=h._next,(h._act||d>=h._start)&&h._ts&&y!==h){if(h.parent!==this)return this.render(r,s,o);if(h.render(h._ts>0?(d-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(d-h._start)*h._ts,s,o),d!==this._time||!this._ts&&!m){y=0,p&&(u+=this._zTime=-gt);break}}h=p}else{h=this._last;for(var L=r<0?r:d;h;){if(p=h._prev,(h._act||L<=h._end)&&h._ts&&y!==h){if(h.parent!==this)return this.render(r,s,o);if(h.render(h._ts>0?(L-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(L-h._start)*h._ts,s,o||En&&(h._initted||h._startAt)),d!==this._time||!this._ts&&!m){y=0,p&&(u+=this._zTime=L?-gt:gt);break}}h=p}}if(y&&!s&&(this.pause(),y.render(d>=a?0:-gt)._zTime=d>=a?1:-1,this._ts))return this._start=v,Bp(this),this.render(r,s,o);this._onUpdate&&!s&&gi(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(v===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&ro(this,1),!s&&!(r<0&&!a)&&(u||a||!l)&&(gi(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(r,s){var o=this;if(ns(s)||(s=Ti(this,s,r)),!(r instanceof Du)){if(Tn(r))return r.forEach(function(a){return o.add(a,s)}),this;if(on(r))return this.addLabel(r,s);if(Ot(r))r=Wt.delayedCall(0,r);else return this}return this!==r?xr(this,r,s):this},n.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Ri);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Wt?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},n.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},n.remove=function(r){return on(r)?this.removeLabel(r):Ot(r)?this.killTweensOf(r):(kp(this,r),r===this._recent&&(this._recent=this._last),Vo(this))},n.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=tn(pi.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),e.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},n.addLabel=function(r,s){return this.labels[r]=Ti(this,s),this},n.removeLabel=function(r){return delete this.labels[r],this},n.addPause=function(r,s,o){var a=Wt.delayedCall(0,s||Su,o);return a.data="isPause",this._hasPause=1,xr(this,a,Ti(this,r))},n.removePause=function(r){var s=this._first;for(r=Ti(this,r);s;)s._start===r&&s.data==="isPause"&&ro(s),s=s._next},n.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)zs!==a[l]&&a[l].kill(r,s);return this},n.getTweensOf=function(r,s){for(var o=[],a=Oi(r),l=this._first,c=ns(s),u;l;)l instanceof Wt?o3(l._targets,a)&&(c?(!zs||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},n.tweenTo=function(r,s){s=s||{};var o=this,a=Ti(o,r),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,d=l.immediateRender,h,p=Wt.to(o,zi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||gt,onStart:function(){if(o.pause(),!h){var _=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());p._dur!==_&&El(p,_,0,1).render(p._time,!0,!0),h=1}u&&u.apply(p,f||[])}},s));return d?p.render(0):p},n.tweenFromTo=function(r,s,o){return this.tweenTo(s,zi({startAt:{time:Ti(this,r)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(r){return r===void 0&&(r=this._time),Ex(this,Ti(this,r))},n.previousLabel=function(r){return r===void 0&&(r=this._time),Ex(this,Ti(this,r),1)},n.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+gt)},n.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return Vo(this)},n.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return e.prototype.invalidate.call(this,r)},n.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Vo(this)},n.totalDuration=function(r){var s=0,o=this,a=o._last,l=Ri,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,xr(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;El(o,o===Dt&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(r){if(Dt._ts&&(wS(Dt,Ed(r,Dt)),xS=pi.frame),pi.frame>=bx){bx+=yi.autoSleep||120;var s=Dt._first;if((!s||!s._ts)&&yi.autoSleep&&pi._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||pi.sleep()}}},t}(Du);zi(kn.prototype,{_lock:0,_hasPause:0,_forcing:0});var C3=function(t,n,i,r,s,o,a){var l=new ti(this._pt,t,n,0,1,ZS,null,s),c=0,u=0,f,d,h,p,g,_,m,y;for(l.b=i,l.e=r,i+="",r+="",(m=~r.indexOf("random("))&&(r=Eu(r)),o&&(y=[i,r],o(y,t,n),i=y[0],r=y[1]),d=i.match(gm)||[];f=gm.exec(r);)p=f[0],g=r.substring(c,f.index),h?h=(h+1)%5:g.substr(-5)==="rgba("&&(h=1),p!==d[u++]&&(_=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:g||u===1?g:",",s:_,c:p.charAt(1)==="="?ll(_,p)-_:parseFloat(p)-_,m:h&&h<4?Math.round:0},c=gm.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(mS.test(r)||m)&&(l.e=0),this._pt=l,l},vv=function(t,n,i,r,s,o,a,l,c,u){Ot(r)&&(r=r(s||0,t,o));var f=t[n],d=i!=="get"?i:Ot(f)?c?t[n.indexOf("set")||!Ot(t["get"+n.substr(3)])?n:"get"+n.substr(3)](c):t[n]():f,h=Ot(f)?c?I3:XS:bv,p;if(on(r)&&(~r.indexOf("random(")&&(r=Eu(r)),r.charAt(1)==="="&&(p=ll(d,r)+(Mn(d)||0),(p||p===0)&&(r=p))),!u||d!==r||ay)return!isNaN(d*r)&&r!==""?(p=new ti(this._pt,t,n,+d||0,r-(d||0),typeof f=="boolean"?k3:YS,0,h),c&&(p.fp=c),a&&p.modifier(a,this,t),this._pt=p):(!f&&!(n in t)&&mv(n,r),C3.call(this,t,n,d,r,h,l||yi.stringFilter,c))},P3=function(t,n,i,r,s){if(Ot(t)&&(t=Zc(t,s,n,i,r)),!Cr(t)||t.style&&t.nodeType||Tn(t)||dS(t))return on(t)?Zc(t,s,n,i,r):t;var o={},a;for(a in t)o[a]=Zc(t[a],s,n,i,r);return o},jS=function(t,n,i,r,s,o){var a,l,c,u;if(hi[t]&&(a=new hi[t]).init(s,a.rawVars?n[t]:P3(n[t],r,s,o,i),i,r,o)!==!1&&(i._pt=l=new ti(i._pt,s,t,0,1,a.render,a,0,a.priority),i!==Xa))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},zs,ay,xv=function e(t,n,i){var r=t.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.runBackwards,f=r.yoyoEase,d=r.keyframes,h=r.autoRevert,p=t._dur,g=t._startAt,_=t._targets,m=t.parent,y=m&&m.data==="nested"?m.vars.targets:_,x=t._overwrite==="auto"&&!fv,v=t.timeline,b,M,S,A,E,L,N,R,H,U,z,F,V;if(v&&(!d||!s)&&(s="none"),t._ease=Wo(s,Ml.ease),t._yEase=f?HS(Wo(f===!0?s:f,Ml.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!v&&!!r.runBackwards,!v||d&&!r.stagger){if(R=_[0]?Go(_[0]).harness:0,F=R&&r[R.prop],b=Sd(r,gv),g&&(g._zTime<0&&g.progress(1),n<0&&u&&a&&!h?g.render(-1,!0):g.revert(u&&p?jh:r3),g._lazy=0),o){if(ro(t._startAt=Wt.set(_,zi({data:"isStart",overwrite:!1,parent:m,immediateRender:!0,lazy:!g&&Qn(l),startAt:null,delay:0,onUpdate:c&&function(){return gi(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(En||!a&&!h)&&t._startAt.revert(jh),a&&p&&n<=0&&i<=0){n&&(t._zTime=n);return}}else if(u&&p&&!g){if(n&&(a=!1),S=zi({overwrite:!1,data:"isFromStart",lazy:a&&!g&&Qn(l),immediateRender:a,stagger:0,parent:m},b),F&&(S[R.prop]=F),ro(t._startAt=Wt.set(_,S)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(En?t._startAt.revert(jh):t._startAt.render(-1,!0)),t._zTime=n,!a)e(t._startAt,gt,gt);else if(!n)return}for(t._pt=t._ptCache=0,l=p&&Qn(l)||l&&!p,M=0;M<_.length;M++){if(E=_[M],N=E._gsap||_v(_)[M]._gsap,t._ptLookup[M]=U={},ty[N.id]&&Zs.length&&Md(),z=y===_?M:y.indexOf(E),R&&(H=new R).init(E,F||b,t,z,y)!==!1&&(t._pt=A=new ti(t._pt,E,H.name,0,1,H.render,H,0,H.priority),H._props.forEach(function($){U[$]=A}),H.priority&&(L=1)),!R||F)for(S in b)hi[S]&&(H=jS(S,b,t,z,E,y))?H.priority&&(L=1):U[S]=A=vv.call(t,E,S,"get",b[S],z,y,0,r.stringFilter);t._op&&t._op[M]&&t.kill(E,t._op[M]),x&&t._pt&&(zs=t,Dt.killTweensOf(E,U,t.globalTime(n)),V=!t.parent,zs=0),t._pt&&l&&(ty[N.id]=1)}L&&JS(t),t._onInit&&t._onInit(t)}t._onUpdate=c,t._initted=(!t._op||t._pt)&&!V,d&&n<=0&&v.render(Ri,!0,!0)},L3=function(t,n,i,r,s,o,a,l){var c=(t._pt&&t._ptCache||(t._ptCache={}))[n],u,f,d,h;if(!c)for(c=t._ptCache[n]=[],d=t._ptLookup,h=t._targets.length;h--;){if(u=d[h][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return ay=1,t.vars[n]="+=0",xv(t,a),ay=0,l?Mu(n+" not eligible for reset"):1;c.push(u)}for(h=c.length;h--;)f=c[h],u=f._pt||f,u.s=(r||r===0)&&!s?r:u.s+(r||0)+o*u.c,u.c=i-u.s,f.e&&(f.e=Nt(i)+Mn(f.e)),f.b&&(f.b=u.s+Mn(f.b))},R3=function(t,n){var i=t[0]?Go(t[0]).harness:0,r=i&&i.aliases,s,o,a,l;if(!r)return n;s=ea({},n);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},O3=function(t,n,i,r){var s=n.ease||r||"power1.inOut",o,a;if(Tn(n))a=i[t]||(i[t]=[]),n.forEach(function(l,c){return a.push({t:c/(n.length-1)*100,v:l,e:s})});else for(o in n)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(t),v:n[o],e:s})},Zc=function(t,n,i,r,s){return Ot(t)?t.call(n,i,r,s):on(t)&&~t.indexOf("random(")?Eu(t):t},qS=yv+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$S={};ei(qS+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return $S[e]=1});var Wt=function(e){fS(t,e);function t(i,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=e.call(this,o?r:Xc(r))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,d=l.stagger,h=l.overwrite,p=l.keyframes,g=l.defaults,_=l.scrollTrigger,m=l.yoyoEase,y=r.parent||Dt,x=(Tn(i)||dS(i)?ns(i[0]):"length"in r)?[i]:Oi(i),v,b,M,S,A,E,L,N;if(a._targets=x.length?_v(x):Mu("GSAP target "+i+" not found. https://gsap.com",!yi.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=h,p||d||Hf(c)||Hf(u)){if(r=a.vars,v=a.timeline=new kn({data:"nested",defaults:g||{},targets:y&&y.data==="nested"?y.vars.targets:x}),v.kill(),v.parent=v._dp=Vr(a),v._start=0,d||Hf(c)||Hf(u)){if(S=x.length,L=d&&LS(d),Cr(d))for(A in d)~qS.indexOf(A)&&(N||(N={}),N[A]=d[A]);for(b=0;b<S;b++)M=Sd(r,$S),M.stagger=0,m&&(M.yoyoEase=m),N&&ea(M,N),E=x[b],M.duration=+Zc(c,Vr(a),b,E,x),M.delay=(+Zc(u,Vr(a),b,E,x)||0)-a._delay,!d&&S===1&&M.delay&&(a._delay=u=M.delay,a._start+=u,M.delay=0),v.to(E,M,L?L(b,E,x):0),v._ease=rt.none;v.duration()?c=u=0:a.timeline=0}else if(p){Xc(zi(v.vars.defaults,{ease:"none"})),v._ease=Wo(p.ease||r.ease||"none");var R=0,H,U,z;if(Tn(p))p.forEach(function(F){return v.to(x,F,">")}),v.duration();else{M={};for(A in p)A==="ease"||A==="easeEach"||O3(A,p[A],M,p.easeEach);for(A in M)for(H=M[A].sort(function(F,V){return F.t-V.t}),R=0,b=0;b<H.length;b++)U=H[b],z={ease:U.e,duration:(U.t-(b?H[b-1].t:0))/100*c},z[A]=U.v,v.to(x,z,R),R+=z.duration;v.duration()<c&&v.to({},{duration:c-v.duration()})}}c||a.duration(c=v.duration())}else a.timeline=0;return h===!0&&!fv&&(zs=Vr(a),Dt.killTweensOf(x),zs=0),xr(y,Vr(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(f||!c&&!p&&a._start===tn(y._time)&&Qn(f)&&u3(Vr(a))&&y.data!=="nested")&&(a._tTime=-gt,a.render(Math.max(0,-u)||0)),_&&DS(Vr(a),_),a}var n=t.prototype;return n.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,u=r<0,f=r>l-gt&&!u?l:r<gt?0:r,d,h,p,g,_,m,y,x,v;if(!c)h3(this,r,s,o);else if(f!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=f,x=this.timeline,this._repeat){if(g=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(g*100+r,s,o);if(d=tn(f%g),f===l?(p=this._repeat,d=c):(p=~~(f/g),p&&p===tn(f/g)&&(d=c,p--),d>c&&(d=c)),m=this._yoyo&&p&1,m&&(v=this._yEase,d=c-d),_=Sl(this._tTime,g),d===a&&!o&&this._initted&&p===_)return this._tTime=f,this;p!==_&&(x&&this._yEase&&GS(x,m),this.vars.repeatRefresh&&!m&&!this._lock&&this._time!==g&&this._initted&&(this._lock=o=1,this.render(tn(g*p),!0).invalidate()._lock=0))}if(!this._initted){if(AS(this,u?r:d,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&p!==_))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(v||this._ease)(d/c),this._from&&(this.ratio=y=1-y),d&&!a&&!s&&!p&&(gi(this,"onStart"),this._tTime!==f))return this;for(h=this._pt;h;)h.r(y,h.d),h=h._next;x&&x.render(r<0?r:x._dur*x._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&ny(this,r,s,o),gi(this,"onUpdate")),this._repeat&&p!==_&&this.vars.onRepeat&&!s&&this.parent&&gi(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&ny(this,r,!0,!0),(r||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&ro(this,1),!s&&!(u&&!a)&&(f||a||m)&&(gi(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),e.prototype.invalidate.call(this,r)},n.resetTo=function(r,s,o,a,l){Tu||pi.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||xv(this,c),u=this._ease(c/this._dur),L3(this,r,s,o,a,u,c,l)?this.resetTo(r,s,o,a,1):(Np(this,0),this.parent||ES(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Dc(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,zs&&zs.vars.overwrite!==!0)._first||Dc(this),this.parent&&o!==this.timeline.totalDuration()&&El(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?Oi(r):a,c=this._ptLookup,u=this._pt,f,d,h,p,g,_,m;if((!s||s==="all")&&l3(a,l))return s==="all"&&(this._pt=0),Dc(this);for(f=this._op=this._op||[],s!=="all"&&(on(s)&&(g={},ei(s,function(y){return g[y]=1}),s=g),s=R3(a,s)),m=a.length;m--;)if(~l.indexOf(a[m])){d=c[m],s==="all"?(f[m]=s,p=d,h={}):(h=f[m]=f[m]||{},p=s);for(g in p)_=d&&d[g],_&&((!("kill"in _.d)||_.d.kill(g)===!0)&&kp(this,_,"_pt"),delete d[g]),h!=="all"&&(h[g]=1)}return this._initted&&!this._pt&&u&&Dc(this),this},t.to=function(r,s){return new t(r,s,arguments[2])},t.from=function(r,s){return Yc(1,arguments)},t.delayedCall=function(r,s,o,a){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(r,s,o){return Yc(2,arguments)},t.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(r,s)},t.killTweensOf=function(r,s,o){return Dt.killTweensOf(r,s,o)},t}(Du);zi(Wt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ei("staggerTo,staggerFrom,staggerFromTo",function(e){Wt[e]=function(){var t=new kn,n=ry.call(arguments,0);return n.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,n)}});var bv=function(t,n,i){return t[n]=i},XS=function(t,n,i){return t[n](i)},I3=function(t,n,i,r){return t[n](r.fp,i)},F3=function(t,n,i){return t.setAttribute(n,i)},wv=function(t,n){return Ot(t[n])?XS:hv(t[n])&&t.setAttribute?F3:bv},YS=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e6)/1e6,n)},k3=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},ZS=function(t,n){var i=n._pt,r="";if(!t&&n.b)r=n.b;else if(t===1&&n.e)r=n.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+r,i=i._next;r+=n.c}n.set(n.t,n.p,r,n)},Mv=function(t,n){for(var i=n._pt;i;)i.r(t,i.d),i=i._next},B3=function(t,n,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(t,n,i),s=o},N3=function(t){for(var n=this._pt,i,r;n;)r=n._next,n.p===t&&!n.op||n.op===t?kp(this,n,"_pt"):n.dep||(i=1),n=r;return!i},z3=function(t,n,i,r){r.mSet(t,n,r.m.call(r.tween,i,r.mt),r)},JS=function(t){for(var n=t._pt,i,r,s,o;n;){for(i=n._next,r=s;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:o)?n._prev._next=n:s=n,(n._next=r)?r._prev=n:o=n,n=i}t._pt=s},ti=function(){function e(n,i,r,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||YS,this.d=l||this,this.set=c||bv,this.pr=u||0,this._next=n,n&&(n._prev=this)}var t=e.prototype;return t.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=z3,this.m=i,this.mt=s,this.tween=r},e}();ei(yv+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return gv[e]=1});_i.TweenMax=_i.TweenLite=Wt;_i.TimelineLite=_i.TimelineMax=kn;Dt=new kn({sortChildren:!1,defaults:Ml,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});yi.stringFilter=US;var jo=[],$h={},U3=[],Dx=0,H3=0,bm=function(t){return($h[t]||U3).map(function(n){return n()})},ly=function(){var t=Date.now(),n=[];t-Dx>2&&(bm("matchMediaInit"),jo.forEach(function(i){var r=i.queries,s=i.conditions,o,a,l,c;for(a in r)o=gr.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&n.push(i))}),bm("matchMediaRevert"),n.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),Dx=t,bm("matchMedia"))},KS=function(){function e(n,i){this.selector=i&&sy(i),this.data=[],this._r=[],this.isReverted=!1,this.id=H3++,n&&this.add(n)}var t=e.prototype;return t.add=function(i,r,s){Ot(i)&&(s=r,r=i,i=Ot);var o=this,a=function(){var c=Mt,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=sy(s)),Mt=o,f=r.apply(o,arguments),Ot(f)&&o._r.push(f),Mt=c,o.selector=u,o.isReverted=!1,f};return o.last=a,i===Ot?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},t.ignore=function(i){var r=Mt;Mt=null,i(this),Mt=r},t.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof e?i.push.apply(i,r.getTweens()):r instanceof Wt&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,r){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof kn?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Wt)&&c.revert&&c.revert(i);s._r.forEach(function(u){return u(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=jo.length;o--;)jo[o].id===this.id&&jo.splice(o,1)},t.revert=function(i){this.kill(i||{})},e}(),G3=function(){function e(n){this.contexts=[],this.scope=n,Mt&&Mt.data.push(this)}var t=e.prototype;return t.add=function(i,r,s){Cr(i)||(i={matches:i});var o=new KS(0,s||this.scope),a=o.conditions={},l,c,u;Mt&&!o.selector&&(o.selector=Mt.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(c in i)c==="all"?u=1:(l=gr.matchMedia(i[c]),l&&(jo.indexOf(o)<0&&jo.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(ly):l.addEventListener("change",ly)));return u&&r(o,function(f){return o.add(null,f)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},e}(),Td={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(function(r){return BS(r)})},timeline:function(t){return new kn(t)},getTweensOf:function(t,n){return Dt.getTweensOf(t,n)},getProperty:function(t,n,i,r){on(t)&&(t=Oi(t)[0]);var s=Go(t||{}).get,o=i?SS:MS;return i==="native"&&(i=""),t&&(n?o((hi[n]&&hi[n].get||s)(t,n,i,r)):function(a,l,c){return o((hi[a]&&hi[a].get||s)(t,a,l,c))})},quickSetter:function(t,n,i){if(t=Oi(t),t.length>1){var r=t.map(function(u){return si.quickSetter(u,n,i)}),s=r.length;return function(u){for(var f=s;f--;)r[f](u)}}t=t[0]||{};var o=hi[n],a=Go(t),l=a.harness&&(a.harness.aliases||{})[n]||n,c=o?function(u){var f=new o;Xa._pt=0,f.init(t,i?u+i:u,Xa,0,[t]),f.render(1,f),Xa._pt&&Mv(1,Xa)}:a.set(t,l);return o?c:function(u){return c(t,l,i?u+i:u,a,1)}},quickTo:function(t,n,i){var r,s=si.to(t,ea((r={},r[n]="+=0.1",r.paused=!0,r),i||{})),o=function(l,c,u){return s.resetTo(n,l,c,u)};return o.tween=s,o},isTweening:function(t){return Dt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Wo(t.ease,Ml.ease)),wx(Ml,t||{})},config:function(t){return wx(yi,t||{})},registerEffect:function(t){var n=t.name,i=t.effect,r=t.plugins,s=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!hi[a]&&!_i[a]&&Mu(n+" effect requires "+a+" plugin.")}),ym[n]=function(a,l,c){return i(Oi(a),zi(l||{},s),c)},o&&(kn.prototype[n]=function(a,l,c){return this.add(ym[n](a,Cr(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,n){rt[t]=Wo(n)},parseEase:function(t,n){return arguments.length?Wo(t,n):rt},getById:function(t){return Dt.getById(t)},exportRoot:function(t,n){t===void 0&&(t={});var i=new kn(t),r,s;for(i.smoothChildTiming=Qn(t.smoothChildTiming),Dt.remove(i),i._dp=0,i._time=i._tTime=Dt._time,r=Dt._first;r;)s=r._next,(n||!(!r._dur&&r instanceof Wt&&r.vars.onComplete===r._targets[0]))&&xr(i,r,r._start-r._delay),r=s;return xr(Dt,i,0),i},context:function(t,n){return t?new KS(t,n):Mt},matchMedia:function(t){return new G3(t)},matchMediaRefresh:function(){return jo.forEach(function(t){var n=t.conditions,i,r;for(r in n)n[r]&&(n[r]=!1,i=1);i&&t.revert()})||ly()},addEventListener:function(t,n){var i=$h[t]||($h[t]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function(t,n){var i=$h[t],r=i&&i.indexOf(n);r>=0&&i.splice(r,1)},utils:{wrap:x3,wrapYoyo:b3,distribute:LS,random:OS,snap:RS,normalize:v3,getUnit:Mn,clamp:m3,splitColor:NS,toArray:Oi,selector:sy,mapRange:FS,pipe:y3,unitize:_3,interpolate:w3,shuffle:PS},install:_S,effects:ym,ticker:pi,updateRoot:kn.updateRoot,plugins:hi,globalTimeline:Dt,core:{PropTween:ti,globals:vS,Tween:Wt,Timeline:kn,Animation:Du,getCache:Go,_removeLinkedListItem:kp,reverting:function(){return En},context:function(t){return t&&Mt&&(Mt.data.push(t),t._ctx=Mt),Mt},suppressOverwrites:function(t){return fv=t}}};ei("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Td[e]=Wt[e]});pi.add(kn.updateRoot);Xa=Td.to({},{duration:0});var V3=function(t,n){for(var i=t._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},W3=function(t,n){var i=t._targets,r,s,o;for(r in n)for(s=i.length;s--;)o=t._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=V3(o,r)),o&&o.modifier&&o.modifier(n[r],t,i[s],r))},wm=function(t,n){return{name:t,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(on(s)&&(l={},ei(s,function(u){return l[u]=1}),s=l),n){l={};for(c in s)l[c]=n(s[c]);s=l}W3(a,s)}}}},si=Td.registerPlugin({name:"attr",init:function(t,n,i,r,s){var o,a,l;this.tween=i;for(o in n)l=t.getAttribute(o)||"",a=this.add(t,"setAttribute",(l||0)+"",n[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(t,n){for(var i=n._pt;i;)En?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,n){for(var i=n.length;i--;)this.add(t,i,t[i]||0,n[i],0,0,0,0,0,1)}},wm("roundProps",oy),wm("modifiers"),wm("snap",RS))||Td;Wt.version=kn.version=si.version="3.12.5";yS=1;dv()&&Tl();rt.Power0;rt.Power1;rt.Power2;rt.Power3;rt.Power4;rt.Linear;rt.Quad;rt.Cubic;rt.Quart;rt.Quint;rt.Strong;rt.Elastic;rt.Back;rt.SteppedEase;rt.Bounce;rt.Sine;rt.Expo;rt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ax,Us,cl,Sv,ko,Cx,Ev,j3=function(){return typeof window<"u"},is={},Lo=180/Math.PI,ul=Math.PI/180,va=Math.atan2,Px=1e8,Tv=/([A-Z])/g,q3=/(left|right|width|margin|padding|x)/i,$3=/[\s,\(]\S/,wr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},cy=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},X3=function(t,n){return n.set(n.t,n.p,t===1?n.e:Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},Y3=function(t,n){return n.set(n.t,n.p,t?Math.round((n.s+n.c*t)*1e4)/1e4+n.u:n.b,n)},Z3=function(t,n){var i=n.s+n.c*t;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},QS=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},eE=function(t,n){return n.set(n.t,n.p,t!==1?n.b:n.e,n)},J3=function(t,n,i){return t.style[n]=i},K3=function(t,n,i){return t.style.setProperty(n,i)},Q3=function(t,n,i){return t._gsap[n]=i},eO=function(t,n,i){return t._gsap.scaleX=t._gsap.scaleY=i},tO=function(t,n,i,r,s){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},nO=function(t,n,i,r,s){var o=t._gsap;o[n]=i,o.renderTransform(s,o)},At="transform",ni=At+"Origin",iO=function e(t,n){var i=this,r=this.target,s=r.style,o=r._gsap;if(t in is&&s){if(this.tfm=this.tfm||{},t!=="transform")t=wr[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return i.tfm[a]=jr(r,a)}):this.tfm[t]=o.x?o[t]:jr(r,t),t===ni&&(this.tfm.zOrigin=o.zOrigin);else return wr.transform.split(",").forEach(function(a){return e.call(i,a,n)});if(this.props.indexOf(At)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ni,n,"")),t=At}(s||n)&&this.props.push(t,n,s[t])},tE=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},rO=function(){var t=this.props,n=this.target,i=n.style,r=n._gsap,s,o;for(s=0;s<t.length;s+=3)t[s+1]?n[t[s]]=t[s+2]:t[s+2]?i[t[s]]=t[s+2]:i.removeProperty(t[s].substr(0,2)==="--"?t[s]:t[s].replace(Tv,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=Ev(),(!s||!s.isStart)&&!i[At]&&(tE(i),r.zOrigin&&i[ni]&&(i[ni]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},nE=function(t,n){var i={target:t,props:[],revert:rO,save:iO};return t._gsap||si.core.getCache(t),n&&n.split(",").forEach(function(r){return i.save(r)}),i},iE,uy=function(t,n){var i=Us.createElementNS?Us.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Us.createElement(t);return i&&i.style?i:Us.createElement(t)},Er=function e(t,n,i){var r=getComputedStyle(t);return r[n]||r.getPropertyValue(n.replace(Tv,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&e(t,Dl(n)||n,1)||""},Lx="O,Moz,ms,Ms,Webkit".split(","),Dl=function(t,n,i){var r=n||ko,s=r.style,o=5;if(t in s&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(Lx[o]+t in s););return o<0?null:(o===3?"ms":o>=0?Lx[o]:"")+t},fy=function(){j3()&&window.document&&(Ax=window,Us=Ax.document,cl=Us.documentElement,ko=uy("div")||{style:{}},uy("div"),At=Dl(At),ni=At+"Origin",ko.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",iE=!!Dl("perspective"),Ev=si.core.reverting,Sv=1)},Mm=function e(t){var n=uy("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(cl.appendChild(n),n.appendChild(this),this.style.display="block",t)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),cl.removeChild(n),this.style.cssText=s,o},Rx=function(t,n){for(var i=n.length;i--;)if(t.hasAttribute(n[i]))return t.getAttribute(n[i])},rE=function(t){var n;try{n=t.getBBox()}catch{n=Mm.call(t,!0)}return n&&(n.width||n.height)||t.getBBox===Mm||(n=Mm.call(t,!0)),n&&!n.width&&!n.x&&!n.y?{x:+Rx(t,["x","cx","x1"])||0,y:+Rx(t,["y","cy","y1"])||0,width:0,height:0}:n},sE=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&rE(t))},ta=function(t,n){if(n){var i=t.style,r;n in is&&n!==ni&&(n=At),i.removeProperty?(r=n.substr(0,2),(r==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),i.removeProperty(r==="--"?n:n.replace(Tv,"-$1").toLowerCase())):i.removeAttribute(n)}},Hs=function(t,n,i,r,s,o){var a=new ti(t._pt,n,i,0,1,o?eE:QS);return t._pt=a,a.b=r,a.e=s,t._props.push(i),a},Ox={deg:1,rad:1,turn:1},sO={grid:1,flex:1},so=function e(t,n,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=ko.style,l=q3.test(n),c=t.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,d=r==="px",h=r==="%",p,g,_,m;if(r===o||!s||Ox[r]||Ox[o])return s;if(o!=="px"&&!d&&(s=e(t,n,i,"px")),m=t.getCTM&&sE(t),(h||o==="%")&&(is[n]||~n.indexOf("adius")))return p=m?t.getBBox()[l?"width":"height"]:t[u],Nt(h?s/p*f:s/100*p);if(a[l?"width":"height"]=f+(d?o:r),g=~n.indexOf("adius")||r==="em"&&t.appendChild&&!c?t:t.parentNode,m&&(g=(t.ownerSVGElement||{}).parentNode),(!g||g===Us||!g.appendChild)&&(g=Us.body),_=g._gsap,_&&h&&_.width&&l&&_.time===pi.time&&!_.uncache)return Nt(s/_.width*f);if(h&&(n==="height"||n==="width")){var y=t.style[n];t.style[n]=f+r,p=t[u],y?t.style[n]=y:ta(t,n)}else(h||o==="%")&&!sO[Er(g,"display")]&&(a.position=Er(t,"position")),g===t&&(a.position="static"),g.appendChild(ko),p=ko[u],g.removeChild(ko),a.position="absolute";return l&&h&&(_=Go(g),_.time=pi.time,_.width=g[u]),Nt(d?p*s/f:p&&s?f/p*s:0)},jr=function(t,n,i,r){var s;return Sv||fy(),n in wr&&n!=="transform"&&(n=wr[n],~n.indexOf(",")&&(n=n.split(",")[0])),is[n]&&n!=="transform"?(s=Cu(t,r),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:Ad(Er(t,ni))+" "+s.zOrigin+"px"):(s=t.style[n],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Dd[n]&&Dd[n](t,n,i)||Er(t,n)||bS(t,n)||(n==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?so(t,n,s,i)+i:s},oO=function(t,n,i,r){if(!i||i==="none"){var s=Dl(n,t,1),o=s&&Er(t,s,1);o&&o!==i?(n=s,i=o):n==="borderColor"&&(i=Er(t,"borderTopColor"))}var a=new ti(this._pt,t.style,n,0,1,ZS),l=0,c=0,u,f,d,h,p,g,_,m,y,x,v,b;if(a.b=i,a.e=r,i+="",r+="",r==="auto"&&(g=t.style[n],t.style[n]=r,r=Er(t,n)||r,g?t.style[n]=g:ta(t,n)),u=[i,r],US(u),i=u[0],r=u[1],d=i.match($a)||[],b=r.match($a)||[],b.length){for(;f=$a.exec(r);)_=f[0],y=r.substring(l,f.index),p?p=(p+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(p=1),_!==(g=d[c++]||"")&&(h=parseFloat(g)||0,v=g.substr((h+"").length),_.charAt(1)==="="&&(_=ll(h,_)+v),m=parseFloat(_),x=_.substr((m+"").length),l=$a.lastIndex-x.length,x||(x=x||yi.units[n]||v,l===r.length&&(r+=x,a.e+=x)),v!==x&&(h=so(t,n,g,x)||0),a._pt={_next:a._pt,p:y||c===1?y:",",s:h,c:m-h,m:p&&p<4||n==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=n==="display"&&r==="none"?eE:QS;return mS.test(r)&&(a.e=0),this._pt=a,a},Ix={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},aO=function(t){var n=t.split(" "),i=n[0],r=n[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(t=i,i=r,r=t),n[0]=Ix[i]||i,n[1]=Ix[r]||r,n.join(" ")},lO=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var i=n.t,r=i.style,s=n.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],is[a]&&(l=1,a=a==="transformOrigin"?ni:At),ta(i,a);l&&(ta(i,At),o&&(o.svg&&i.removeAttribute("transform"),Cu(i,1),o.uncache=1,tE(r)))}},Dd={clearProps:function(t,n,i,r,s){if(s.data!=="isFromStart"){var o=t._pt=new ti(t._pt,n,i,0,0,lO);return o.u=r,o.pr=-10,o.tween=s,t._props.push(i),1}}},Au=[1,0,0,1,0,0],oE={},aE=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Fx=function(t){var n=Er(t,At);return aE(n)?Au:n.substr(7).match(pS).map(Nt)},Dv=function(t,n){var i=t._gsap||Go(t),r=t.style,s=Fx(t),o,a,l,c;return i.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Au:s):(s===Au&&!t.offsetParent&&t!==cl&&!i.svg&&(l=r.display,r.display="block",o=t.parentNode,(!o||!t.offsetParent)&&(c=1,a=t.nextElementSibling,cl.appendChild(t)),s=Fx(t),l?r.display=l:ta(t,"display"),c&&(a?o.insertBefore(t,a):o?o.appendChild(t):cl.removeChild(t))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},hy=function(t,n,i,r,s,o){var a=t._gsap,l=s||Dv(t,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,h=l[0],p=l[1],g=l[2],_=l[3],m=l[4],y=l[5],x=n.split(" "),v=parseFloat(x[0])||0,b=parseFloat(x[1])||0,M,S,A,E;i?l!==Au&&(S=h*_-p*g)&&(A=v*(_/S)+b*(-g/S)+(g*y-_*m)/S,E=v*(-p/S)+b*(h/S)-(h*y-p*m)/S,v=A,b=E):(M=rE(t),v=M.x+(~x[0].indexOf("%")?v/100*M.width:v),b=M.y+(~(x[1]||x[0]).indexOf("%")?b/100*M.height:b)),r||r!==!1&&a.smooth?(m=v-c,y=b-u,a.xOffset=f+(m*h+y*g)-m,a.yOffset=d+(m*p+y*_)-y):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=b,a.smooth=!!r,a.origin=n,a.originIsAbsolute=!!i,t.style[ni]="0px 0px",o&&(Hs(o,a,"xOrigin",c,v),Hs(o,a,"yOrigin",u,b),Hs(o,a,"xOffset",f,a.xOffset),Hs(o,a,"yOffset",d,a.yOffset)),t.setAttribute("data-svg-origin",v+" "+b)},Cu=function(t,n){var i=t._gsap||new WS(t);if("x"in i&&!n&&!i.uncache)return i;var r=t.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(t),c=Er(t,ni)||"0",u,f,d,h,p,g,_,m,y,x,v,b,M,S,A,E,L,N,R,H,U,z,F,V,$,q,D,I,le,de,ge,ue;return u=f=d=g=_=m=y=x=v=0,h=p=1,i.svg=!!(t.getCTM&&sE(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[At]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[At]!=="none"?l[At]:"")),r.scale=r.rotate=r.translate="none"),S=Dv(t,i.svg),i.svg&&(i.uncache?($=t.getBBox(),c=i.xOrigin-$.x+"px "+(i.yOrigin-$.y)+"px",V=""):V=!n&&t.getAttribute("data-svg-origin"),hy(t,V||c,!!V||i.originIsAbsolute,i.smooth!==!1,S)),b=i.xOrigin||0,M=i.yOrigin||0,S!==Au&&(N=S[0],R=S[1],H=S[2],U=S[3],u=z=S[4],f=F=S[5],S.length===6?(h=Math.sqrt(N*N+R*R),p=Math.sqrt(U*U+H*H),g=N||R?va(R,N)*Lo:0,y=H||U?va(H,U)*Lo+g:0,y&&(p*=Math.abs(Math.cos(y*ul))),i.svg&&(u-=b-(b*N+M*H),f-=M-(b*R+M*U))):(ue=S[6],de=S[7],D=S[8],I=S[9],le=S[10],ge=S[11],u=S[12],f=S[13],d=S[14],A=va(ue,le),_=A*Lo,A&&(E=Math.cos(-A),L=Math.sin(-A),V=z*E+D*L,$=F*E+I*L,q=ue*E+le*L,D=z*-L+D*E,I=F*-L+I*E,le=ue*-L+le*E,ge=de*-L+ge*E,z=V,F=$,ue=q),A=va(-H,le),m=A*Lo,A&&(E=Math.cos(-A),L=Math.sin(-A),V=N*E-D*L,$=R*E-I*L,q=H*E-le*L,ge=U*L+ge*E,N=V,R=$,H=q),A=va(R,N),g=A*Lo,A&&(E=Math.cos(A),L=Math.sin(A),V=N*E+R*L,$=z*E+F*L,R=R*E-N*L,F=F*E-z*L,N=V,z=$),_&&Math.abs(_)+Math.abs(g)>359.9&&(_=g=0,m=180-m),h=Nt(Math.sqrt(N*N+R*R+H*H)),p=Nt(Math.sqrt(F*F+ue*ue)),A=va(z,F),y=Math.abs(A)>2e-4?A*Lo:0,v=ge?1/(ge<0?-ge:ge):0),i.svg&&(V=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!aE(Er(t,At)),V&&t.setAttribute("transform",V))),Math.abs(y)>90&&Math.abs(y)<270&&(s?(h*=-1,y+=g<=0?180:-180,g+=g<=0?180:-180):(p*=-1,y+=y<=0?180:-180)),n=n||i.uncache,i.x=u-((i.xPercent=u&&(!n&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=f-((i.yPercent=f&&(!n&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-f)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=Nt(h),i.scaleY=Nt(p),i.rotation=Nt(g)+a,i.rotationX=Nt(_)+a,i.rotationY=Nt(m)+a,i.skewX=y+a,i.skewY=x+a,i.transformPerspective=v+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!n&&i.zOrigin||0)&&(r[ni]=Ad(c)),i.xOffset=i.yOffset=0,i.force3D=yi.force3D,i.renderTransform=i.svg?uO:iE?lE:cO,i.uncache=0,i},Ad=function(t){return(t=t.split(" "))[0]+" "+t[1]},Sm=function(t,n,i){var r=Mn(n);return Nt(parseFloat(n)+parseFloat(so(t,"x",i+"px",r)))+r},cO=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,lE(t,n)},vo="0deg",uc="0px",xo=") ",lE=function(t,n){var i=n||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,f=i.rotationX,d=i.skewX,h=i.skewY,p=i.scaleX,g=i.scaleY,_=i.transformPerspective,m=i.force3D,y=i.target,x=i.zOrigin,v="",b=m==="auto"&&t&&t!==1||m===!0;if(x&&(f!==vo||u!==vo)){var M=parseFloat(u)*ul,S=Math.sin(M),A=Math.cos(M),E;M=parseFloat(f)*ul,E=Math.cos(M),o=Sm(y,o,S*E*-x),a=Sm(y,a,-Math.sin(M)*-x),l=Sm(y,l,A*E*-x+x)}_!==uc&&(v+="perspective("+_+xo),(r||s)&&(v+="translate("+r+"%, "+s+"%) "),(b||o!==uc||a!==uc||l!==uc)&&(v+=l!==uc||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+xo),c!==vo&&(v+="rotate("+c+xo),u!==vo&&(v+="rotateY("+u+xo),f!==vo&&(v+="rotateX("+f+xo),(d!==vo||h!==vo)&&(v+="skew("+d+", "+h+xo),(p!==1||g!==1)&&(v+="scale("+p+", "+g+xo),y.style[At]=v||"translate(0, 0)"},uO=function(t,n){var i=n||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,f=i.scaleX,d=i.scaleY,h=i.target,p=i.xOrigin,g=i.yOrigin,_=i.xOffset,m=i.yOffset,y=i.forceCSS,x=parseFloat(o),v=parseFloat(a),b,M,S,A,E;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=ul,c*=ul,b=Math.cos(l)*f,M=Math.sin(l)*f,S=Math.sin(l-c)*-d,A=Math.cos(l-c)*d,c&&(u*=ul,E=Math.tan(c-u),E=Math.sqrt(1+E*E),S*=E,A*=E,u&&(E=Math.tan(u),E=Math.sqrt(1+E*E),b*=E,M*=E)),b=Nt(b),M=Nt(M),S=Nt(S),A=Nt(A)):(b=f,A=d,M=S=0),(x&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(x=so(h,"x",o,"px"),v=so(h,"y",a,"px")),(p||g||_||m)&&(x=Nt(x+p-(p*b+g*S)+_),v=Nt(v+g-(p*M+g*A)+m)),(r||s)&&(E=h.getBBox(),x=Nt(x+r/100*E.width),v=Nt(v+s/100*E.height)),E="matrix("+b+","+M+","+S+","+A+","+x+","+v+")",h.setAttribute("transform",E),y&&(h.style[At]=E)},fO=function(t,n,i,r,s){var o=360,a=on(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Lo:1),c=l-r,u=r+c+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*Px)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*Px)%o-~~(c/o)*o)),t._pt=d=new ti(t._pt,n,i,r,c,X3),d.e=u,d.u="deg",t._props.push(i),d},kx=function(t,n){for(var i in n)t[i]=n[i];return t},hO=function(t,n,i){var r=kx({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,u,f,d,h,p;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[At]=n,a=Cu(i,1),ta(i,At),i.setAttribute("transform",c)):(c=getComputedStyle(i)[At],o[At]=n,a=Cu(i,1),o[At]=c);for(l in is)c=r[l],u=a[l],c!==u&&s.indexOf(l)<0&&(h=Mn(c),p=Mn(u),f=h!==p?so(i,l,c,p):parseFloat(c),d=parseFloat(u),t._pt=new ti(t._pt,a,l,f,d-f,cy),t._pt.u=p||0,t._props.push(l));kx(a,r)};ei("padding,margin,Width,Radius",function(e,t){var n="Top",i="Right",r="Bottom",s="Left",o=(t<3?[n,i,r,s]:[n+s,n+i,r+i,r+s]).map(function(a){return t<2?e+a:"border"+a+e});Dd[t>1?"border"+e:e]=function(a,l,c,u,f){var d,h;if(arguments.length<4)return d=o.map(function(p){return jr(a,p,c)}),h=d.join(" "),h.split(d[0]).length===5?d[0]:h;d=(u+"").split(" "),h={},o.forEach(function(p,g){return h[p]=d[g]=d[g]||d[(g-1)/2|0]}),a.init(l,h,f)}});var cE={name:"css",register:fy,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,i,r,s){var o=this._props,a=t.style,l=i.vars.startAt,c,u,f,d,h,p,g,_,m,y,x,v,b,M,S,A;Sv||fy(),this.styles=this.styles||nE(t),A=this.styles.props,this.tween=i;for(g in n)if(g!=="autoRound"&&(u=n[g],!(hi[g]&&jS(g,n,i,r,t,s)))){if(h=typeof u,p=Dd[g],h==="function"&&(u=u.call(i,r,t,s),h=typeof u),h==="string"&&~u.indexOf("random(")&&(u=Eu(u)),p)p(this,t,g,u,i)&&(S=1);else if(g.substr(0,2)==="--")c=(getComputedStyle(t).getPropertyValue(g)+"").trim(),u+="",Js.lastIndex=0,Js.test(c)||(_=Mn(c),m=Mn(u)),m?_!==m&&(c=so(t,g,c,m)+m):_&&(u+=_),this.add(a,"setProperty",c,u,r,s,0,0,g),o.push(g),A.push(g,0,a[g]);else if(h!=="undefined"){if(l&&g in l?(c=typeof l[g]=="function"?l[g].call(i,r,t,s):l[g],on(c)&&~c.indexOf("random(")&&(c=Eu(c)),Mn(c+"")||c==="auto"||(c+=yi.units[g]||Mn(jr(t,g))||""),(c+"").charAt(1)==="="&&(c=jr(t,g))):c=jr(t,g),d=parseFloat(c),y=h==="string"&&u.charAt(1)==="="&&u.substr(0,2),y&&(u=u.substr(2)),f=parseFloat(u),g in wr&&(g==="autoAlpha"&&(d===1&&jr(t,"visibility")==="hidden"&&f&&(d=0),A.push("visibility",0,a.visibility),Hs(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=wr[g],~g.indexOf(",")&&(g=g.split(",")[0]))),x=g in is,x){if(this.styles.save(g),v||(b=t._gsap,b.renderTransform&&!n.parseTransform||Cu(t,n.parseTransform),M=n.smoothOrigin!==!1&&b.smooth,v=this._pt=new ti(this._pt,a,At,0,1,b.renderTransform,b,0,-1),v.dep=1),g==="scale")this._pt=new ti(this._pt,b,"scaleY",b.scaleY,(y?ll(b.scaleY,y+f):f)-b.scaleY||0,cy),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){A.push(ni,0,a[ni]),u=aO(u),b.svg?hy(t,u,0,M,0,this):(m=parseFloat(u.split(" ")[2])||0,m!==b.zOrigin&&Hs(this,b,"zOrigin",b.zOrigin,m),Hs(this,a,g,Ad(c),Ad(u)));continue}else if(g==="svgOrigin"){hy(t,u,1,M,0,this);continue}else if(g in oE){fO(this,b,g,d,y?ll(d,y+u):u);continue}else if(g==="smoothOrigin"){Hs(this,b,"smooth",b.smooth,u);continue}else if(g==="force3D"){b[g]=u;continue}else if(g==="transform"){hO(this,u,t);continue}}else g in a||(g=Dl(g)||g);if(x||(f||f===0)&&(d||d===0)&&!$3.test(u)&&g in a)_=(c+"").substr((d+"").length),f||(f=0),m=Mn(u)||(g in yi.units?yi.units[g]:_),_!==m&&(d=so(t,g,c,m)),this._pt=new ti(this._pt,x?b:a,g,d,(y?ll(d,y+f):f)-d,!x&&(m==="px"||g==="zIndex")&&n.autoRound!==!1?Z3:cy),this._pt.u=m||0,_!==m&&m!=="%"&&(this._pt.b=c,this._pt.r=Y3);else if(g in a)oO.call(this,t,g,c,y?y+u:u);else if(g in t)this.add(t,g,c||t[g],y?y+u:u,r,s);else if(g!=="parseTransform"){mv(g,u);continue}x||(g in a?A.push(g,0,a[g]):A.push(g,1,c||t[g])),o.push(g)}}S&&JS(this)},render:function(t,n){if(n.tween._time||!Ev())for(var i=n._pt;i;)i.r(t,i.d),i=i._next;else n.styles.revert()},get:jr,aliases:wr,getSetter:function(t,n,i){var r=wr[n];return r&&r.indexOf(",")<0&&(n=r),n in is&&n!==ni&&(t._gsap.x||jr(t,"x"))?i&&Cx===i?n==="scale"?eO:Q3:(Cx=i||{})&&(n==="scale"?tO:nO):t.style&&!hv(t.style[n])?J3:~n.indexOf("-")?K3:wv(t,n)},core:{_removeProperty:ta,_getMatrix:Dv}};si.utils.checkPrefix=Dl;si.core.getStyleSaver=nE;(function(e,t,n,i){var r=ei(e+","+t+","+n,function(s){is[s]=1});ei(t,function(s){yi.units[s]="deg",oE[s]=1}),wr[r[13]]=e+","+t,ei(i,function(s){var o=s.split(":");wr[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ei("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){yi.units[e]="px"});si.registerPlugin(cE);var Pe=si.registerPlugin(cE)||si;Pe.core.Tween;const Gs=(e,t,n)=>(1-n)*e+n*t,dy=(e,t,n,i,r)=>(e-t)*(r-i)/(n-t)+i,uE=(e,t,n)=>e<=t?t:e>=n?n:e,fE=e=>{let t=0,n=0;return e||(e=window.event),document.documentElement.classList.contains("has-scroll-smooth")&&(e.pageX||e.pageY)?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft,n=e.clientY+document.body.scrollTop),{x:t,y:n}},dO=(e,t)=>(Math.random()*(t-e)+e).toFixed(2);function Cc(e){let t=e.parentNode.childNodes,n=0;for(let i=0;i<t.length;i++){if(t[i]==e)return n;t[i].nodeType==1&&n++}return-1}function hE(e){return e>=0&&e<this.length?this[e]:-1}function Vs(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function dE(){let e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)}const pE=Object.freeze(Object.defineProperty({__proto__:null,clamp:uE,eq:hE,getMousePos:fE,getRandomFloat:dO,indexInParent:Cc,isMobile:Vs,lerp:Gs,map:dy,triggerResize:dE},Symbol.toStringTag,{value:"Module"}));function Bx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pO(e,t,n){return t&&Bx(e.prototype,t),n&&Bx(e,n),e}/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var dn,Xh,mi,Ws,js,fl,mE,Ro,Jc,gE,Zr,Yi,yE,_E=function(){return dn||typeof window<"u"&&(dn=window.gsap)&&dn.registerPlugin&&dn},vE=1,Ya=[],et=[],Tr=[],Kc=Date.now,py=function(t,n){return n},mO=function(){var t=Jc.core,n=t.bridge||{},i=t._scrollers,r=t._proxies;i.push.apply(i,et),r.push.apply(r,Tr),et=i,Tr=r,py=function(o,a){return n[o](a)}},Ks=function(t,n){return~Tr.indexOf(t)&&Tr[Tr.indexOf(t)+1][n]},Qc=function(t){return!!~gE.indexOf(t)},Rn=function(t,n,i,r,s){return t.addEventListener(n,i,{passive:r!==!1,capture:!!s})},Cn=function(t,n,i,r){return t.removeEventListener(n,i,!!r)},Gf="scrollLeft",Vf="scrollTop",my=function(){return Zr&&Zr.isPressed||et.cache++},Cd=function(t,n){var i=function r(s){if(s||s===0){vE&&(mi.history.scrollRestoration="manual");var o=Zr&&Zr.isPressed;s=r.v=Math.round(s)||(Zr&&Zr.iOS?1:0),t(s),r.cacheID=et.cache,o&&py("ss",s)}else(n||et.cache!==r.cacheID||py("ref"))&&(r.cacheID=et.cache,r.v=t());return r.v+r.offset};return i.offset=0,t&&i},Bn={s:Gf,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Cd(function(e){return arguments.length?mi.scrollTo(e,Yt.sc()):mi.pageXOffset||Ws[Gf]||js[Gf]||fl[Gf]||0})},Yt={s:Vf,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Bn,sc:Cd(function(e){return arguments.length?mi.scrollTo(Bn.sc(),e):mi.pageYOffset||Ws[Vf]||js[Vf]||fl[Vf]||0})},Yn=function(t,n){return(n&&n._ctx&&n._ctx.selector||dn.utils.toArray)(t)[0]||(typeof t=="string"&&dn.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},oo=function(t,n){var i=n.s,r=n.sc;Qc(t)&&(t=Ws.scrollingElement||js);var s=et.indexOf(t),o=r===Yt.sc?1:2;!~s&&(s=et.push(t)-1),et[s+o]||Rn(t,"scroll",my);var a=et[s+o],l=a||(et[s+o]=Cd(Ks(t,i),!0)||(Qc(t)?r:Cd(function(c){return arguments.length?t[i]=c:t[i]})));return l.target=t,a||(l.smooth=dn.getProperty(t,"scrollBehavior")==="smooth"),l},gy=function(t,n,i){var r=t,s=t,o=Kc(),a=o,l=n||50,c=Math.max(500,l*3),u=function(p,g){var _=Kc();g||_-o>l?(s=r,r=p,a=o,o=_):i?r+=p:r=s+(p-s)/(_-a)*(o-a)},f=function(){s=r=i?0:r,a=o=0},d=function(p){var g=a,_=s,m=Kc();return(p||p===0)&&p!==r&&u(p),o===a||m-a>c?0:(r+(i?_:-_))/((i?m:o)-g)*1e3};return{update:u,reset:f,getVelocity:d}},fc=function(t,n){return n&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Nx=function(t){var n=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(n)>=Math.abs(i)?n:i},xE=function(){Jc=dn.core.globals().ScrollTrigger,Jc&&Jc.core&&mO()},bE=function(t){return dn=t||_E(),!Xh&&dn&&typeof document<"u"&&document.body&&(mi=window,Ws=document,js=Ws.documentElement,fl=Ws.body,gE=[mi,Ws,js,fl],dn.utils.clamp,yE=dn.core.context||function(){},Ro="onpointerenter"in fl?"pointer":"mouse",mE=Ut.isTouch=mi.matchMedia&&mi.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in mi||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Yi=Ut.eventTypes=("ontouchstart"in js?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in js?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return vE=0},500),xE(),Xh=1),Xh};Bn.op=Yt;et.cache=0;var Ut=function(){function e(n){this.init(n)}var t=e.prototype;return t.init=function(i){Xh||bE(dn)||console.warn("Please gsap.registerPlugin(Observer)"),Jc||xE();var r=i.tolerance,s=i.dragMinimum,o=i.type,a=i.target,l=i.lineHeight,c=i.debounce,u=i.preventDefault,f=i.onStop,d=i.onStopDelay,h=i.ignore,p=i.wheelSpeed,g=i.event,_=i.onDragStart,m=i.onDragEnd,y=i.onDrag,x=i.onPress,v=i.onRelease,b=i.onRight,M=i.onLeft,S=i.onUp,A=i.onDown,E=i.onChangeX,L=i.onChangeY,N=i.onChange,R=i.onToggleX,H=i.onToggleY,U=i.onHover,z=i.onHoverEnd,F=i.onMove,V=i.ignoreCheck,$=i.isNormalizer,q=i.onGestureStart,D=i.onGestureEnd,I=i.onWheel,le=i.onEnable,de=i.onDisable,ge=i.onClick,ue=i.scrollSpeed,K=i.capture,W=i.allowClicks,ee=i.lockAxis,ie=i.onLockAxis;this.target=a=Yn(a)||js,this.vars=i,h&&(h=dn.utils.toArray(h)),r=r||1e-9,s=s||0,p=p||1,ue=ue||1,o=o||"wheel,touch,pointer",c=c!==!1,l||(l=parseFloat(mi.getComputedStyle(fl).lineHeight)||22);var oe,Q,se,T,P,G,Z,w=this,C=0,J=0,j=i.passive||!u,k=oo(a,Bn),X=oo(a,Yt),re=k(),fe=X(),ne=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Yi[0]==="pointerdown",ce=Qc(a),_e=a.ownerDocument||Ws,xe=[0,0,0],ve=[0,0,0],we=0,$e=function(){return we=Kc()},Ge=function(te,ye){return(w.event=te)&&h&&~h.indexOf(te.target)||ye&&ne&&te.pointerType!=="touch"||V&&V(te,ye)},Wi=function(){w._vx.reset(),w._vy.reset(),Q.pause(),f&&f(w)},an=function(){var te=w.deltaX=Nx(xe),ye=w.deltaY=Nx(ve),pe=Math.abs(te)>=r,be=Math.abs(ye)>=r;N&&(pe||be)&&N(w,te,ye,xe,ve),pe&&(b&&w.deltaX>0&&b(w),M&&w.deltaX<0&&M(w),E&&E(w),R&&w.deltaX<0!=C<0&&R(w),C=w.deltaX,xe[0]=xe[1]=xe[2]=0),be&&(A&&w.deltaY>0&&A(w),S&&w.deltaY<0&&S(w),L&&L(w),H&&w.deltaY<0!=J<0&&H(w),J=w.deltaY,ve[0]=ve[1]=ve[2]=0),(T||se)&&(F&&F(w),se&&(y(w),se=!1),T=!1),G&&!(G=!1)&&ie&&ie(w),P&&(I(w),P=!1),oe=0},ji=function(te,ye,pe){xe[pe]+=te,ve[pe]+=ye,w._vx.update(te),w._vy.update(ye),c?oe||(oe=requestAnimationFrame(an)):an()},bt=function(te,ye){ee&&!Z&&(w.axis=Z=Math.abs(te)>Math.abs(ye)?"x":"y",G=!0),Z!=="y"&&(xe[2]+=te,w._vx.update(te,!0)),Z!=="x"&&(ve[2]+=ye,w._vy.update(ye,!0)),c?oe||(oe=requestAnimationFrame(an)):an()},Ft=function(te){if(!Ge(te,1)){te=fc(te,u);var ye=te.clientX,pe=te.clientY,be=ye-w.x,me=pe-w.y,De=w.isDragging;w.x=ye,w.y=pe,(De||Math.abs(w.startX-ye)>=s||Math.abs(w.startY-pe)>=s)&&(y&&(se=!0),De||(w.isDragging=!0),bt(be,me),De||_&&_(w))}},mn=w.onPress=function(Y){Ge(Y,1)||Y&&Y.button||(w.axis=Z=null,Q.pause(),w.isPressed=!0,Y=fc(Y),C=J=0,w.startX=w.x=Y.clientX,w.startY=w.y=Y.clientY,w._vx.reset(),w._vy.reset(),Rn($?a:_e,Yi[1],Ft,j,!0),w.deltaX=w.deltaY=0,x&&x(w))},Ze=w.onRelease=function(Y){if(!Ge(Y,1)){Cn($?a:_e,Yi[1],Ft,!0);var te=!isNaN(w.y-w.startY),ye=w.isDragging,pe=ye&&(Math.abs(w.x-w.startX)>3||Math.abs(w.y-w.startY)>3),be=fc(Y);!pe&&te&&(w._vx.reset(),w._vy.reset(),u&&W&&dn.delayedCall(.08,function(){if(Kc()-we>300&&!Y.defaultPrevented){if(Y.target.click)Y.target.click();else if(_e.createEvent){var me=_e.createEvent("MouseEvents");me.initMouseEvent("click",!0,!0,mi,1,be.screenX,be.screenY,be.clientX,be.clientY,!1,!1,!1,!1,0,null),Y.target.dispatchEvent(me)}}})),w.isDragging=w.isGesturing=w.isPressed=!1,f&&ye&&!$&&Q.restart(!0),m&&ye&&m(w),v&&v(w,pe)}},lr=function(te){return te.touches&&te.touches.length>1&&(w.isGesturing=!0)&&q(te,w.isDragging)},Wn=function(){return(w.isGesturing=!1)||D(w)},kt=function(te){if(!Ge(te)){var ye=k(),pe=X();ji((ye-re)*ue,(pe-fe)*ue,1),re=ye,fe=pe,f&&Q.restart(!0)}},jn=function(te){if(!Ge(te)){te=fc(te,u),I&&(P=!0);var ye=(te.deltaMode===1?l:te.deltaMode===2?mi.innerHeight:1)*p;ji(te.deltaX*ye,te.deltaY*ye,0),f&&!$&&Q.restart(!0)}},kr=function(te){if(!Ge(te)){var ye=te.clientX,pe=te.clientY,be=ye-w.x,me=pe-w.y;w.x=ye,w.y=pe,T=!0,f&&Q.restart(!0),(be||me)&&bt(be,me)}},ms=function(te){w.event=te,U(w)},B=function(te){w.event=te,z(w)},ae=function(te){return Ge(te)||fc(te,u)&&ge(w)};Q=w._dc=dn.delayedCall(d||.25,Wi).pause(),w.deltaX=w.deltaY=0,w._vx=gy(0,50,!0),w._vy=gy(0,50,!0),w.scrollX=k,w.scrollY=X,w.isDragging=w.isGesturing=w.isPressed=!1,yE(this),w.enable=function(Y){return w.isEnabled||(Rn(ce?_e:a,"scroll",my),o.indexOf("scroll")>=0&&Rn(ce?_e:a,"scroll",kt,j,K),o.indexOf("wheel")>=0&&Rn(a,"wheel",jn,j,K),(o.indexOf("touch")>=0&&mE||o.indexOf("pointer")>=0)&&(Rn(a,Yi[0],mn,j,K),Rn(_e,Yi[2],Ze),Rn(_e,Yi[3],Ze),W&&Rn(a,"click",$e,!0,!0),ge&&Rn(a,"click",ae),q&&Rn(_e,"gesturestart",lr),D&&Rn(_e,"gestureend",Wn),U&&Rn(a,Ro+"enter",ms),z&&Rn(a,Ro+"leave",B),F&&Rn(a,Ro+"move",kr)),w.isEnabled=!0,Y&&Y.type&&mn(Y),le&&le(w)),w},w.disable=function(){w.isEnabled&&(Ya.filter(function(Y){return Y!==w&&Qc(Y.target)}).length||Cn(ce?_e:a,"scroll",my),w.isPressed&&(w._vx.reset(),w._vy.reset(),Cn($?a:_e,Yi[1],Ft,!0)),Cn(ce?_e:a,"scroll",kt,K),Cn(a,"wheel",jn,K),Cn(a,Yi[0],mn,K),Cn(_e,Yi[2],Ze),Cn(_e,Yi[3],Ze),Cn(a,"click",$e,!0),Cn(a,"click",ae),Cn(_e,"gesturestart",lr),Cn(_e,"gestureend",Wn),Cn(a,Ro+"enter",ms),Cn(a,Ro+"leave",B),Cn(a,Ro+"move",kr),w.isEnabled=w.isPressed=w.isDragging=!1,de&&de(w))},w.kill=w.revert=function(){w.disable();var Y=Ya.indexOf(w);Y>=0&&Ya.splice(Y,1),Zr===w&&(Zr=0)},Ya.push(w),$&&Qc(a)&&(Zr=w),w.enable(g)},pO(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();Ut.version="3.12.5";Ut.create=function(e){return new Ut(e)};Ut.register=bE;Ut.getAll=function(){return Ya.slice()};Ut.getById=function(e){return Ya.filter(function(t){return t.vars.id===e})[0]};_E()&&dn.registerPlugin(Ut);/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ae,Ha,it,Et,Qi,_t,wE,Pd,Pu,eu,Pc,Wf,vn,zp,yy,In,zx,Ux,Ga,ME,Em,SE,On,_y,EE,TE,Ps,vy,Av,hl,Cv,Ld,xy,Tm,jf=1,bn=Date.now,Dm=bn(),ki=0,Lc=0,Hx=function(t,n,i){var r=fi(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return i["_"+n+"Clamp"]=r,r?t.substr(6,t.length-7):t},Gx=function(t,n){return n&&(!fi(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},gO=function e(){return Lc&&requestAnimationFrame(e)},Vx=function(){return zp=1},Wx=function(){return zp=0},yr=function(t){return t},Rc=function(t){return Math.round(t*1e5)/1e5||0},DE=function(){return typeof window<"u"},AE=function(){return Ae||DE()&&(Ae=window.gsap)&&Ae.registerPlugin&&Ae},na=function(t){return!!~wE.indexOf(t)},CE=function(t){return(t==="Height"?Cv:it["inner"+t])||Qi["client"+t]||_t["client"+t]},PE=function(t){return Ks(t,"getBoundingClientRect")||(na(t)?function(){return Qh.width=it.innerWidth,Qh.height=Cv,Qh}:function(){return Xr(t)})},yO=function(t,n,i){var r=i.d,s=i.d2,o=i.a;return(o=Ks(t,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(n?CE(s):t["client"+s])||0}},_O=function(t,n){return!n||~Tr.indexOf(t)?PE(t):function(){return Qh}},Mr=function(t,n){var i=n.s,r=n.d2,s=n.d,o=n.a;return Math.max(0,(i="scroll"+r)&&(o=Ks(t,i))?o()-PE(t)()[s]:na(t)?(Qi[i]||_t[i])-CE(r):t[i]-t["offset"+r])},qf=function(t,n){for(var i=0;i<Ga.length;i+=3)(!n||~n.indexOf(Ga[i+1]))&&t(Ga[i],Ga[i+1],Ga[i+2])},fi=function(t){return typeof t=="string"},Nn=function(t){return typeof t=="function"},Oc=function(t){return typeof t=="number"},Oo=function(t){return typeof t=="object"},hc=function(t,n,i){return t&&t.progress(n?0:1)&&i&&t.pause()},Am=function(t,n){if(t.enabled){var i=t._ctx?t._ctx.add(function(){return n(t)}):n(t);i&&i.totalTime&&(t.callbackAnimation=i)}},xa=Math.abs,LE="left",RE="top",Pv="right",Lv="bottom",qo="width",$o="height",tu="Right",nu="Left",iu="Top",ru="Bottom",Vt="padding",Ai="margin",Al="Width",Rv="Height",Xt="px",Ci=function(t){return it.getComputedStyle(t)},vO=function(t){var n=Ci(t).position;t.style.position=n==="absolute"||n==="fixed"?n:"relative"},jx=function(t,n){for(var i in n)i in t||(t[i]=n[i]);return t},Xr=function(t,n){var i=n&&Ci(t)[yy]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ae.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},Rd=function(t,n){var i=n.d2;return t["offset"+i]||t["client"+i]||0},OE=function(t){var n=[],i=t.labels,r=t.duration(),s;for(s in i)n.push(i[s]/r);return n},xO=function(t){return function(n){return Ae.utils.snap(OE(t),n)}},Ov=function(t){var n=Ae.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(r,s){return r-s});return i?function(r,s,o){o===void 0&&(o=.001);var a;if(!s)return n(r);if(s>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}else for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,s,o){o===void 0&&(o=.001);var a=n(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:n(s<0?r-t:r+t)}},bO=function(t){return function(n,i){return Ov(OE(t))(n,i.direction)}},$f=function(t,n,i,r){return i.split(",").forEach(function(s){return t(n,s,r)})},Qt=function(t,n,i,r,s){return t.addEventListener(n,i,{passive:!r,capture:!!s})},Kt=function(t,n,i,r){return t.removeEventListener(n,i,!!r)},Xf=function(t,n,i){i=i&&i.wheelHandler,i&&(t(n,"wheel",i),t(n,"touchmove",i))},qx={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Yf={toggleActions:"play",anticipatePin:0},Od={top:0,left:0,center:.5,bottom:1,right:1},Yh=function(t,n){if(fi(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=n/100),t=t.substr(0,i-1)),t=r+(t in Od?Od[t]*n:~t.indexOf("%")?parseFloat(t)*n/100:parseFloat(t)||0)}return t},Zf=function(t,n,i,r,s,o,a,l){var c=s.startColor,u=s.endColor,f=s.fontSize,d=s.indent,h=s.fontWeight,p=Et.createElement("div"),g=na(i)||Ks(i,"pinType")==="fixed",_=t.indexOf("scroller")!==-1,m=g?_t:i,y=t.indexOf("start")!==-1,x=y?c:u,v="border-color:"+x+";font-size:"+f+";color:"+x+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return v+="position:"+((_||l)&&g?"fixed;":"absolute;"),(_||l||!g)&&(v+=(r===Yt?Pv:Lv)+":"+(o+parseFloat(d))+"px;"),a&&(v+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=y,p.setAttribute("class","gsap-marker-"+t+(n?" marker-"+n:"")),p.style.cssText=v,p.innerText=n||n===0?t+"-"+n:t,m.children[0]?m.insertBefore(p,m.children[0]):m.appendChild(p),p._offset=p["offset"+r.op.d2],Zh(p,0,r,y),p},Zh=function(t,n,i,r){var s={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];t._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+o+Al]=1,s["border"+a+Al]=0,s[i.p]=n+"px",Ae.set(t,s)},Ke=[],by={},Lu,$x=function(){return bn()-ki>34&&(Lu||(Lu=requestAnimationFrame(Qr)))},ba=function(){(!On||!On.isPressed||On.startX>_t.clientWidth)&&(et.cache++,On?Lu||(Lu=requestAnimationFrame(Qr)):Qr(),ki||ra("scrollStart"),ki=bn())},Cm=function(){TE=it.innerWidth,EE=it.innerHeight},Ic=function(){et.cache++,!vn&&!SE&&!Et.fullscreenElement&&!Et.webkitFullscreenElement&&(!_y||TE!==it.innerWidth||Math.abs(it.innerHeight-EE)>it.innerHeight*.25)&&Pd.restart(!0)},ia={},wO=[],IE=function e(){return Kt(Ye,"scrollEnd",e)||Bo(!0)},ra=function(t){return ia[t]&&ia[t].map(function(n){return n()})||wO},ui=[],FE=function(t){for(var n=0;n<ui.length;n+=5)(!t||ui[n+4]&&ui[n+4].query===t)&&(ui[n].style.cssText=ui[n+1],ui[n].getBBox&&ui[n].setAttribute("transform",ui[n+2]||""),ui[n+3].uncache=1)},Iv=function(t,n){var i;for(In=0;In<Ke.length;In++)i=Ke[In],i&&(!n||i._ctx===n)&&(t?i.kill(1):i.revert(!0,!0));Ld=!0,n&&FE(n),n||ra("revert")},kE=function(t,n){et.cache++,(n||!Fn)&&et.forEach(function(i){return Nn(i)&&i.cacheID++&&(i.rec=0)}),fi(t)&&(it.history.scrollRestoration=Av=t)},Fn,Xo=0,Xx,MO=function(){if(Xx!==Xo){var t=Xx=Xo;requestAnimationFrame(function(){return t===Xo&&Bo(!0)})}},BE=function(){_t.appendChild(hl),Cv=!On&&hl.offsetHeight||it.innerHeight,_t.removeChild(hl)},Yx=function(t){return Pu(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=t?"none":"block"})},Bo=function(t,n){if(ki&&!t&&!Ld){Qt(Ye,"scrollEnd",IE);return}BE(),Fn=Ye.isRefreshing=!0,et.forEach(function(r){return Nn(r)&&++r.cacheID&&(r.rec=r())});var i=ra("refreshInit");ME&&Ye.sort(),n||Iv(),et.forEach(function(r){Nn(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Ke.slice(0).forEach(function(r){return r.refresh()}),Ld=!1,Ke.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-o),r.refresh()}}),xy=1,Yx(!0),Ke.forEach(function(r){var s=Mr(r.scroller,r._dir),o=r.vars.end==="max"||r._endClamp&&r.end>s,a=r._startClamp&&r.start>=s;(o||a)&&r.setPositions(a?s-1:r.start,o?Math.max(a?s:r.start+1,s):r.end,!0)}),Yx(!1),xy=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),et.forEach(function(r){Nn(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),kE(Av,1),Pd.pause(),Xo++,Fn=2,Qr(2),Ke.forEach(function(r){return Nn(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Fn=Ye.isRefreshing=!1,ra("refresh")},wy=0,Jh=1,su,Qr=function(t){if(t===2||!Fn&&!Ld){Ye.isUpdating=!0,su&&su.update(0);var n=Ke.length,i=bn(),r=i-Dm>=50,s=n&&Ke[0].scroll();if(Jh=wy>s?-1:1,Fn||(wy=s),r&&(ki&&!zp&&i-ki>200&&(ki=0,ra("scrollEnd")),Pc=Dm,Dm=i),Jh<0){for(In=n;In-- >0;)Ke[In]&&Ke[In].update(0,r);Jh=1}else for(In=0;In<n;In++)Ke[In]&&Ke[In].update(0,r);Ye.isUpdating=!1}Lu=0},My=[LE,RE,Lv,Pv,Ai+ru,Ai+tu,Ai+iu,Ai+nu,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Kh=My.concat([qo,$o,"boxSizing","max"+Al,"max"+Rv,"position",Ai,Vt,Vt+iu,Vt+tu,Vt+ru,Vt+nu]),SO=function(t,n,i){dl(i);var r=t._gsap;if(r.spacerIsNative)dl(r.spacerState);else if(t._gsap.swappedIn){var s=n.parentNode;s&&(s.insertBefore(t,n),s.removeChild(n))}t._gsap.swappedIn=!1},Pm=function(t,n,i,r){if(!t._gsap.swappedIn){for(var s=My.length,o=n.style,a=t.style,l;s--;)l=My[s],o[l]=i[l];o.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(o.display="inline-block"),a[Lv]=a[Pv]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[qo]=Rd(t,Bn)+Xt,o[$o]=Rd(t,Yt)+Xt,o[Vt]=a[Ai]=a[RE]=a[LE]="0",dl(r),a[qo]=a["max"+Al]=i[qo],a[$o]=a["max"+Rv]=i[$o],a[Vt]=i[Vt],t.parentNode!==n&&(t.parentNode.insertBefore(n,t),n.appendChild(t)),t._gsap.swappedIn=!0}},EO=/([A-Z])/g,dl=function(t){if(t){var n=t.t.style,i=t.length,r=0,s,o;for((t.t._gsap||Ae.core.getCache(t.t)).uncache=1;r<i;r+=2)o=t[r+1],s=t[r],o?n[s]=o:n[s]&&n.removeProperty(s.replace(EO,"-$1").toLowerCase())}},Jf=function(t){for(var n=Kh.length,i=t.style,r=[],s=0;s<n;s++)r.push(Kh[s],i[Kh[s]]);return r.t=t,r},TO=function(t,n,i){for(var r=[],s=t.length,o=i?8:0,a;o<s;o+=2)a=t[o],r.push(a,a in n?n[a]:t[o+1]);return r.t=t.t,r},Qh={left:0,top:0},Zx=function(t,n,i,r,s,o,a,l,c,u,f,d,h,p){Nn(t)&&(t=t(l)),fi(t)&&t.substr(0,3)==="max"&&(t=d+(t.charAt(4)==="="?Yh("0"+t.substr(3),i):0));var g=h?h.time():0,_,m,y;if(h&&h.seek(0),isNaN(t)||(t=+t),Oc(t))h&&(t=Ae.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,d,t)),a&&Zh(a,i,r,!0);else{Nn(n)&&(n=n(l));var x=(t||"0").split(" "),v,b,M,S;y=Yn(n,l)||_t,v=Xr(y)||{},(!v||!v.left&&!v.top)&&Ci(y).display==="none"&&(S=y.style.display,y.style.display="block",v=Xr(y),S?y.style.display=S:y.style.removeProperty("display")),b=Yh(x[0],v[r.d]),M=Yh(x[1]||"0",i),t=v[r.p]-c[r.p]-u+b+s-M,a&&Zh(a,M,r,i-M<20||a._isStart&&M>20),i-=i-M}if(p&&(l[p]=t||-.001,t<0&&(t=0)),o){var A=t+i,E=o._isStart;_="scroll"+r.d2,Zh(o,A,r,E&&A>20||!E&&(f?Math.max(_t[_],Qi[_]):o.parentNode[_])<=A+1),f&&(c=Xr(a),f&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+Xt))}return h&&y&&(_=Xr(y),h.seek(d),m=Xr(y),h._caScrollDist=_[r.p]-m[r.p],t=t/h._caScrollDist*d),h&&h.seek(g),h?t:Math.round(t)},DO=/(webkit|moz|length|cssText|inset)/i,Jx=function(t,n,i,r){if(t.parentNode!==n){var s=t.style,o,a;if(n===_t){t._stOrig=s.cssText,a=Ci(t);for(o in a)!+o&&!DO.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=t._stOrig;Ae.core.getCache(t).uncache=1,n.appendChild(t)}},NE=function(t,n,i){var r=n,s=r;return function(o){var a=Math.round(t());return a!==r&&a!==s&&Math.abs(a-r)>3&&Math.abs(a-s)>3&&(o=a,i&&i()),s=r,r=o,o}},Kf=function(t,n,i){var r={};r[n.p]="+="+i,Ae.set(t,r)},Kx=function(t,n){var i=oo(t,n),r="_scroll"+n.p2,s=function o(a,l,c,u,f){var d=o.tween,h=l.onComplete,p={};c=c||i();var g=NE(i,c,function(){d.kill(),o.tween=0});return f=u&&f||0,u=u||a-c,d&&d.kill(),l[r]=a,l.inherit=!1,l.modifiers=p,p[r]=function(){return g(c+u*d.ratio+f*d.ratio*d.ratio)},l.onUpdate=function(){et.cache++,o.tween&&Qr()},l.onComplete=function(){o.tween=0,h&&h.call(d)},d=o.tween=Ae.to(t,l),d};return t[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Qt(t,"wheel",i.wheelHandler),Ye.isTouch&&Qt(t,"touchmove",i.wheelHandler),s},Ye=function(){function e(n,i){Ha||e.register(Ae)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),vy(this),this.init(n,i)}var t=e.prototype;return t.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Lc){this.update=this.refresh=this.kill=yr;return}i=jx(fi(i)||Oc(i)||i.nodeType?{trigger:i}:i,Yf);var s=i,o=s.onUpdate,a=s.toggleClass,l=s.id,c=s.onToggle,u=s.onRefresh,f=s.scrub,d=s.trigger,h=s.pin,p=s.pinSpacing,g=s.invalidateOnRefresh,_=s.anticipatePin,m=s.onScrubComplete,y=s.onSnapComplete,x=s.once,v=s.snap,b=s.pinReparent,M=s.pinSpacer,S=s.containerAnimation,A=s.fastScrollEnd,E=s.preventOverlaps,L=i.horizontal||i.containerAnimation&&i.horizontal!==!1?Bn:Yt,N=!f&&f!==0,R=Yn(i.scroller||it),H=Ae.core.getCache(R),U=na(R),z=("pinType"in i?i.pinType:Ks(R,"pinType")||U&&"fixed")==="fixed",F=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],V=N&&i.toggleActions.split(" "),$="markers"in i?i.markers:Yf.markers,q=U?0:parseFloat(Ci(R)["border"+L.p2+Al])||0,D=this,I=i.onRefreshInit&&function(){return i.onRefreshInit(D)},le=yO(R,U,L),de=_O(R,U),ge=0,ue=0,K=0,W=oo(R,L),ee,ie,oe,Q,se,T,P,G,Z,w,C,J,j,k,X,re,fe,ne,ce,_e,xe,ve,we,$e,Ge,Wi,an,ji,bt,Ft,mn,Ze,lr,Wn,kt,jn,kr,ms,B;if(D._startClamp=D._endClamp=!1,D._dir=L,_*=45,D.scroller=R,D.scroll=S?S.time.bind(S):W,Q=W(),D.vars=i,r=r||i.animation,"refreshPriority"in i&&(ME=1,i.refreshPriority===-9999&&(su=D)),H.tweenScroll=H.tweenScroll||{top:Kx(R,Yt),left:Kx(R,Bn)},D.tweenTo=ee=H.tweenScroll[L.p],D.scrubDuration=function(pe){lr=Oc(pe)&&pe,lr?Ze?Ze.duration(pe):Ze=Ae.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:lr,paused:!0,onComplete:function(){return m&&m(D)}}):(Ze&&Ze.progress(1).kill(),Ze=0)},r&&(r.vars.lazy=!1,r._initted&&!D.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),D.animation=r.pause(),r.scrollTrigger=D,D.scrubDuration(f),Ft=0,l||(l=r.vars.id)),v&&((!Oo(v)||v.push)&&(v={snapTo:v}),"scrollBehavior"in _t.style&&Ae.set(U?[_t,Qi]:R,{scrollBehavior:"auto"}),et.forEach(function(pe){return Nn(pe)&&pe.target===(U?Et.scrollingElement||Qi:R)&&(pe.smooth=!1)}),oe=Nn(v.snapTo)?v.snapTo:v.snapTo==="labels"?xO(r):v.snapTo==="labelsDirectional"?bO(r):v.directional!==!1?function(pe,be){return Ov(v.snapTo)(pe,bn()-ue<500?0:be.direction)}:Ae.utils.snap(v.snapTo),Wn=v.duration||{min:.1,max:2},Wn=Oo(Wn)?eu(Wn.min,Wn.max):eu(Wn,Wn),kt=Ae.delayedCall(v.delay||lr/2||.1,function(){var pe=W(),be=bn()-ue<500,me=ee.tween;if((be||Math.abs(D.getVelocity())<10)&&!me&&!zp&&ge!==pe){var De=(pe-T)/k,Xe=r&&!N?r.totalProgress():De,Re=be?0:(Xe-mn)/(bn()-Pc)*1e3||0,je=Ae.utils.clamp(-De,1-De,xa(Re/2)*Re/.185),Oe=De+(v.inertia===!1?0:je),He,Ve,Fe=v,gn=Fe.onStart,nt=Fe.onInterrupt,Pt=Fe.onComplete;if(He=oe(Oe,D),Oc(He)||(He=Oe),Ve=Math.round(T+He*k),pe<=P&&pe>=T&&Ve!==pe){if(me&&!me._initted&&me.data<=xa(Ve-pe))return;v.inertia===!1&&(je=He-De),ee(Ve,{duration:Wn(xa(Math.max(xa(Oe-Xe),xa(He-Xe))*.185/Re/.05||0)),ease:v.ease||"power3",data:xa(Ve-pe),onInterrupt:function(){return kt.restart(!0)&&nt&&nt(D)},onComplete:function(){D.update(),ge=W(),r&&(Ze?Ze.resetTo("totalProgress",He,r._tTime/r._tDur):r.progress(He)),Ft=mn=r&&!N?r.totalProgress():D.progress,y&&y(D),Pt&&Pt(D)}},pe,je*k,Ve-pe-je*k),gn&&gn(D,ee.tween)}}else D.isActive&&ge!==pe&&kt.restart(!0)}).pause()),l&&(by[l]=D),d=D.trigger=Yn(d||h!==!0&&h),B=d&&d._gsap&&d._gsap.stRevert,B&&(B=B(D)),h=h===!0?d:Yn(h),fi(a)&&(a={targets:d,className:a}),h&&(p===!1||p===Ai||(p=!p&&h.parentNode&&h.parentNode.style&&Ci(h.parentNode).display==="flex"?!1:Vt),D.pin=h,ie=Ae.core.getCache(h),ie.spacer?X=ie.pinState:(M&&(M=Yn(M),M&&!M.nodeType&&(M=M.current||M.nativeElement),ie.spacerIsNative=!!M,M&&(ie.spacerState=Jf(M))),ie.spacer=ne=M||Et.createElement("div"),ne.classList.add("pin-spacer"),l&&ne.classList.add("pin-spacer-"+l),ie.pinState=X=Jf(h)),i.force3D!==!1&&Ae.set(h,{force3D:!0}),D.spacer=ne=ie.spacer,bt=Ci(h),$e=bt[p+L.os2],_e=Ae.getProperty(h),xe=Ae.quickSetter(h,L.a,Xt),Pm(h,ne,bt),fe=Jf(h)),$){J=Oo($)?jx($,qx):qx,w=Zf("scroller-start",l,R,L,J,0),C=Zf("scroller-end",l,R,L,J,0,w),ce=w["offset"+L.op.d2];var ae=Yn(Ks(R,"content")||R);G=this.markerStart=Zf("start",l,ae,L,J,ce,0,S),Z=this.markerEnd=Zf("end",l,ae,L,J,ce,0,S),S&&(ms=Ae.quickSetter([G,Z],L.a,Xt)),!z&&!(Tr.length&&Ks(R,"fixedMarkers")===!0)&&(vO(U?_t:R),Ae.set([w,C],{force3D:!0}),Wi=Ae.quickSetter(w,L.a,Xt),ji=Ae.quickSetter(C,L.a,Xt))}if(S){var Y=S.vars.onUpdate,te=S.vars.onUpdateParams;S.eventCallback("onUpdate",function(){D.update(0,0,1),Y&&Y.apply(S,te||[])})}if(D.previous=function(){return Ke[Ke.indexOf(D)-1]},D.next=function(){return Ke[Ke.indexOf(D)+1]},D.revert=function(pe,be){if(!be)return D.kill(!0);var me=pe!==!1||!D.enabled,De=vn;me!==D.isReverted&&(me&&(jn=Math.max(W(),D.scroll.rec||0),K=D.progress,kr=r&&r.progress()),G&&[G,Z,w,C].forEach(function(Xe){return Xe.style.display=me?"none":"block"}),me&&(vn=D,D.update(me)),h&&(!b||!D.isActive)&&(me?SO(h,ne,X):Pm(h,ne,Ci(h),Ge)),me||D.update(me),vn=De,D.isReverted=me)},D.refresh=function(pe,be,me,De){if(!((vn||!D.enabled)&&!be)){if(h&&pe&&ki){Qt(e,"scrollEnd",IE);return}!Fn&&I&&I(D),vn=D,ee.tween&&!me&&(ee.tween.kill(),ee.tween=0),Ze&&Ze.pause(),g&&r&&r.revert({kill:!1}).invalidate(),D.isReverted||D.revert(!0,!0),D._subPinOffset=!1;var Xe=le(),Re=de(),je=S?S.duration():Mr(R,L),Oe=k<=.01,He=0,Ve=De||0,Fe=Oo(me)?me.end:i.end,gn=i.endTrigger||d,nt=Oo(me)?me.start:i.start||(i.start===0||!d?0:h?"0 0":"0 100%"),Pt=D.pinnedContainer=i.pinnedContainer&&Yn(i.pinnedContainer,D),qn=d&&Math.max(0,Ke.indexOf(D))||0,Lt=qn,St,yn,mo,Af,_n,$t,cr,Jp,Qv,sc,ur,oc,Cf;for($&&Oo(me)&&(oc=Ae.getProperty(w,L.p),Cf=Ae.getProperty(C,L.p));Lt--;)$t=Ke[Lt],$t.end||$t.refresh(0,1)||(vn=D),cr=$t.pin,cr&&(cr===d||cr===h||cr===Pt)&&!$t.isReverted&&(sc||(sc=[]),sc.unshift($t),$t.revert(!0,!0)),$t!==Ke[Lt]&&(qn--,Lt--);for(Nn(nt)&&(nt=nt(D)),nt=Hx(nt,"start",D),T=Zx(nt,d,Xe,L,W(),G,w,D,Re,q,z,je,S,D._startClamp&&"_startClamp")||(h?-.001:0),Nn(Fe)&&(Fe=Fe(D)),fi(Fe)&&!Fe.indexOf("+=")&&(~Fe.indexOf(" ")?Fe=(fi(nt)?nt.split(" ")[0]:"")+Fe:(He=Yh(Fe.substr(2),Xe),Fe=fi(nt)?nt:(S?Ae.utils.mapRange(0,S.duration(),S.scrollTrigger.start,S.scrollTrigger.end,T):T)+He,gn=d)),Fe=Hx(Fe,"end",D),P=Math.max(T,Zx(Fe||(gn?"100% 0":je),gn,Xe,L,W()+He,Z,C,D,Re,q,z,je,S,D._endClamp&&"_endClamp"))||-.001,He=0,Lt=qn;Lt--;)$t=Ke[Lt],cr=$t.pin,cr&&$t.start-$t._pinPush<=T&&!S&&$t.end>0&&(St=$t.end-(D._startClamp?Math.max(0,$t.start):$t.start),(cr===d&&$t.start-$t._pinPush<T||cr===Pt)&&isNaN(nt)&&(He+=St*(1-$t.progress)),cr===h&&(Ve+=St));if(T+=He,P+=He,D._startClamp&&(D._startClamp+=He),D._endClamp&&!Fn&&(D._endClamp=P||-.001,P=Math.min(P,Mr(R,L))),k=P-T||(T-=.01)&&.001,Oe&&(K=Ae.utils.clamp(0,1,Ae.utils.normalize(T,P,jn))),D._pinPush=Ve,G&&He&&(St={},St[L.a]="+="+He,Pt&&(St[L.p]="-="+W()),Ae.set([G,Z],St)),h&&!(xy&&D.end>=Mr(R,L)))St=Ci(h),Af=L===Yt,mo=W(),ve=parseFloat(_e(L.a))+Ve,!je&&P>1&&(ur=(U?Et.scrollingElement||Qi:R).style,ur={style:ur,value:ur["overflow"+L.a.toUpperCase()]},U&&Ci(_t)["overflow"+L.a.toUpperCase()]!=="scroll"&&(ur.style["overflow"+L.a.toUpperCase()]="scroll")),Pm(h,ne,St),fe=Jf(h),yn=Xr(h,!0),Jp=z&&oo(R,Af?Bn:Yt)(),p?(Ge=[p+L.os2,k+Ve+Xt],Ge.t=ne,Lt=p===Vt?Rd(h,L)+k+Ve:0,Lt&&(Ge.push(L.d,Lt+Xt),ne.style.flexBasis!=="auto"&&(ne.style.flexBasis=Lt+Xt)),dl(Ge),Pt&&Ke.forEach(function(ac){ac.pin===Pt&&ac.vars.pinSpacing!==!1&&(ac._subPinOffset=!0)}),z&&W(jn)):(Lt=Rd(h,L),Lt&&ne.style.flexBasis!=="auto"&&(ne.style.flexBasis=Lt+Xt)),z&&(_n={top:yn.top+(Af?mo-T:Jp)+Xt,left:yn.left+(Af?Jp:mo-T)+Xt,boxSizing:"border-box",position:"fixed"},_n[qo]=_n["max"+Al]=Math.ceil(yn.width)+Xt,_n[$o]=_n["max"+Rv]=Math.ceil(yn.height)+Xt,_n[Ai]=_n[Ai+iu]=_n[Ai+tu]=_n[Ai+ru]=_n[Ai+nu]="0",_n[Vt]=St[Vt],_n[Vt+iu]=St[Vt+iu],_n[Vt+tu]=St[Vt+tu],_n[Vt+ru]=St[Vt+ru],_n[Vt+nu]=St[Vt+nu],re=TO(X,_n,b),Fn&&W(0)),r?(Qv=r._initted,Em(1),r.render(r.duration(),!0,!0),we=_e(L.a)-ve+k+Ve,an=Math.abs(k-we)>1,z&&an&&re.splice(re.length-2,2),r.render(0,!0,!0),Qv||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Em(0)):we=k,ur&&(ur.value?ur.style["overflow"+L.a.toUpperCase()]=ur.value:ur.style.removeProperty("overflow-"+L.a));else if(d&&W()&&!S)for(yn=d.parentNode;yn&&yn!==_t;)yn._pinOffset&&(T-=yn._pinOffset,P-=yn._pinOffset),yn=yn.parentNode;sc&&sc.forEach(function(ac){return ac.revert(!1,!0)}),D.start=T,D.end=P,Q=se=Fn?jn:W(),!S&&!Fn&&(Q<jn&&W(jn),D.scroll.rec=0),D.revert(!1,!0),ue=bn(),kt&&(ge=-1,kt.restart(!0)),vn=0,r&&N&&(r._initted||kr)&&r.progress()!==kr&&r.progress(kr||0,!0).render(r.time(),!0,!0),(Oe||K!==D.progress||S||g)&&(r&&!N&&r.totalProgress(S&&T<-.001&&!K?Ae.utils.normalize(T,P,0):K,!0),D.progress=Oe||(Q-T)/k===K?0:K),h&&p&&(ne._pinOffset=Math.round(D.progress*we)),Ze&&Ze.invalidate(),isNaN(oc)||(oc-=Ae.getProperty(w,L.p),Cf-=Ae.getProperty(C,L.p),Kf(w,L,oc),Kf(G,L,oc-(De||0)),Kf(C,L,Cf),Kf(Z,L,Cf-(De||0))),Oe&&!Fn&&D.update(),u&&!Fn&&!j&&(j=!0,u(D),j=!1)}},D.getVelocity=function(){return(W()-se)/(bn()-Pc)*1e3||0},D.endAnimation=function(){hc(D.callbackAnimation),r&&(Ze?Ze.progress(1):r.paused()?N||hc(r,D.direction<0,1):hc(r,r.reversed()))},D.labelToScroll=function(pe){return r&&r.labels&&(T||D.refresh()||T)+r.labels[pe]/r.duration()*k||0},D.getTrailing=function(pe){var be=Ke.indexOf(D),me=D.direction>0?Ke.slice(0,be).reverse():Ke.slice(be+1);return(fi(pe)?me.filter(function(De){return De.vars.preventOverlaps===pe}):me).filter(function(De){return D.direction>0?De.end<=T:De.start>=P})},D.update=function(pe,be,me){if(!(S&&!me&&!pe)){var De=Fn===!0?jn:D.scroll(),Xe=pe?0:(De-T)/k,Re=Xe<0?0:Xe>1?1:Xe||0,je=D.progress,Oe,He,Ve,Fe,gn,nt,Pt,qn;if(be&&(se=Q,Q=S?W():De,v&&(mn=Ft,Ft=r&&!N?r.totalProgress():Re)),_&&h&&!vn&&!jf&&ki&&(!Re&&T<De+(De-se)/(bn()-Pc)*_?Re=1e-4:Re===1&&P>De+(De-se)/(bn()-Pc)*_&&(Re=.9999)),Re!==je&&D.enabled){if(Oe=D.isActive=!!Re&&Re<1,He=!!je&&je<1,nt=Oe!==He,gn=nt||!!Re!=!!je,D.direction=Re>je?1:-1,D.progress=Re,gn&&!vn&&(Ve=Re&&!je?0:Re===1?1:je===1?2:3,N&&(Fe=!nt&&V[Ve+1]!=="none"&&V[Ve+1]||V[Ve],qn=r&&(Fe==="complete"||Fe==="reset"||Fe in r))),E&&(nt||qn)&&(qn||f||!r)&&(Nn(E)?E(D):D.getTrailing(E).forEach(function(mo){return mo.endAnimation()})),N||(Ze&&!vn&&!jf?(Ze._dp._time-Ze._start!==Ze._time&&Ze.render(Ze._dp._time-Ze._start),Ze.resetTo?Ze.resetTo("totalProgress",Re,r._tTime/r._tDur):(Ze.vars.totalProgress=Re,Ze.invalidate().restart())):r&&r.totalProgress(Re,!!(vn&&(ue||pe)))),h){if(pe&&p&&(ne.style[p+L.os2]=$e),!z)xe(Rc(ve+we*Re));else if(gn){if(Pt=!pe&&Re>je&&P+1>De&&De+1>=Mr(R,L),b)if(!pe&&(Oe||Pt)){var Lt=Xr(h,!0),St=De-T;Jx(h,_t,Lt.top+(L===Yt?St:0)+Xt,Lt.left+(L===Yt?0:St)+Xt)}else Jx(h,ne);dl(Oe||Pt?re:fe),an&&Re<1&&Oe||xe(ve+(Re===1&&!Pt?we:0))}}v&&!ee.tween&&!vn&&!jf&&kt.restart(!0),a&&(nt||x&&Re&&(Re<1||!Tm))&&Pu(a.targets).forEach(function(mo){return mo.classList[Oe||x?"add":"remove"](a.className)}),o&&!N&&!pe&&o(D),gn&&!vn?(N&&(qn&&(Fe==="complete"?r.pause().totalProgress(1):Fe==="reset"?r.restart(!0).pause():Fe==="restart"?r.restart(!0):r[Fe]()),o&&o(D)),(nt||!Tm)&&(c&&nt&&Am(D,c),F[Ve]&&Am(D,F[Ve]),x&&(Re===1?D.kill(!1,1):F[Ve]=0),nt||(Ve=Re===1?1:3,F[Ve]&&Am(D,F[Ve]))),A&&!Oe&&Math.abs(D.getVelocity())>(Oc(A)?A:2500)&&(hc(D.callbackAnimation),Ze?Ze.progress(1):hc(r,Fe==="reverse"?1:!Re,1))):N&&o&&!vn&&o(D)}if(ji){var yn=S?De/S.duration()*(S._caScrollDist||0):De;Wi(yn+(w._isFlipped?1:0)),ji(yn)}ms&&ms(-De/S.duration()*(S._caScrollDist||0))}},D.enable=function(pe,be){D.enabled||(D.enabled=!0,Qt(R,"resize",Ic),U||Qt(R,"scroll",ba),I&&Qt(e,"refreshInit",I),pe!==!1&&(D.progress=K=0,Q=se=ge=W()),be!==!1&&D.refresh())},D.getTween=function(pe){return pe&&ee?ee.tween:Ze},D.setPositions=function(pe,be,me,De){if(S){var Xe=S.scrollTrigger,Re=S.duration(),je=Xe.end-Xe.start;pe=Xe.start+je*pe/Re,be=Xe.start+je*be/Re}D.refresh(!1,!1,{start:Gx(pe,me&&!!D._startClamp),end:Gx(be,me&&!!D._endClamp)},De),D.update()},D.adjustPinSpacing=function(pe){if(Ge&&pe){var be=Ge.indexOf(L.d)+1;Ge[be]=parseFloat(Ge[be])+pe+Xt,Ge[1]=parseFloat(Ge[1])+pe+Xt,dl(Ge)}},D.disable=function(pe,be){if(D.enabled&&(pe!==!1&&D.revert(!0,!0),D.enabled=D.isActive=!1,be||Ze&&Ze.pause(),jn=0,ie&&(ie.uncache=1),I&&Kt(e,"refreshInit",I),kt&&(kt.pause(),ee.tween&&ee.tween.kill()&&(ee.tween=0)),!U)){for(var me=Ke.length;me--;)if(Ke[me].scroller===R&&Ke[me]!==D)return;Kt(R,"resize",Ic),U||Kt(R,"scroll",ba)}},D.kill=function(pe,be){D.disable(pe,be),Ze&&!be&&Ze.kill(),l&&delete by[l];var me=Ke.indexOf(D);me>=0&&Ke.splice(me,1),me===In&&Jh>0&&In--,me=0,Ke.forEach(function(De){return De.scroller===D.scroller&&(me=1)}),me||Fn||(D.scroll.rec=0),r&&(r.scrollTrigger=null,pe&&r.revert({kill:!1}),be||r.kill()),G&&[G,Z,w,C].forEach(function(De){return De.parentNode&&De.parentNode.removeChild(De)}),su===D&&(su=0),h&&(ie&&(ie.uncache=1),me=0,Ke.forEach(function(De){return De.pin===h&&me++}),me||(ie.spacer=0)),i.onKill&&i.onKill(D)},Ke.push(D),D.enable(!1,!1),B&&B(D),r&&r.add&&!k){var ye=D.update;D.update=function(){D.update=ye,T||P||D.refresh()},Ae.delayedCall(.01,D.update),k=.01,T=P=0}else D.refresh();h&&MO()},e.register=function(i){return Ha||(Ae=i||AE(),DE()&&window.document&&e.enable(),Ha=Lc),Ha},e.defaults=function(i){if(i)for(var r in i)Yf[r]=i[r];return Yf},e.disable=function(i,r){Lc=0,Ke.forEach(function(o){return o[r?"kill":"disable"](i)}),Kt(it,"wheel",ba),Kt(Et,"scroll",ba),clearInterval(Wf),Kt(Et,"touchcancel",yr),Kt(_t,"touchstart",yr),$f(Kt,Et,"pointerdown,touchstart,mousedown",Vx),$f(Kt,Et,"pointerup,touchend,mouseup",Wx),Pd.kill(),qf(Kt);for(var s=0;s<et.length;s+=3)Xf(Kt,et[s],et[s+1]),Xf(Kt,et[s],et[s+2])},e.enable=function(){if(it=window,Et=document,Qi=Et.documentElement,_t=Et.body,Ae&&(Pu=Ae.utils.toArray,eu=Ae.utils.clamp,vy=Ae.core.context||yr,Em=Ae.core.suppressOverwrites||yr,Av=it.history.scrollRestoration||"auto",wy=it.pageYOffset,Ae.core.globals("ScrollTrigger",e),_t)){Lc=1,hl=document.createElement("div"),hl.style.height="100vh",hl.style.position="absolute",BE(),gO(),Ut.register(Ae),e.isTouch=Ut.isTouch,Ps=Ut.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_y=Ut.isTouch===1,Qt(it,"wheel",ba),wE=[it,Et,Qi,_t],Ae.matchMedia?(e.matchMedia=function(l){var c=Ae.matchMedia(),u;for(u in l)c.add(u,l[u]);return c},Ae.addEventListener("matchMediaInit",function(){return Iv()}),Ae.addEventListener("matchMediaRevert",function(){return FE()}),Ae.addEventListener("matchMedia",function(){Bo(0,1),ra("matchMedia")}),Ae.matchMedia("(orientation: portrait)",function(){return Cm(),Cm})):console.warn("Requires GSAP 3.11.0 or later"),Cm(),Qt(Et,"scroll",ba);var i=_t.style,r=i.borderTopStyle,s=Ae.core.Animation.prototype,o,a;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",o=Xr(_t),Yt.m=Math.round(o.top+Yt.sc())||0,Bn.m=Math.round(o.left+Bn.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),Wf=setInterval($x,250),Ae.delayedCall(.5,function(){return jf=0}),Qt(Et,"touchcancel",yr),Qt(_t,"touchstart",yr),$f(Qt,Et,"pointerdown,touchstart,mousedown",Vx),$f(Qt,Et,"pointerup,touchend,mouseup",Wx),yy=Ae.utils.checkPrefix("transform"),Kh.push(yy),Ha=bn(),Pd=Ae.delayedCall(.2,Bo).pause(),Ga=[Et,"visibilitychange",function(){var l=it.innerWidth,c=it.innerHeight;Et.hidden?(zx=l,Ux=c):(zx!==l||Ux!==c)&&Ic()},Et,"DOMContentLoaded",Bo,it,"load",Bo,it,"resize",Ic],qf(Qt),Ke.forEach(function(l){return l.enable(0,1)}),a=0;a<et.length;a+=3)Xf(Kt,et[a],et[a+1]),Xf(Kt,et[a],et[a+2])}},e.config=function(i){"limitCallbacks"in i&&(Tm=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(Wf)||(Wf=r)&&setInterval($x,r),"ignoreMobileResize"in i&&(_y=e.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(qf(Kt)||qf(Qt,i.autoRefreshEvents||"none"),SE=(i.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(i,r){var s=Yn(i),o=et.indexOf(s),a=na(s);~o&&et.splice(o,a?6:2),r&&(a?Tr.unshift(it,r,_t,r,Qi,r):Tr.unshift(s,r))},e.clearMatchMedia=function(i){Ke.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},e.isInViewport=function(i,r,s){var o=(fi(i)?Yn(i):i).getBoundingClientRect(),a=o[s?qo:$o]*r||0;return s?o.right-a>0&&o.left+a<it.innerWidth:o.bottom-a>0&&o.top+a<it.innerHeight},e.positionInViewport=function(i,r,s){fi(i)&&(i=Yn(i));var o=i.getBoundingClientRect(),a=o[s?qo:$o],l=r==null?a/2:r in Od?Od[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+l)/it.innerWidth:(o.top+l)/it.innerHeight},e.killAll=function(i){if(Ke.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),i!==!0){var r=ia.killAll||[];ia={},r.forEach(function(s){return s()})}},e}();Ye.version="3.12.5";Ye.saveStyles=function(e){return e?Pu(e).forEach(function(t){if(t&&t.style){var n=ui.indexOf(t);n>=0&&ui.splice(n,5),ui.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Ae.core.getCache(t),vy())}}):ui};Ye.revert=function(e,t){return Iv(!e,t)};Ye.create=function(e,t){return new Ye(e,t)};Ye.refresh=function(e){return e?Ic():(Ha||Ye.register())&&Bo(!0)};Ye.update=function(e){return++et.cache&&Qr(e===!0?2:0)};Ye.clearScrollMemory=kE;Ye.maxScroll=function(e,t){return Mr(e,t?Bn:Yt)};Ye.getScrollFunc=function(e,t){return oo(Yn(e),t?Bn:Yt)};Ye.getById=function(e){return by[e]};Ye.getAll=function(){return Ke.filter(function(e){return e.vars.id!=="ScrollSmoother"})};Ye.isScrolling=function(){return!!ki};Ye.snapDirectional=Ov;Ye.addEventListener=function(e,t){var n=ia[e]||(ia[e]=[]);~n.indexOf(t)||n.push(t)};Ye.removeEventListener=function(e,t){var n=ia[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)};Ye.batch=function(e,t){var n=[],i={},r=t.interval||.016,s=t.batchMax||1e9,o=function(c,u){var f=[],d=[],h=Ae.delayedCall(r,function(){u(f,d),f=[],d=[]}).pause();return function(p){f.length||h.restart(!0),f.push(p.trigger),d.push(p),s<=f.length&&h.progress(1)}},a;for(a in t)i[a]=a.substr(0,2)==="on"&&Nn(t[a])&&a!=="onRefreshInit"?o(a,t[a]):t[a];return Nn(s)&&(s=s(),Qt(Ye,"refresh",function(){return s=t.batchMax()})),Pu(e).forEach(function(l){var c={};for(a in i)c[a]=i[a];c.trigger=l,n.push(Ye.create(c))}),n};var Qx=function(t,n,i,r){return n>r?t(r):n<0&&t(0),i>r?(r-n)/(i-n):i<0?n/(n-i):1},Lm=function e(t,n){n===!0?t.style.removeProperty("touch-action"):t.style.touchAction=n===!0?"auto":n?"pan-"+n+(Ut.isTouch?" pinch-zoom":""):"none",t===Qi&&e(_t,n)},Qf={auto:1,scroll:1},AO=function(t){var n=t.event,i=t.target,r=t.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||Ae.core.getCache(s),a=bn(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==_t&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(Qf[(l=Ci(s)).overflowY]||Qf[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==i&&!na(s)&&(Qf[(l=Ci(s)).overflowY]||Qf[l.overflowX]),o._isScrollT=a}(o._isScroll||r==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},zE=function(t,n,i,r){return Ut.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:r=r&&AO,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&Qt(Et,Ut.eventTypes[0],tb,!1,!0)},onDisable:function(){return Kt(Et,Ut.eventTypes[0],tb,!0)}})},CO=/(input|label|select|textarea)/i,eb,tb=function(t){var n=CO.test(t.target.tagName);(n||eb)&&(t._gsapAllow=!0,eb=n)},PO=function(t){Oo(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var n=t,i=n.normalizeScrollX,r=n.momentum,s=n.allowNestedScroll,o=n.onRelease,a,l,c=Yn(t.target)||Qi,u=Ae.core.globals().ScrollSmoother,f=u&&u.get(),d=Ps&&(t.content&&Yn(t.content)||f&&t.content!==!1&&!f.smooth()&&f.content()),h=oo(c,Yt),p=oo(c,Bn),g=1,_=(Ut.isTouch&&it.visualViewport?it.visualViewport.scale*it.visualViewport.width:it.outerWidth)/it.innerWidth,m=0,y=Nn(r)?function(){return r(a)}:function(){return r||2.8},x,v,b=zE(c,t.type,!0,s),M=function(){return v=!1},S=yr,A=yr,E=function(){l=Mr(c,Yt),A=eu(Ps?1:0,l),i&&(S=eu(0,Mr(c,Bn))),x=Xo},L=function(){d._gsap.y=Rc(parseFloat(d._gsap.y)+h.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",h.offset=h.cacheID=0},N=function(){if(v){requestAnimationFrame(M);var $=Rc(a.deltaY/2),q=A(h.v-$);if(d&&q!==h.v+h.offset){h.offset=q-h.v;var D=Rc((parseFloat(d&&d._gsap.y)||0)-h.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+D+", 0, 1)",d._gsap.y=D+"px",h.cacheID=et.cache,Qr()}return!0}h.offset&&L(),v=!0},R,H,U,z,F=function(){E(),R.isActive()&&R.vars.scrollY>l&&(h()>l?R.progress(1)&&h(l):R.resetTo("scrollY",l))};return d&&Ae.set(d,{y:"+=0"}),t.ignoreCheck=function(V){return Ps&&V.type==="touchmove"&&N()||g>1.05&&V.type!=="touchstart"||a.isGesturing||V.touches&&V.touches.length>1},t.onPress=function(){v=!1;var V=g;g=Rc((it.visualViewport&&it.visualViewport.scale||1)/_),R.pause(),V!==g&&Lm(c,g>1.01?!0:i?!1:"x"),H=p(),U=h(),E(),x=Xo},t.onRelease=t.onGestureStart=function(V,$){if(h.offset&&L(),!$)z.restart(!0);else{et.cache++;var q=y(),D,I;i&&(D=p(),I=D+q*.05*-V.velocityX/.227,q*=Qx(p,D,I,Mr(c,Bn)),R.vars.scrollX=S(I)),D=h(),I=D+q*.05*-V.velocityY/.227,q*=Qx(h,D,I,Mr(c,Yt)),R.vars.scrollY=A(I),R.invalidate().duration(q).play(.01),(Ps&&R.vars.scrollY>=l||D>=l-1)&&Ae.to({},{onUpdate:F,duration:q})}o&&o(V)},t.onWheel=function(){R._ts&&R.pause(),bn()-m>1e3&&(x=0,m=bn())},t.onChange=function(V,$,q,D,I){if(Xo!==x&&E(),$&&i&&p(S(D[2]===$?H+(V.startX-V.x):p()+$-D[1])),q){h.offset&&L();var le=I[2]===q,de=le?U+V.startY-V.y:h()+q-I[1],ge=A(de);le&&de!==ge&&(U+=ge-de),h(ge)}(q||$)&&Qr()},t.onEnable=function(){Lm(c,i?!1:"x"),Ye.addEventListener("refresh",F),Qt(it,"resize",F),h.smooth&&(h.target.style.scrollBehavior="auto",h.smooth=p.smooth=!1),b.enable()},t.onDisable=function(){Lm(c,!0),Kt(it,"resize",F),Ye.removeEventListener("refresh",F),b.kill()},t.lockAxis=t.lockAxis!==!1,a=new Ut(t),a.iOS=Ps,Ps&&!h()&&h(1),Ps&&Ae.ticker.add(yr),z=a._dc,R=Ae.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:NE(h,h(),function(){return R.pause()})},onUpdate:Qr,onComplete:z.vars.onComplete}),a};Ye.sort=function(e){return Ke.sort(e||function(t,n){return(t.vars.refreshPriority||0)*-1e6+t.start-(n.start+(n.vars.refreshPriority||0)*-1e6)})};Ye.observe=function(e){return new Ut(e)};Ye.normalizeScroll=function(e){if(typeof e>"u")return On;if(e===!0&&On)return On.enable();if(e===!1){On&&On.kill(),On=e;return}var t=e instanceof Ut?e:PO(e);return On&&On.target===t.target&&On.kill(),na(t.target)&&(On=t),t};Ye.core={_getVelocityProp:gy,_inputObserver:zE,_scrollers:et,_proxies:Tr,bridge:{ss:function(){ki||ra("scrollStart"),ki=bn()},ref:function(){return vn}}};AE()&&Ae.registerPlugin(Ye);function Up(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Hp(e,t,n){return t&&nb(e.prototype,t),n&&nb(e,n),e}function LO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(n),!0).forEach(function(i){LO(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function UE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sy(e,t)}function nr(e){return nr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},nr(e)}function Sy(e,t){return Sy=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Sy(e,t)}function RO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function HE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OO(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:HE(e)}function GE(e){var t=RO();return function(){var i=nr(e),r;if(t){var s=nr(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return OO(this,r)}}function IO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=nr(e),e!==null););return e}function es(e,t,n){return typeof Reflect<"u"&&Reflect.get?es=Reflect.get:es=function(r,s,o){var a=IO(r,s);if(a){var l=Object.getOwnPropertyDescriptor(a,s);return l.get?l.get.call(o):l.value}},es(e,t,n||e)}function Za(e,t){return BO(e)||zO(e,t)||VE(e,t)||HO()}function FO(e){return kO(e)||NO(e)||VE(e)||UO()}function kO(e){if(Array.isArray(e))return Ey(e)}function BO(e){if(Array.isArray(e))return e}function NO(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zO(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],i=!0,r=!1,s=void 0;try{for(var o=e[Symbol.iterator](),a;!(i=(a=o.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){r=!0,s=l}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw s}}return n}}function VE(e,t){if(e){if(typeof e=="string")return Ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ey(e,t)}}function Ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function UO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pl={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},WE=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Up(this,e),Object.assign(this,pl,t),this.smartphone=pl.smartphone,t.smartphone&&Object.assign(this.smartphone,t.smartphone),this.tablet=pl.tablet,t.tablet&&Object.assign(this.tablet,t.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),this.direction==="horizontal"?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return Hp(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var n=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){n.resize(),n.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var n=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",n!=this.context){var i=n=="desktop"?this.smooth:this[n].smooth,r=this.context=="desktop"?this.smooth:this[this.context].smooth;i!=r&&window.location.reload()}}}},{key:"initEvents",value:function(){var n=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(i){i.addEventListener("click",n.setScrollTo,!1)})}},{key:"setScrollTo",value:function(n){n.preventDefault(),this.scrollTo(n.currentTarget.getAttribute("data-".concat(this.name,"-href"))||n.currentTarget.getAttribute("href"),{offset:n.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(n){var i=this,r=this.instance.scroll.y,s=r+this.windowHeight,o=this.instance.scroll.x,a=o+this.windowWidth;Object.entries(this.els).forEach(function(l){var c=Za(l,2),u=c[0],f=c[1];if(f&&(!f.inView||n)&&(i.direction==="horizontal"?a>=f.left&&o<f.right&&i.setInView(f,u):s>=f.top&&r<f.bottom&&i.setInView(f,u)),f&&f.inView)if(i.direction==="horizontal"){var d=f.right-f.left;f.progress=(i.instance.scroll.x-(f.left-i.windowWidth))/(d+i.windowWidth),(a<f.left||o>f.right)&&i.setOutOfView(f,u)}else{var h=f.bottom-f.top;f.progress=(i.instance.scroll.y-(f.top-i.windowHeight))/(h+i.windowHeight),(s<f.top||r>f.bottom)&&i.setOutOfView(f,u)}}),this.hasScrollTicking=!1}},{key:"setInView",value:function(n,i){this.els[i].inView=!0,n.el.classList.add(n.class),this.currentElements[i]=n,n.call&&this.hasCallEventSet&&(this.dispatchCall(n,"enter"),n.repeat||(this.els[i].call=!1))}},{key:"setOutOfView",value:function(n,i){var r=this;this.els[i].inView=!1,Object.keys(this.currentElements).forEach(function(s){s===i&&delete r.currentElements[s]}),n.call&&this.hasCallEventSet&&this.dispatchCall(n,"exit"),n.repeat&&n.el.classList.remove(n.class)}},{key:"dispatchCall",value:function(n,i){this.callWay=i,this.callValue=n.call.split(",").map(function(s){return s.trim()}),this.callObj=n,this.callValue.length==1&&(this.callValue=this.callValue[0]);var r=new Event(this.namespace+"call");this.el.dispatchEvent(r)}},{key:"dispatchScroll",value:function(){var n=new Event(this.namespace+"scroll");this.el.dispatchEvent(n)}},{key:"setEvents",value:function(n,i){this.listeners[n]||(this.listeners[n]=[]);var r=this.listeners[n];r.push(i),r.length===1&&this.el.addEventListener(this.namespace+n,this.checkEvent,!1),n==="call"&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(n,i){if(this.listeners[n]){var r=this.listeners[n],s=r.indexOf(i);s<0||(r.splice(s,1),r.index===0&&this.el.removeEventListener(this.namespace+n,this.checkEvent,!1))}}},{key:"checkEvent",value:function(n){var i=this,r=n.type.replace(this.namespace,""),s=this.listeners[r];!s||s.length===0||s.forEach(function(o){switch(r){case"scroll":return o(i.instance);case"call":return o(i.callValue,i.callWay,i.callObj);default:return o()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(n,i){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var n=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(i){n.el.removeEventListener(n.namespace+i,n.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(i){i.removeEventListener("click",n.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),e}(),GO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jE(e,t){return t={exports:{}},e(t,t.exports),t.exports}var qE=jE(function(e,t){(function(){function n(){var i=window,r=document;if("scrollBehavior"in r.documentElement.style&&i.__forceSmoothScrollPolyfill__!==!0)return;var s=i.HTMLElement||i.Element,o=468,a={scroll:i.scroll||i.scrollTo,scrollBy:i.scrollBy,elementScroll:s.prototype.scroll||f,scrollIntoView:s.prototype.scrollIntoView},l=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now;function c(v){var b=["MSIE ","Trident/","Edge/"];return new RegExp(b.join("|")).test(v)}var u=c(i.navigator.userAgent)?1:0;function f(v,b){this.scrollLeft=v,this.scrollTop=b}function d(v){return .5*(1-Math.cos(Math.PI*v))}function h(v){if(v===null||typeof v!="object"||v.behavior===void 0||v.behavior==="auto"||v.behavior==="instant")return!0;if(typeof v=="object"&&v.behavior==="smooth")return!1;throw new TypeError("behavior member of ScrollOptions "+v.behavior+" is not a valid value for enumeration ScrollBehavior.")}function p(v,b){if(b==="Y")return v.clientHeight+u<v.scrollHeight;if(b==="X")return v.clientWidth+u<v.scrollWidth}function g(v,b){var M=i.getComputedStyle(v,null)["overflow"+b];return M==="auto"||M==="scroll"}function _(v){var b=p(v,"Y")&&g(v,"Y"),M=p(v,"X")&&g(v,"X");return b||M}function m(v){for(;v!==r.body&&_(v)===!1;)v=v.parentNode||v.host;return v}function y(v){var b=l(),M,S,A,E=(b-v.startTime)/o;E=E>1?1:E,M=d(E),S=v.startX+(v.x-v.startX)*M,A=v.startY+(v.y-v.startY)*M,v.method.call(v.scrollable,S,A),(S!==v.x||A!==v.y)&&i.requestAnimationFrame(y.bind(i,v))}function x(v,b,M){var S,A,E,L,N=l();v===r.body?(S=i,A=i.scrollX||i.pageXOffset,E=i.scrollY||i.pageYOffset,L=a.scroll):(S=v,A=v.scrollLeft,E=v.scrollTop,L=f),y({scrollable:S,method:L,startTime:N,startX:A,startY:E,x:b,y:M})}i.scroll=i.scrollTo=function(){if(arguments[0]!==void 0){if(h(arguments[0])===!0){a.scroll.call(i,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:i.scrollX||i.pageXOffset,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:i.scrollY||i.pageYOffset);return}x.call(i,r.body,arguments[0].left!==void 0?~~arguments[0].left:i.scrollX||i.pageXOffset,arguments[0].top!==void 0?~~arguments[0].top:i.scrollY||i.pageYOffset)}},i.scrollBy=function(){if(arguments[0]!==void 0){if(h(arguments[0])){a.scrollBy.call(i,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:0,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:0);return}x.call(i,r.body,~~arguments[0].left+(i.scrollX||i.pageXOffset),~~arguments[0].top+(i.scrollY||i.pageYOffset))}},s.prototype.scroll=s.prototype.scrollTo=function(){if(arguments[0]!==void 0){if(h(arguments[0])===!0){if(typeof arguments[0]=="number"&&arguments[1]===void 0)throw new SyntaxError("Value could not be converted");a.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left:typeof arguments[0]!="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top:arguments[1]!==void 0?~~arguments[1]:this.scrollTop);return}var v=arguments[0].left,b=arguments[0].top;x.call(this,this,typeof v>"u"?this.scrollLeft:~~v,typeof b>"u"?this.scrollTop:~~b)}},s.prototype.scrollBy=function(){if(arguments[0]!==void 0){if(h(arguments[0])===!0){a.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}},s.prototype.scrollIntoView=function(){if(h(arguments[0])===!0){a.scrollIntoView.call(this,arguments[0]===void 0?!0:arguments[0]);return}var v=m(this),b=v.getBoundingClientRect(),M=this.getBoundingClientRect();v!==r.body?(x.call(this,v,v.scrollLeft+M.left-b.left,v.scrollTop+M.top-b.top),i.getComputedStyle(v).position!=="fixed"&&i.scrollBy({left:b.left,top:b.top,behavior:"smooth"})):i.scrollBy({left:M.left,top:M.top,behavior:"smooth"})}}e.exports={polyfill:n}})()});qE.polyfill;var VO=function(e){UE(n,e);var t=GE(n);function n(){var i,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Up(this,n),i=t.call(this,r),i.resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",i.checkScroll,!1),window.smoothscrollPolyfill===void 0&&(window.smoothscrollPolyfill=qE,window.smoothscrollPolyfill.polyfill()),i}return Hp(n,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),es(nr(n.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var r=this;es(nr(n.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){r.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?this.instance.direction!=="down"&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&this.instance.direction!=="up"&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var r=this;this.els={};var s=this.el.querySelectorAll("[data-"+this.name+"]");s.forEach(function(o,a){o.getBoundingClientRect();var l=o.dataset[r.name+"Class"]||r.class,c=typeof o.dataset[r.name+"Id"]=="string"?o.dataset[r.name+"Id"]:a,u,f,d=typeof o.dataset[r.name+"Offset"]=="string"?o.dataset[r.name+"Offset"].split(","):r.offset,h=o.dataset[r.name+"Repeat"],p=o.dataset[r.name+"Call"],g=o.dataset[r.name+"Target"],_;g!==void 0?_=document.querySelector("".concat(g)):_=o;var m=_.getBoundingClientRect();u=m.top+r.instance.scroll.y,f=m.left+r.instance.scroll.x;var y=u+_.offsetHeight,x=f+_.offsetWidth;h=="false"?h=!1:h!=null?h=!0:h=r.repeat;var v=r.getRelativeOffset(d);u=u+v[0],y=y-v[1];var b={el:o,targetEl:_,id:c,class:l,top:u,bottom:y,left:f,right:x,offset:d,progress:0,repeat:h,inView:!1,call:p};r.els[c]=b,o.classList.contains(l)&&r.setInView(r.els[c],c)})}},{key:"updateElements",value:function(){var r=this;Object.entries(this.els).forEach(function(s){var o=Za(s,2),a=o[0],l=o[1],c=l.targetEl.getBoundingClientRect().top+r.instance.scroll.y,u=c+l.targetEl.offsetHeight,f=r.getRelativeOffset(l.offset);r.els[a].top=c+f[0],r.els[a].bottom=u-f[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(r){var s=[0,0];if(r)for(var o=0;o<r.length;o++)typeof r[o]=="string"?r[o].includes("%")?s[o]=parseInt(r[o].replace("%","")*this.windowHeight/100):s[o]=parseInt(r[o]):s[o]=r[o];return s}},{key:"scrollTo",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=parseInt(s.offset)||0,a=s.callback?s.callback:!1;if(typeof r=="string"){if(r==="top")r=this.html;else if(r==="bottom")r=this.html.offsetHeight-window.innerHeight;else if(r=document.querySelector(r),!r)return}else if(typeof r=="number")r=parseInt(r);else if(!(r&&r.tagName)){console.warn("`target` parameter is not valid");return}typeof r!="number"?o=r.getBoundingClientRect().top+o+this.instance.scroll.y:o=r+o;var l=function(){return parseInt(window.pageYOffset)===parseInt(o)};if(a)if(l()){a();return}else{var c=function u(){l()&&(window.removeEventListener("scroll",u),a())};window.addEventListener("scroll",c)}window.scrollTo({top:o,behavior:s.duration===0?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){es(nr(n.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),n}(WE);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var rb=Object.getOwnPropertySymbols,WO=Object.prototype.hasOwnProperty,jO=Object.prototype.propertyIsEnumerable;function qO(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function $O(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(i.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(s){r[s]=s}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var XO=$O()?Object.assign:function(e,t){for(var n,i=qO(e),r,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)WO.call(n,o)&&(i[o]=n[o]);if(rb){r=rb(n);for(var a=0;a<r.length;a++)jO.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i};function $E(){}$E.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var s=0,o=i.length;s<o;s++)i[s].fn!==t&&i[s].fn._!==t&&r.push(i[s]);return r.length?n[e]=r:delete n[e],this}};var YO=$E,ZO=jE(function(e,t){(function(){var n;n=t!==null?t:this,n.Lethargy=function(){function i(r,s,o,a){this.stability=r!=null?Math.abs(r):8,this.sensitivity=s!=null?1+Math.abs(s):100,this.tolerance=o!=null?1+Math.abs(o):1.1,this.delay=a??150,this.lastUpDeltas=(function(){var l,c,u;for(u=[],l=1,c=this.stability*2;1<=c?l<=c:l>=c;1<=c?l++:l--)u.push(null);return u}).call(this),this.lastDownDeltas=(function(){var l,c,u;for(u=[],l=1,c=this.stability*2;1<=c?l<=c:l>=c;1<=c?l++:l--)u.push(null);return u}).call(this),this.deltasTimestamp=(function(){var l,c,u;for(u=[],l=1,c=this.stability*2;1<=c?l<=c:l>=c;1<=c?l++:l--)u.push(null);return u}).call(this)}return i.prototype.check=function(r){var s;return r=r.originalEvent||r,r.wheelDelta!=null?s=r.wheelDelta:r.deltaY!=null?s=r.deltaY*-40:(r.detail!=null||r.detail===0)&&(s=r.detail*-40),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),s>0?(this.lastUpDeltas.push(s),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(s),this.lastDownDeltas.shift(),this.isInertia(-1))},i.prototype.isInertia=function(r){var s,o,a,l,c,u,f;return s=r===-1?this.lastDownDeltas:this.lastUpDeltas,s[0]===null?r:this.deltasTimestamp[this.stability*2-2]+this.delay>Date.now()&&s[0]===s[this.stability*2-1]?!1:(a=s.slice(0,this.stability),o=s.slice(this.stability,this.stability*2),f=a.reduce(function(d,h){return d+h}),c=o.reduce(function(d,h){return d+h}),u=f/a.length,l=c/o.length,Math.abs(u)<Math.abs(l*this.tolerance)&&this.sensitivity<Math.abs(l)?r:!1)},i.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},i.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},i}()}).call(GO)}),di=function(){return{hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}}(),JO=Object.prototype.toString,KO=Object.prototype.hasOwnProperty,QO=function(e){if(!e)return console.warn("bindAll requires at least one argument.");var t=Array.prototype.slice.call(arguments,1);if(t.length===0)for(var n in e)KO.call(e,n)&&typeof e[n]=="function"&&JO.call(e[n])=="[object Function]"&&t.push(n);for(var i=0;i<t.length;i++){var r=t[i];e[r]=eI(e[r],e)}};function eI(e,t){return function(){return e.apply(t,arguments)}}var tI=ZO.Lethargy,Yo="virtualscroll",nI=Mi,dc={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32};function Mi(e){QO(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,e&&e.el&&(this.el=e.el,delete e.el),this.options=XO({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},e),this.options.limitInertia&&(this._lethargy=new tI),this._emitter=new YO,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,this.options.passive!==void 0&&(this.listenerOptions={passive:this.options.passive})}Mi.prototype._notify=function(e){var t=this._event;t.x+=t.deltaX,t.y+=t.deltaY,this._emitter.emit(Yo,{x:t.x,y:t.y,deltaX:t.deltaX,deltaY:t.deltaY,originalEvent:e})};Mi.prototype._onWheel=function(e){var t=this.options;if(!(this._lethargy&&this._lethargy.check(e)===!1)){var n=this._event;n.deltaX=e.wheelDeltaX||e.deltaX*-1,n.deltaY=e.wheelDeltaY||e.deltaY*-1,di.isFirefox&&e.deltaMode==1&&(n.deltaX*=t.firefoxMultiplier,n.deltaY*=t.firefoxMultiplier),n.deltaX*=t.mouseMultiplier,n.deltaY*=t.mouseMultiplier,this._notify(e)}};Mi.prototype._onMouseWheel=function(e){if(!(this.options.limitInertia&&this._lethargy.check(e)===!1)){var t=this._event;t.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,t.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,this._notify(e)}};Mi.prototype._onTouchStart=function(e){var t=e.targetTouches?e.targetTouches[0]:e;this.touchStartX=t.pageX,this.touchStartY=t.pageY};Mi.prototype._onTouchMove=function(e){var t=this.options;t.preventTouch&&!e.target.classList.contains(t.unpreventTouchClass)&&e.preventDefault();var n=this._event,i=e.targetTouches?e.targetTouches[0]:e;n.deltaX=(i.pageX-this.touchStartX)*t.touchMultiplier,n.deltaY=(i.pageY-this.touchStartY)*t.touchMultiplier,this.touchStartX=i.pageX,this.touchStartY=i.pageY,this._notify(e)};Mi.prototype._onKeyDown=function(e){var t=this._event;t.deltaX=t.deltaY=0;var n=window.innerHeight-40;switch(e.keyCode){case dc.LEFT:case dc.UP:t.deltaY=this.options.keyStep;break;case dc.RIGHT:case dc.DOWN:t.deltaY=-this.options.keyStep;break;case e.shiftKey:t.deltaY=n;break;case dc.SPACE:t.deltaY=-n;break;default:return}this._notify(e)};Mi.prototype._bind=function(){di.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),di.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),di.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),di.hasPointer&&di.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),di.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)};Mi.prototype._unbind=function(){di.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),di.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),di.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),di.hasPointer&&di.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),di.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)};Mi.prototype.on=function(e,t){this._emitter.on(Yo,e,t);var n=this._emitter.e;n&&n[Yo]&&n[Yo].length===1&&this._bind()};Mi.prototype.off=function(e,t){this._emitter.off(Yo,e,t);var n=this._emitter.e;(!n[Yo]||n[Yo].length<=0)&&this._unbind()};Mi.prototype.reset=function(){var e=this._event;e.x=0,e.y=0};Mi.prototype.destroy=function(){this._emitter.off(),this._unbind()};function Om(e,t,n){return(1-n)*e+n*t}function Ei(e){var t={};if(window.getComputedStyle){var n=getComputedStyle(e),i=n.transform||n.webkitTransform||n.mozTransform,r=i.match(/^matrix3d\((.+)\)$/);return r?(t.x=r?parseFloat(r[1].split(", ")[12]):0,t.y=r?parseFloat(r[1].split(", ")[13]):0):(r=i.match(/^matrix\((.+)\)$/),t.x=r?parseFloat(r[1].split(", ")[4]):0,t.y=r?parseFloat(r[1].split(", ")[5]):0),t}}function Im(e){for(var t=[];e&&e!==document;e=e.parentNode)t.push(e);return t}var iI=4,rI=.001,sI=1e-7,oI=10,Fc=11,eh=1/(Fc-1),aI=typeof Float32Array=="function";function XE(e,t){return 1-3*t+3*e}function YE(e,t){return 3*t-6*e}function ZE(e){return 3*e}function Id(e,t,n){return((XE(t,n)*e+YE(t,n))*e+ZE(t))*e}function JE(e,t,n){return 3*XE(t,n)*e*e+2*YE(t,n)*e+ZE(t)}function lI(e,t,n,i,r){var s,o,a=0;do o=t+(n-t)/2,s=Id(o,i,r)-e,s>0?n=o:t=o;while(Math.abs(s)>sI&&++a<oI);return o}function cI(e,t,n,i){for(var r=0;r<iI;++r){var s=JE(t,n,i);if(s===0)return t;var o=Id(t,n,i)-e;t-=o/s}return t}function uI(e){return e}var fI=function(t,n,i,r){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&i===r)return uI;for(var s=aI?new Float32Array(Fc):new Array(Fc),o=0;o<Fc;++o)s[o]=Id(o*eh,t,i);function a(l){for(var c=0,u=1,f=Fc-1;u!==f&&s[u]<=l;++u)c+=eh;--u;var d=(l-s[u])/(s[u+1]-s[u]),h=c+d*eh,p=JE(h,t,i);return p>=rI?cI(l,h,t,i):p===0?h:lI(l,c,c+eh,t,i)}return function(c){return c===0?0:c===1?1:Id(a(c),n,r)}},Nr={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,TAB:9,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35},hI=function(e){UE(n,e);var t=GE(n);function n(){var i,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Up(this,n),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),i=t.call(this,r),i.inertia&&(i.lerp=i.inertia*.1),i.isScrolling=!1,i.isDraggingScrollbar=!1,i.isTicking=!1,i.hasScrollTicking=!1,i.parallaxElements={},i.stop=!1,i.scrollbarContainer=r.scrollbarContainer,i.checkKey=i.checkKey.bind(HE(i)),window.addEventListener("keydown",i.checkKey,!1),i}return Hp(n,[{key:"init",value:function(){var r=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=Rm({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new nI({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(s){r.stop||r.isDraggingScrollbar||requestAnimationFrame(function(){r.updateDelta(s),r.isScrolling||r.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),es(nr(n.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,this.direction==="horizontal"){for(var r=0,s=this.el.children,o=0;o<s.length;o++)r+=s[o].offsetWidth;this.instance.limit.x=r-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(r){var s=this;if(this.stop){r.keyCode==Nr.TAB&&requestAnimationFrame(function(){s.html.scrollTop=0,document.body.scrollTop=0,s.html.scrollLeft=0,document.body.scrollLeft=0});return}switch(r.keyCode){case Nr.TAB:requestAnimationFrame(function(){s.html.scrollTop=0,document.body.scrollTop=0,s.html.scrollLeft=0,document.body.scrollLeft=0,s.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case Nr.UP:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case Nr.DOWN:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case Nr.PAGEUP:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case Nr.PAGEDOWN:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case Nr.HOME:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case Nr.END:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case Nr.SPACE:this.isActiveElementScrollSensitive()&&(r.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"isActiveElementScrollSensitive",value:function(){return!(document.activeElement instanceof HTMLInputElement)&&!(document.activeElement instanceof HTMLTextAreaElement)&&!(document.activeElement instanceof HTMLButtonElement)&&!(document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function(){var r=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(s||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return r.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var o=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),a=Date.now()-this.startScrollTs;if(!this.animatingScroll&&a>100&&(o<.5&&this.instance.delta[this.directionAxis]!=0||o<.5&&this.instance.delta[this.directionAxis]==0)&&this.stopScrolling(),Object.entries(this.sections).forEach(function(c){var u=Za(c,2);u[0];var f=u[1];f.persistent||r.instance.scroll[r.directionAxis]>f.offset[r.directionAxis]&&r.instance.scroll[r.directionAxis]<f.limit[r.directionAxis]?(r.direction==="horizontal"?r.transform(f.el,-r.instance.scroll[r.directionAxis],0):r.transform(f.el,0,-r.instance.scroll[r.directionAxis]),f.inView||(f.inView=!0,f.el.style.opacity=1,f.el.style.pointerEvents="all",f.el.setAttribute("data-".concat(r.name,"-section-inview"),""))):((f.inView||s)&&(f.inView=!1,f.el.style.opacity=0,f.el.style.pointerEvents="none",f.el.removeAttribute("data-".concat(r.name,"-section-inview"))),r.transform(f.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var l=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];this.direction==="horizontal"?this.transform(this.scrollbarThumb,l,0):this.transform(this.scrollbarThumb,0,l)}es(nr(n.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(r){var s,o=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;o==="both"?s=r.deltaX+r.deltaY:o==="vertical"?s=r.deltaY:o==="horizontal"?s=r.deltaX:s=r.deltaY,this.instance.delta[this.directionAxis]-=s*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(r){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=Om(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?this.instance.direction!=="down"&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&this.instance.direction!=="up"&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?this.instance.direction!=="right"&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&this.instance.direction!=="left"&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,this.direction=="horizontal"){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,this.direction==="horizontal"?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,this.direction=="horizontal"){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,this.direction==="horizontal"?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(r){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(r){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(r){var s=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var o=(r.clientX-s.scrollbarBCR.left)*100/s.scrollbarWidth*s.instance.limit.x/100,a=(r.clientY-s.scrollbarBCR.top)*100/s.scrollbarHeight*s.instance.limit.y/100;a>0&&a<s.instance.limit.y&&(s.instance.delta.y=a),o>0&&o<s.instance.limit.x&&(s.instance.delta.x=o)})}},{key:"addElements",value:function(){var r=this;this.els={},this.parallaxElements={};var s=this.el.querySelectorAll("[data-".concat(this.name,"]"));s.forEach(function(o,a){var l=Im(o),c=Object.entries(r.sections).map(function(q){var D=Za(q,2);D[0];var I=D[1];return I}).find(function(q){return l.includes(q.el)}),u=o.dataset[r.name+"Class"]||r.class,f=typeof o.dataset[r.name+"Id"]=="string"?o.dataset[r.name+"Id"]:"el"+a,d,h,p=o.dataset[r.name+"Repeat"],g=o.dataset[r.name+"Call"],_=o.dataset[r.name+"Position"],m=o.dataset[r.name+"Delay"],y=o.dataset[r.name+"Direction"],x=typeof o.dataset[r.name+"Sticky"]=="string",v=o.dataset[r.name+"Speed"]?parseFloat(o.dataset[r.name+"Speed"])/10:!1,b=typeof o.dataset[r.name+"Offset"]=="string"?o.dataset[r.name+"Offset"].split(","):r.offset,M=o.dataset[r.name+"Target"],S;M!==void 0?S=document.querySelector("".concat(M)):S=o;var A=S.getBoundingClientRect();c===null||c.inView?(d=A.top+r.instance.scroll.y-Ei(S).y,h=A.left+r.instance.scroll.x-Ei(S).x):(d=A.top-Ei(c.el).y-Ei(S).y,h=A.left-Ei(c.el).x-Ei(S).x);var E=d+S.offsetHeight,L=h+S.offsetWidth,N={x:(L-h)/2+h,y:(E-d)/2+d};if(x){var R=o.getBoundingClientRect(),H=R.top,U=R.left,z={x:U-h,y:H-d};d+=window.innerHeight,h+=window.innerWidth,E=H+S.offsetHeight-o.offsetHeight-z[r.directionAxis],L=U+S.offsetWidth-o.offsetWidth-z[r.directionAxis],N={x:(L-h)/2+h,y:(E-d)/2+d}}p=="false"?p=!1:p!=null?p=!0:p=r.repeat;var F=[0,0];if(b)if(r.direction==="horizontal"){for(var V=0;V<b.length;V++)typeof b[V]=="string"?b[V].includes("%")?F[V]=parseInt(b[V].replace("%","")*r.windowWidth/100):F[V]=parseInt(b[V]):F[V]=b[V];h=h+F[0],L=L-F[1]}else{for(var V=0;V<b.length;V++)typeof b[V]=="string"?b[V].includes("%")?F[V]=parseInt(b[V].replace("%","")*r.windowHeight/100):F[V]=parseInt(b[V]):F[V]=b[V];d=d+F[0],E=E-F[1]}var $={el:o,id:f,class:u,section:c,top:d,middle:N,bottom:E,left:h,right:L,offset:b,progress:0,repeat:p,inView:!1,call:g,speed:v,delay:m,position:_,target:S,direction:y,sticky:x};r.els[f]=$,o.classList.contains(u)&&r.setInView(r.els[f],f),(v!==!1||x)&&(r.parallaxElements[f]=$)})}},{key:"addSections",value:function(){var r=this;this.sections={};var s=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));s.length===0&&(s=[this.el]),s.forEach(function(o,a){var l=typeof o.dataset[r.name+"Id"]=="string"?o.dataset[r.name+"Id"]:"section"+a,c=o.getBoundingClientRect(),u={x:c.left-window.innerWidth*1.5-Ei(o).x,y:c.top-window.innerHeight*1.5-Ei(o).y},f={x:u.x+c.width+window.innerWidth*2,y:u.y+c.height+window.innerHeight*2},d=typeof o.dataset[r.name+"Persistent"]=="string";o.setAttribute("data-scroll-section-id",l);var h={el:o,offset:u,limit:f,inView:!1,persistent:d,id:l};r.sections[l]=h})}},{key:"transform",value:function(r,s,o,a){var l;if(!a)l="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(s,",").concat(o,",0,1)");else{var c=Ei(r),u=Om(c.x,s,a),f=Om(c.y,o,a);l="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(u,",").concat(f,",0,1)")}r.style.webkitTransform=l,r.style.msTransform=l,r.style.transform=l}},{key:"transformElements",value:function(r){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.instance.scroll.x+this.windowWidth,l=this.instance.scroll.y+this.windowHeight,c={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(u){var f=Za(u,2);f[0];var d=f[1],h=!1;if(r&&(h=0),d.inView||o)switch(d.position){case"top":h=s.instance.scroll[s.directionAxis]*-d.speed;break;case"elementTop":h=(l-d.top)*-d.speed;break;case"bottom":h=(s.instance.limit[s.directionAxis]-l+s.windowHeight)*d.speed;break;case"left":h=s.instance.scroll[s.directionAxis]*-d.speed;break;case"elementLeft":h=(a-d.left)*-d.speed;break;case"right":h=(s.instance.limit[s.directionAxis]-a+s.windowHeight)*d.speed;break;default:h=(c[s.directionAxis]-d.middle[s.directionAxis])*-d.speed;break}d.sticky&&(d.inView?s.direction==="horizontal"?h=s.instance.scroll.x-d.left+window.innerWidth:h=s.instance.scroll.y-d.top+window.innerHeight:s.direction==="horizontal"?s.instance.scroll.x<d.left-window.innerWidth&&s.instance.scroll.x<d.left-window.innerWidth/2?h=0:s.instance.scroll.x>d.right&&s.instance.scroll.x>d.right+100?h=d.right-d.left+window.innerWidth:h=!1:s.instance.scroll.y<d.top-window.innerHeight&&s.instance.scroll.y<d.top-window.innerHeight/2?h=0:s.instance.scroll.y>d.bottom&&s.instance.scroll.y>d.bottom+100?h=d.bottom-d.top+window.innerHeight:h=!1),h!==!1&&(d.direction==="horizontal"||s.direction==="horizontal"&&d.direction!=="vertical"?s.transform(d.el,h,0,r?!1:d.delay):s.transform(d.el,0,h,r?!1:d.delay))})}},{key:"scrollTo",value:function(r){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=parseInt(o.offset)||0,l=isNaN(parseInt(o.duration))?1e3:parseInt(o.duration),c=o.easing||[.25,0,.35,1],u=!!o.disableLerp,f=o.callback?o.callback:!1;if(c=fI.apply(void 0,FO(c)),typeof r=="string"){if(r==="top")r=0;else if(r==="bottom")r=this.instance.limit.y;else if(r==="left")r=0;else if(r==="right")r=this.instance.limit.x;else if(r=document.querySelector(r),!r)return}else if(typeof r=="number")r=parseInt(r);else if(!(r&&r.tagName)){console.warn("`target` parameter is not valid");return}if(typeof r!="number"){var d=Im(r).includes(this.el);if(!d)return;var h=r.getBoundingClientRect(),p=h.top,g=h.left,_=Im(r),m=_.find(function(E){return Object.entries(s.sections).map(function(L){var N=Za(L,2);N[0];var R=N[1];return R}).find(function(L){return L.el==E})}),y=0;m?y=Ei(m)[this.directionAxis]:y=-this.instance.scroll[this.directionAxis],this.direction==="horizontal"?a=g+a-y:a=p+a-y}else a=r+a;var x=parseFloat(this.instance.delta[this.directionAxis]),v=Math.max(0,Math.min(a,this.instance.limit[this.directionAxis])),b=v-x,M=function(L){u?s.direction==="horizontal"?s.setScroll(x+b*L,s.instance.delta.y):s.setScroll(s.instance.delta.x,x+b*L):s.instance.delta[s.directionAxis]=x+b*L};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var S=Date.now(),A=function E(){var L=(Date.now()-S)/l;L>1?(M(1),s.animatingScroll=!1,l==0&&s.update(),f&&f()):(s.scrollToRaf=requestAnimationFrame(E),M(c(L)))};A()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(r,s){this.instance=Rm(Rm({},this.instance),{},{scroll:{x:r,y:s},delta:{x:r,y:s},speed:0})}},{key:"destroy",value:function(){es(nr(n.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),n}(WE),dI=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Up(this,e),this.options=t,Object.assign(this,pl,t),this.smartphone=pl.smartphone,t.smartphone&&Object.assign(this.smartphone,t.smartphone),this.tablet=pl.tablet,t.tablet&&Object.assign(this.tablet,t.tablet),!this.smooth&&this.direction=="horizontal"&&console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),!this.tablet.smooth&&this.tablet.direction=="horizontal"&&console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),!this.smartphone.smooth&&this.smartphone.direction=="horizontal"&&console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return Hp(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new hI(this.options):this.scroll=new VO(this.options),this.scroll.init(),window.location.hash){var n=window.location.hash.slice(1,window.location.hash.length),i=document.getElementById(n);i&&this.scroll.scrollTo(i)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(n,i){this.scroll.scrollTo(n,i)}},{key:"setScroll",value:function(n,i){this.scroll.setScroll(n,i)}},{key:"on",value:function(n,i){this.scroll.setEvents(n,i)}},{key:"off",value:function(n,i){this.scroll.unsetEvents(n,i)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}();const{isMobile:ed,lerp:pI}=pE;Pe.registerPlugin(Ye);var mI=function(e){const t=document.querySelector(".header-wrap");t&&(e>500&&e<document.getElementById("main").clientHeight-window.innerHeight*.1?t.classList.add("hide"):(e>document.getElementById("main").clientHeight-window.innerHeight*.1||e<500)&&t.classList.remove("hide"))};function gI(e){let t=1+Math.min(2,Math.abs((e.scroll.y-e.delta.y)*.002));const n=document.querySelectorAll(".img_brightness");n&&n.length>0&&n.forEach((i,r)=>{const s=i.querySelectorAll("img");Pe.set(s,{filter:`brightness(${t})`})})}function yI(e){let t=ed()?e.scroll.y*.2:pI(e.scroll.y*.15,e.delta.y*.15,.01);const n=document.querySelectorAll(".ornament");n&&n.length>0&&n.forEach((i,r)=>{i.classList.contains("is-inview")&&Pe.set(i.querySelector("img"),{rotation:-t})})}function _I(){const e=Fp();let{scroller:t}=e;t&&(Ye.removeEventListener("refresh",t.onRefresh),t.destroy()),t=new dI({el:document.querySelector("[data-scroll-container]"),smooth:!0}),t.onRefresh=()=>{t.update()},e.set("scroller",t);const n=document.querySelectorAll(".reveal"),i=document.querySelectorAll(".line_inner");Pe.set(i,{yPercent:110,opacity:-.8}),n.forEach((u,f)=>{u.classList.add("reveal__on")}),t.on("scroll",function(u,f){mI(u.scroll.y),Ye.update,ed()||gI(u),yI(u)}),t.on("call",function(u,f,d){if(u=="revStag"){const h=d.el.querySelectorAll(".line_inner");h&&d.el.classList.contains("is-inview")&&Pe.to(h,{yPercent:0,opacity:1,ease:"expo.out",delay:0,duration:1.3,stagger:ed()?.03:.06})}}),Ye.scrollerProxy("[data-scroll-container]",{scrollTop(u){return arguments.length?t.scrollTo(u,0,0):t.scroll.instance.scroll.y},getBoundingClientRect(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}}});let r=!0;const s="[data-scroll-container]",o=document.querySelectorAll(".scrollanim_clip"),a=document.querySelectorAll(".scrollanim_fade"),l=document.querySelectorAll(".scrollanim_intro");if(!ed()&&r&&(o.length!=0&&Pe.from(".scrollanim_clip",{scrollTrigger:{trigger:".scrollanim_clip",scroller:s,scrub:!0,start:"top 80%",end:"top 0%"},"clip-path":"inset(0 7vw 0  7vw)",ease:"none"}),a.length!=0&&Pe.to(".scrollanim_fade",{scrollTrigger:{trigger:".scrollanim_fade_container",scroller:s,scrub:!0,start:"bottom bottom",end:"top -160%"},opacity:0,ease:"none"}),document.documentElement.classList.contains("has-scroll-smooth")&&l.length!=0)){var c=Pe.timeline({scrollTrigger:{trigger:".scrollanim_intro",scroller:s,scrub:!0,start:"top 60%",end:"bottom 20%"}});c.from(".scrollanim_intro div",{opacity:0,ease:"none"}).to(".scrollanim_intro div",{opacity:1}).to(".scrollanim_intro div",{opacity:0})}Ye.addEventListener("refresh",t.onRefresh),Ye.refresh()}function vI(){const e=document.querySelector(".header_animate"),t=document.querySelector(".header_animate_pre");if(e){let n=function(i){const r=e.querySelectorAll(".line_inner");e.querySelector(".image_opacity");const s=e.querySelector(".image_reveal"),o=e.querySelectorAll(".reveal_short"),a=e.querySelectorAll(".reveal_line");r&&r.length>0&&Pe.to(r,{yPercent:0,opacity:1,ease:"expo.out",delay:Vs()?0:i,stagger:Vs()?.06:.12,duration:1});const l=e.querySelector("video");if(l&&setTimeout(function(){l.play()},500),s){const c=s.querySelector(".cover");Pe.to(c,{width:0,duration:1.4,ease:"expo.in"})}o&&o.length>0&&(Vs()?Pe.fromTo(o,{opacity:0},{opacity:1,ease:"none",delay:0,duration:1}):Pe.fromTo(o,{opacity:0},{opacity:1,ease:"none",delay:i,stagger:.2,duration:2})),a&&a.length>0&&Pe.fromTo(a,{width:"0%"},{width:"100%",ease:"expo.out",delay:i*2,duration:2})};if(t&&!Vs()){const i=t.querySelectorAll(".pre_reveal"),r=e.querySelectorAll(".reveal_item");i&&r&&(Pe.set(r,{yPercent:130}),Pe.fromTo(i,{yPercent:160},{yPercent:0,ease:"expo.out",stagger:.05,delay:.5,duration:.8,onComplete:function(){Pe.fromTo(i,{yPercent:0,skewY:0},{yPercent:-130,ease:"expo.in",stagger:.02,delay:0,duration:1,onComplete:function(){n(0),e.classList.add("active")}})}}))}else e.classList.add("active"),n(.5)}}class xI{constructor(t){this.DOM={el:t},this.DOM.menuItems=this.DOM.el.querySelectorAll(".menu__item"),this.animatableProperties={tx:{previous:0,current:0,amt:.08},ty:{previous:0,current:0,amt:.08},rotation:{previous:0,current:0,amt:.08},brightness:{previous:1,current:1,amt:.08}},this.menuItems=[],[...this.DOM.menuItems].forEach((n,i)=>this.menuItems.push(new bI(n,i,this.animatableProperties)))}destroy(){for(let t=0;t<this.menuItems.length;t++){let n=this.menuItems[t];n.destroy();let i=n.DOM.el.querySelector(".hover-reveal");i.parentElement.removeChild(i)}this.DOM={el:void 0},this.DOM.menuItems=[],this.menuItems=[]}}let Ki={x:0,y:0},Ja=Ki,sb={x:Ja.x-Ki.x,y:Ja.y-Ki.y};window.addEventListener("mousemove",e=>Ki=fE(e));class bI{constructor(t,n,i){this.DOM={el:t},this.inMenuPosition=n,this.animatableProperties=i,this.DOM.textInner=this.DOM.el.querySelector(".menu__item-textinner"),this.layout(),this.initEvents()}layout(){this.DOM.reveal=document.createElement("div"),this.DOM.reveal.className="hover-reveal",this.DOM.reveal.style.transformOrigin="0% 0%",this.DOM.revealInner=document.createElement("div"),this.DOM.revealInner.className="hover-reveal__inner",this.DOM.revealImage=document.createElement("div"),this.DOM.revealImage.className="hover-reveal__img",this.DOM.revealImage.style.backgroundImage=`url(${this.DOM.el.dataset.img})`,this.DOM.revealInner.appendChild(this.DOM.revealImage),this.DOM.reveal.appendChild(this.DOM.revealInner),this.DOM.el.appendChild(this.DOM.reveal)}getMouseArea(){return this.bounds.el.top+this.bounds.el.height/2<=window.innerHeight/2?"up":"down"}calcBounds(){this.bounds={el:this.DOM.el.getBoundingClientRect(),reveal:this.DOM.reveal.getBoundingClientRect()}}initEvents(){this.mouseenterFn=t=>{this.showImage(),this.firstRAFCycle=!0,this.DOM.reveal.style.transformOrigin="0% 50%",this.loopRender()},this.mouseleaveFn=()=>{this.stopRendering(),this.hideImage()},this.DOM.el.addEventListener("mouseenter",this.mouseenterFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn),this.DOM.el.addEventListener("click",this.mouseleaveFn)}showImage(){Pe.killTweensOf(this.DOM.revealInner),Pe.killTweensOf(this.DOM.revealImage),this.tl=Pe.timeline({onStart:()=>{this.DOM.reveal.style.opacity=this.DOM.revealInner.style.opacity=1,Pe.set(this.DOM.el,{zIndex:120})}}).to(this.DOM.revealInner,{ease:"expo.out",startAt:{scale:.6},scale:1,duration:.6}).to(this.DOM.revealImage,{ease:"expo.out",startAt:{scale:1.4},scale:1,duration:.6},0)}hideImage(){Pe.killTweensOf(this.DOM.revealInner),Pe.killTweensOf(this.DOM.revealImage),this.tl=Pe.timeline({onStart:()=>{Pe.set(this.DOM.el,{zIndex:1})},onComplete:()=>{Pe.set(this.DOM.reveal,{opacity:0})}}).to(this.DOM.revealInner,{ease:"expo.out",scale:.6,opacity:0,duration:.4}).to(this.DOM.revealImage,{ease:"expo.out",scale:1.4,duration:.4},0)}loopRender(){this.requestId||(this.requestId=requestAnimationFrame(()=>this.render()))}stopRendering(){this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=void 0)}render(){this.requestId=void 0,this.firstRAFCycle&&(this.calcBounds(),this.mouseArea=this.getMouseArea());const t=uE(Math.abs(Ja.x-Ki.x),0,100);sb={x:Ja.x-Ki.x,y:Ja.y-Ki.y},Ja={x:Ki.x,y:Ki.y},this.animatableProperties.tx.current=Math.abs(Ki.x-this.bounds.el.left)-this.bounds.reveal.width/2,this.animatableProperties.ty.current=Math.abs(Ki.y-this.bounds.el.top)-this.bounds.reveal.height/2,this.animatableProperties.rotation.current=this.firstRAFCycle?0:dy(t,0,175,0,sb.x<0?this.mouseArea==="up"?60:-60:this.mouseArea==="up"?-60:60),this.animatableProperties.brightness.current=this.firstRAFCycle?1:dy(t,0,100,1,8),this.animatableProperties.tx.previous=this.firstRAFCycle?this.animatableProperties.tx.current:Gs(this.animatableProperties.tx.previous,this.animatableProperties.tx.current,this.animatableProperties.tx.amt),this.animatableProperties.ty.previous=this.firstRAFCycle?this.animatableProperties.ty.current:Gs(this.animatableProperties.ty.previous,this.animatableProperties.ty.current,this.animatableProperties.ty.amt),this.animatableProperties.rotation.previous=this.firstRAFCycle?this.animatableProperties.rotation.current:Gs(this.animatableProperties.rotation.previous,this.animatableProperties.rotation.current,this.animatableProperties.rotation.amt),this.animatableProperties.brightness.previous=this.firstRAFCycle?this.animatableProperties.brightness.current:Gs(this.animatableProperties.brightness.previous,this.animatableProperties.brightness.current,this.animatableProperties.brightness.amt),Pe.set(this.DOM.reveal,{x:this.animatableProperties.tx.previous,y:this.animatableProperties.ty.previous,rotation:this.animatableProperties.rotation.previous,filter:`brightness(${this.animatableProperties.brightness.previous})`}),this.firstRAFCycle=!1,this.loopRender()}destroy(){this.DOM.el.removeEventListener("mouseenter",this.mouseenterFn,{passive:!0}),this.DOM.el.removeEventListener("mouseleave",this.mouseleaveFn,{passive:!0}),this.DOM.el.removeEventListener("click",this.mouseleaveFn,{passive:!0}),Pe.killTweensOf(this.DOM.revealInner),Pe.killTweensOf(this.DOM.revealImage),this.stopRendering(),this.hideImage()}}class wI{constructor(t={}){this.options={element:t.element,easing:t.easing||.1,dragSpeed:t.dragSpeed||1,duration:t.duration||750},this.isMouseDown=!1,this.isTranslating=!1,this.currentPosition=0,this.startPosition=0,this.endPosition=0,this.translation=0,this.animationFrame=null,this.setupSlider()}getMousePosition(t){let n;return t.targetTouches?t.targetTouches[0]?n=[t.targetTouches[0].clientX,t.targetTouches[0].clientY]:t.changedTouches[0]?n=[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:n=[t.clientX,t.clientY]:n=[t.clientX,t.clientY],n}setBoundaries(){const t=this.options.element.querySelector(".carousel__planes"),n=t.childElementCount;t.style.width="calc(((24vw) + 8vw) *  "+n+" )",window.innerWidth>=window.innerHeight?(this.boundaries={max:-1*this.options.element.clientWidth+window.innerWidth,min:0,sliderSize:this.options.element.clientWidth,referentSize:window.innerWidth},this.direction=0):(this.boundaries={max:-1*this.options.element.clientHeight+window.innerHeight,min:0,sliderSize:this.options.element.clientHeight,referentSize:window.innerHeight},this.direction=1)}onDragStarted(t){}onDrag(t){}onDragEnded(t){}onTranslation(){}onTranslationEnded(){}onBeforeResize(){}onSliderResized(){}translateSlider(t,n,i){t=Math.floor(t*100)/100;let r=(this.direction===0,"translateX");this.options.element.style.transform=r+"("+t+"px)",this.options.element.querySelectorAll(".carousel__text").forEach((o,a)=>{o.style.transform=r+"("+i+"px)"}),this.translation!==t?this.onTranslation():this.isTranslating&&!this.isMouseDown&&(this.isTranslating=!1,this.onTranslationEnded()),this.translation=t}animate(){let t=Gs(this.translation,this.currentPosition,this.options.easing),n=0,i=(this.translation-this.currentPosition)/8;this.translateSlider(t,n,i),this.animationFrame=requestAnimationFrame(this.animate.bind(this))}onMouseDown(t){Vs()||t.preventDefault(),this.isMouseDown=!0,this.options.element.classList.add("dragged");let n=this.getMousePosition(t);this.startPosition=n[this.direction],this.onDragStarted(n)}onMouseMove(t){if(!this.isMouseDown)return;let n=this.getMousePosition(t);this.currentPosition=this.endPosition+(n[this.direction]-this.startPosition)*this.options.dragSpeed,this.currentPosition>this.boundaries.min&&this.currentPosition<this.boundaries.max?this.isTranslating=!0:(this.currentPosition=Math.min(this.currentPosition,this.boundaries.min),this.currentPosition=Math.max(this.currentPosition,this.boundaries.max)),this.onDrag(n)}onMouseUp(t){this.isMouseDown=!1,this.options.element.classList.remove("dragged"),this.endPosition=this.currentPosition;let n=this.getMousePosition(t);this.onDragEnded(n)}onResize(t){this.onBeforeResize();let n=this.translation/this.boundaries.sliderSize;this.setBoundaries(),this.options.element.style.transform="tanslate3d(0, 0, 0)";let i=n*this.boundaries.sliderSize;i=Math.min(i,this.boundaries.min),i=Math.max(i,this.boundaries.max),this.translateSlider(i),this.currentPosition=i,this.endPosition=i,this.onSliderResized()}setupSlider(){this.setBoundaries(),this.options.element.addEventListener("mousemove",this.onMouseMove.bind(this),{passive:!0}),this.options.element.addEventListener("mousedown",this.onMouseDown.bind(this)),this.options.element.addEventListener("mouseup",this.onMouseUp.bind(this)),this.options.element.addEventListener("touchmove",this.onMouseMove.bind(this),{passive:!0}),this.options.element.addEventListener("touchstart",this.onMouseDown.bind(this),{passive:!0}),this.options.element.addEventListener("touchend",this.onMouseUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this)),this.animate()}destroySlider(){window.removeEventListener("mousemove",this.onMouseMove,{passive:!0}),window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove,{passive:!0}),window.removeEventListener("touchstart",this.onMouseDown,{passive:!0}),window.removeEventListener("touchend",this.onMouseUp),window.removeEventListener("resize",this.onResize),cancelAnimationFrame(this.animationFrame)}destroy(){this.destroySlider()}}class MI{constructor(){this.el=document.querySelector("[data-cursor]"),this.hovers=document.querySelectorAll("[data-hover]"),this.drags=document.querySelectorAll("[data-drag]"),this.data={mouse:{x:-200,y:-200},current:{x:-200,y:-200},last:{x:-200,y:-200},ease:.1,dist:50,fx:{diff:0,acc:0,velo:0,scale:0}},this.rAF=null,this.targets=null,this.run=this.run.bind(this),this.mousePos=this.mousePos.bind(this),this.el&&this.init()}mousePos(t){this.data.mouse.x=t.clientX,this.data.mouse.y=t.clientY,this.data.current.x=t.clientX,this.data.current.y=t.clientY}run(){this.data.last.x=Gs(this.data.last.x,this.data.current.x,this.data.ease),this.data.last.y=Gs(this.data.last.y,this.data.current.y,this.data.ease),this.data.fx.diff=this.data.current.x-this.data.last.x,this.data.fx.acc=this.data.fx.diff/window.innerWidth,this.data.fx.velo=+this.data.fx.acc;let t=1-Math.abs(this.data.fx.velo*3);this.data.fx.scale=.7<t?t:.7,this.el.style.transform=`translate3d(${this.data.last.x}px, ${this.data.last.y}px, 0) scale(${this.data.fx.scale})`,this.raf()}raf(){this.rAF=requestAnimationFrame(this.run)}addListeners(){const t=this,n=document.querySelector("[data-cursor]");this.hovers.forEach(function(i){i.addEventListener("mousemove",t.mousePos,{passive:!0}),i.addEventListener("mouseover",t.mousePos,{passive:!0}),i.addEventListener("mouseover",function(){const r=i.getAttribute("data-hover"),s=i.getAttribute("data-style"),o=i.getAttribute("data-col");r=="None"?(n.querySelector(".cursor_text").innerHTML=" ",n.classList.remove("is-active")):(n.querySelector(".cursor_text").innerHTML=r,n.classList.add("is-active")),s=="fill"?n.classList.add("fill"):n.classList.remove("fill"),o?n.querySelector(".circle").style.backgroundColor=o:n.querySelector(".circle").style.removeProperty?n.querySelector(".circle").style.removeProperty("background-color"):n.querySelector(".circle").style.removeAttribute("background-color")}),i.addEventListener("mouseout",function(){n.classList.remove("is-active"),n.classList.remove("fill")})}),this.drags.forEach(function(i){i.addEventListener("mouseover",function(){n.classList.add("is-drag")}),i.addEventListener("mouseout",function(){n.classList.remove("is-drag")})})}init(){this.addListeners(),this.raf()}cancel(){window.cancelAnimationFrame(this.rAF)}}function SI(e){const t=e,n=function(i){const r=this.querySelector(".magnet_circle"),s=this.querySelector(".magnet_circle_fast"),o=this.querySelector(".magnet_arrow"),{offsetX:a,offsetY:l}=i,{offsetWidth:c,offsetHeight:u}=this,f=6,d=a/c*(f*3)-f*1.5,h=l/u*(f*1.5)-f*.5;r&&(r.style.transform=`translate(${d}px, ${h}px) scale(1.5)`),o&&(o.style.transform=`translate(${d}px, ${h}px)`),s&&(s.style.transform=`translate(${d*1.5+10}px, ${h*3-10}px) scale(1.5)`),i.type==="mouseleave"&&(r&&(r.style.transform="",r.style.borderColor="rgba(#fff,0)"),o&&(o.style.transform=""),s&&(s.style.transform="",s.style.borderColor="rgba(#fff,0)"))};t.forEach(i=>i.addEventListener("mousemove",n)),t.forEach(i=>i.addEventListener("mouseleave",n))}Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let n=1;n<arguments.length;n++){const i=arguments[n];if(i!=null)for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});const EI="118dev",TI=0,ob=1,DI=2,KE=1,AI=2,kc=3,Sf=0,en=1,Gp=2,QE=1,Qs=0,ou=1,ab=2,lb=3,cb=4,CI=5,Va=100,PI=101,LI=102,ub=103,fb=104,RI=200,OI=201,II=202,FI=203,eT=204,tT=205,kI=206,BI=207,NI=208,zI=209,UI=210,HI=0,GI=1,VI=2,Ty=3,WI=4,jI=5,qI=6,$I=7,Vp=0,XI=1,YI=2,ml=0,ZI=1,JI=2,KI=3,QI=4,eF=5,Fv=300,kv=301,Bv=302,nT=303,Nv=304,Ef=306,zv=307,Fd=1e3,Kn=1001,kd=1002,rn=1003,Dy=1004,Ay=1005,Sn=1006,iT=1007,Wp=1008,Tf=1009,tF=1010,nF=1011,Bd=1012,iF=1013,td=1014,Bs=1015,Nd=1016,rF=1017,sF=1018,oF=1019,au=1020,aF=1021,Zo=1022,ir=1023,lF=1024,cF=1025,uF=ir,gl=1026,Ru=1027,fF=1028,hF=1029,dF=1030,pF=1031,mF=1032,gF=1033,hb=33776,db=33777,pb=33778,mb=33779,gb=35840,yb=35841,_b=35842,vb=35843,yF=36196,xb=37492,bb=37496,_F=37808,vF=37809,xF=37810,bF=37811,wF=37812,MF=37813,SF=37814,EF=37815,TF=37816,DF=37817,AF=37818,CF=37819,PF=37820,LF=37821,RF=36492,OF=37840,IF=37841,FF=37842,kF=37843,BF=37844,NF=37845,zF=37846,UF=37847,HF=37848,GF=37849,VF=37850,WF=37851,jF=37852,qF=37853,$F=2200,XF=2201,YF=2202,zd=2300,nd=2301,Fm=2302,Cl=2400,Ka=2401,Ud=2402,Uv=2500,rT=2501,ZF=0,oi=3e3,jp=3001,Hv=3007,Gv=3002,JF=3003,sT=3004,oT=3005,aT=3006,KF=3200,QF=3201,ec=0,ek=1,km=7680,tk=519,qp=35044,Ou=35048;function ds(){}Object.assign(ds.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,s=i.length;r<s;r++)i[r].call(this,e)}}});const ln=[];for(let e=0;e<256;e++)ln[e]=(e<16?"0":"")+e.toString(16);const qe={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ln[e&255]+ln[e>>8&255]+ln[e>>16&255]+ln[e>>24&255]+"-"+ln[t&255]+ln[t>>8&255]+"-"+ln[t>>16&15|64]+ln[t>>24&255]+"-"+ln[n&63|128]+ln[n>>8&255]+"-"+ln[n>>16&255]+ln[n>>24&255]+ln[i&255]+ln[i>>8&255]+ln[i>>16&255]+ln[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*qe.DEG2RAD},radToDeg:function(e){return e*qe.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((t+i)/2),u=o((t+i)/2),f=s((t-i)/2),d=o((t-i)/2),h=s((i-t)/2),p=o((i-t)/2);switch(r){case"XYX":e.set(a*u,l*f,l*d,a*c);break;case"YZY":e.set(l*d,a*u,l*f,a*c);break;case"ZXZ":e.set(l*f,l*d,a*u,a*c);break;case"XZX":e.set(a*u,l*p,l*h,a*c);break;case"YXY":e.set(l*h,a*u,l*p,a*c);break;case"ZYZ":e.set(l*p,l*h,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};function he(e=0,t=0){this.x=e,this.y=t}Object.defineProperties(he.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(he.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}});function zn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(zn.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,s,o,a,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[3],a=n[6],l=n[1],c=n[4],u=n[7],f=n[2],d=n[5],h=n[8],p=i[0],g=i[3],_=i[6],m=i[1],y=i[4],x=i[7],v=i[2],b=i[5],M=i[8];return r[0]=s*p+o*m+a*v,r[3]=s*g+o*y+a*b,r[6]=s*_+o*x+a*M,r[1]=l*p+c*m+u*v,r[4]=l*g+c*y+u*b,r[7]=l*_+c*x+u*M,r[2]=f*p+d*m+h*v,r[5]=f*g+d*y+h*b,r[8]=f*_+d*x+h*M,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*s*c-t*o*l-n*r*c+n*o*a+i*r*l-i*s*a},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const n=e.elements,i=this.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=n[6],f=n[7],d=n[8],h=d*l-c*f,p=c*u-d*a,g=f*a-l*u,_=r*h+s*p+o*g;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/_;return i[0]=h*m,i[1]=(o*f-d*s)*m,i[2]=(c*s-o*l)*m,i[3]=p*m,i[4]=(d*r-o*u)*m,i[5]=(o*a-c*r)*m,i[6]=g*m,i[7]=(s*u-f*r)*m,i[8]=(l*r-s*a)*m,this},transpose:function(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,s,o){const a=Math.cos(r),l=Math.sin(r);this.set(n*a,n*l,-n*(a*s+l*o)+s+e,-i*l,i*a,-i*(-l*s+a*o)+o+t,0,0,1)},scale:function(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],s=i[3],o=i[6],a=i[1],l=i[4],c=i[7];return i[0]=t*r+n*a,i[3]=t*s+n*l,i[6]=t*o+n*c,i[1]=-n*r+t*a,i[4]=-n*s+t*l,i[7]=-n*o+t*c,this},translate:function(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});let wa;const sa={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{wa===void 0&&(wa=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),wa.width=e.width,wa.height=e.height;const n=wa.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=wa}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let nk=0;function pt(e,t,n,i,r,s,o,a,l,c){Object.defineProperty(this,"id",{value:nk++}),this.uuid=qe.generateUUID(),this.name="",this.image=e!==void 0?e:pt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:pt.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:Kn,this.wrapT=i!==void 0?i:Kn,this.magFilter=r!==void 0?r:Sn,this.minFilter=s!==void 0?s:Wp,this.anisotropy=l!==void 0?l:1,this.format=o!==void 0?o:ir,this.internalFormat=null,this.type=a!==void 0?a:Tf,this.offset=new he(0,0),this.repeat=new he(1,1),this.center=new he(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c!==void 0?c:oi,this.version=0,this.onUpdate=null}pt.DEFAULT_IMAGE=void 0;pt.DEFAULT_MAPPING=Fv;pt.prototype=Object.assign(Object.create(ds.prototype),{constructor:pt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=qe.generateUUID()),!t&&e.images[i.uuid]===void 0){let r;if(Array.isArray(i)){r=[];for(let s=0,o=i.length;s<o;s++)r.push(sa.getDataURL(i[s]))}else r=sa.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==Fv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fd:e.x=e.x-Math.floor(e.x);break;case Kn:e.x=e.x<0?0:1;break;case kd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fd:e.y=e.y-Math.floor(e.y);break;case Kn:e.y=e.y<0?0:1;break;case kd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(pt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function lt(e=0,t=0,n=0,i=1){this.x=e,this.y=t,this.z=n,this.w=i}Object.defineProperties(lt.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}});Object.assign(lt.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){const t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){let t,n,i,r;const a=e.elements,l=a[0],c=a[4],u=a[8],f=a[1],d=a[5],h=a[9],p=a[2],g=a[6],_=a[10];if(Math.abs(c-f)<.01&&Math.abs(u-p)<.01&&Math.abs(h-g)<.01){if(Math.abs(c+f)<.1&&Math.abs(u+p)<.1&&Math.abs(h+g)<.1&&Math.abs(l+d+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const y=(l+1)/2,x=(d+1)/2,v=(_+1)/2,b=(c+f)/4,M=(u+p)/4,S=(h+g)/4;return y>x&&y>v?y<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(y),i=b/n,r=M/n):x>v?x<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(x),n=b/i,r=S/i):v<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=M/r,i=S/r),this.set(n,i,r,t),this}let m=Math.sqrt((g-h)*(g-h)+(u-p)*(u-p)+(f-c)*(f-c));return Math.abs(m)<.001&&(m=1),this.x=(g-h)/m,this.y=(u-p)/m,this.z=(f-c)/m,this.w=Math.acos((l+d+_-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}});function Bi(e,t,n){this.width=e,this.height=t,this.scissor=new lt(0,0,e,t),this.scissorTest=!1,this.viewport=new lt(0,0,e,t),n=n||{},this.texture=new pt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Sn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}Bi.prototype=Object.assign(Object.create(ds.prototype),{constructor:Bi,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function wb(e,t,n){Bi.call(this,e,t,n),this.samples=4}wb.prototype=Object.assign(Object.create(Bi.prototype),{constructor:wb,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Bi.prototype.copy.call(this,e),this.samples=e.samples,this}});function sn(e=0,t=0,n=0,i=1){this._x=e,this._y=t,this._z=n,this._w=i}Object.assign(sn,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,s,o){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const f=r[s+0],d=r[s+1],h=r[s+2],p=r[s+3];if(u!==p||a!==f||l!==d||c!==h){let g=1-o,_=a*f+l*d+c*h+u*p,m=_>=0?1:-1,y=1-_*_;if(y>Number.EPSILON){const v=Math.sqrt(y),b=Math.atan2(v,_*m);g=Math.sin(g*b)/v,o=Math.sin(o*b)/v}const x=o*m;if(a=a*g+f*x,l=l*g+d*x,c=c*g+h*x,u=u*g+p*x,g===1-o){const v=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=v,l*=v,c*=v,u*=v}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u},multiplyQuaternionsFlat:function(e,t,n,i,r,s){const o=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[s],f=r[s+1],d=r[s+2],h=r[s+3];return e[t]=o*h+c*u+a*d-l*f,e[t+1]=a*h+c*f+l*u-o*d,e[t+2]=l*h+c*d+o*f-a*u,e[t+3]=c*h-o*u-a*f-l*d,e}});Object.defineProperties(sn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}});Object.assign(sn.prototype,{isQuaternion:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,r=e._z,s=e.order,o=Math.cos,a=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),f=a(n/2),d=a(i/2),h=a(r/2);switch(s){case"XYZ":this._x=f*c*u+l*d*h,this._y=l*d*u-f*c*h,this._z=l*c*h+f*d*u,this._w=l*c*u-f*d*h;break;case"YXZ":this._x=f*c*u+l*d*h,this._y=l*d*u-f*c*h,this._z=l*c*h-f*d*u,this._w=l*c*u+f*d*h;break;case"ZXY":this._x=f*c*u-l*d*h,this._y=l*d*u+f*c*h,this._z=l*c*h+f*d*u,this._w=l*c*u-f*d*h;break;case"ZYX":this._x=f*c*u-l*d*h,this._y=l*d*u+f*c*h,this._z=l*c*h-f*d*u,this._w=l*c*u+f*d*h;break;case"YZX":this._x=f*c*u+l*d*h,this._y=l*d*u+f*c*h,this._z=l*c*h-f*d*u,this._w=l*c*u-f*d*h;break;case"XZY":this._x=f*c*u-l*d*h,this._y=l*d*u-f*c*h,this._z=l*c*h+f*d*u,this._w=l*c*u+f*d*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){const t=e.elements,n=t[0],i=t[4],r=t[8],s=t[1],o=t[5],a=t[9],l=t[2],c=t[6],u=t[10],f=n+o+u;if(f>0){const d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(c-a)*d,this._y=(r-l)*d,this._z=(s-i)*d}else if(n>o&&n>u){const d=2*Math.sqrt(1+n-o-u);this._w=(c-a)/d,this._x=.25*d,this._y=(i+s)/d,this._z=(r+l)/d}else if(o>u){const d=2*Math.sqrt(1+o-n-u);this._w=(r-l)/d,this._x=(i+s)/d,this._y=.25*d,this._z=(a+c)/d}else{const d=2*Math.sqrt(1+u-n-o);this._w=(s-i)/d,this._x=(r+l)/d,this._y=(a+c)/d,this._z=.25*d}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){let i=e.dot(t)+1;return i<1e-6?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(qe.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){const n=e._x,i=e._y,r=e._z,s=e._w,o=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+s*o+i*l-r*a,this._y=i*c+s*a+r*o-n*l,this._z=r*c+s*l+n*a-i*o,this._w=s*c-n*o-i*a-r*l,this._onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,r=this._z,s=this._w;let o=s*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const a=1-o*o;if(a<=Number.EPSILON){const d=1-t;return this._w=d*s+t*this._w,this._x=d*n+t*this._x,this._y=d*i+t*this._y,this._z=d*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,f=Math.sin(t*c)/l;return this._w=s*u+this._w*f,this._x=n*u+this._x*f,this._y=i*u+this._y*f,this._z=r*u+this._z*f,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});const Bm=new O,Mb=new sn;function O(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}Object.assign(O.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Mb.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Mb.setFromAxisAngle(e,t))},applyMatrix3:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this},applyQuaternion:function(e){const t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,o=e.z,a=e.w,l=a*t+s*i-o*n,c=a*n+o*t-r*i,u=a*i+r*n-s*t,f=-r*t-s*n-o*i;return this.x=l*a+f*-r+c*-o-u*-s,this.y=c*a+f*-s+u*-r-l*-o,this.z=u*a+f*-o+l*-s-c*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){const n=e.x,i=e.y,r=e.z,s=t.x,o=t.y,a=t.z;return this.x=i*a-r*o,this.y=r*s-n*a,this.z=n*o-i*s,this},projectOnVector:function(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return Bm.copy(this).projectOnVector(e),this.sub(Bm)},reflect:function(e){return this.sub(Bm.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(qe.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,t*3)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const Ma=new O,qi=new Je,ik=new O(0,0,0),rk=new O(1,1,1),bs=new O,th=new O,ai=new O;function Je(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Je.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,s,o,a,l,c,u,f,d,h,p,g){const _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=i,_[1]=r,_[5]=s,_[9]=o,_[13]=a,_[2]=l,_[6]=c,_[10]=u,_[14]=f,_[3]=d,_[7]=h,_[11]=p,_[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new Je().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){const t=this.elements,n=e.elements,i=1/Ma.setFromMatrixColumn(e,0).length(),r=1/Ma.setFromMatrixColumn(e,1).length(),s=1/Ma.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if(e.order==="XYZ"){const f=s*c,d=s*u,h=o*c,p=o*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=d+h*l,t[5]=f-p*l,t[9]=-o*a,t[2]=p-f*l,t[6]=h+d*l,t[10]=s*a}else if(e.order==="YXZ"){const f=a*c,d=a*u,h=l*c,p=l*u;t[0]=f+p*o,t[4]=h*o-d,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-o,t[2]=d*o-h,t[6]=p+f*o,t[10]=s*a}else if(e.order==="ZXY"){const f=a*c,d=a*u,h=l*c,p=l*u;t[0]=f-p*o,t[4]=-s*u,t[8]=h+d*o,t[1]=d+h*o,t[5]=s*c,t[9]=p-f*o,t[2]=-s*l,t[6]=o,t[10]=s*a}else if(e.order==="ZYX"){const f=s*c,d=s*u,h=o*c,p=o*u;t[0]=a*c,t[4]=h*l-d,t[8]=f*l+p,t[1]=a*u,t[5]=p*l+f,t[9]=d*l-h,t[2]=-l,t[6]=o*a,t[10]=s*a}else if(e.order==="YZX"){const f=s*a,d=s*l,h=o*a,p=o*l;t[0]=a*c,t[4]=p-f*u,t[8]=h*u+d,t[1]=u,t[5]=s*c,t[9]=-o*c,t[2]=-l*c,t[6]=d*u+h,t[10]=f-p*u}else if(e.order==="XZY"){const f=s*a,d=s*l,h=o*a,p=o*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=f*u+p,t[5]=s*c,t[9]=d*u-h,t[2]=h*u-d,t[6]=o*c,t[10]=p*u+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(ik,e,rk)},lookAt:function(e,t,n){const i=this.elements;return ai.subVectors(e,t),ai.lengthSq()===0&&(ai.z=1),ai.normalize(),bs.crossVectors(n,ai),bs.lengthSq()===0&&(Math.abs(n.z)===1?ai.x+=1e-4:ai.z+=1e-4,ai.normalize(),bs.crossVectors(n,ai)),bs.normalize(),th.crossVectors(ai,bs),i[0]=bs.x,i[4]=th.x,i[8]=ai.x,i[1]=bs.y,i[5]=th.y,i[9]=ai.y,i[2]=bs.z,i[6]=th.z,i[10]=ai.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[4],a=n[8],l=n[12],c=n[1],u=n[5],f=n[9],d=n[13],h=n[2],p=n[6],g=n[10],_=n[14],m=n[3],y=n[7],x=n[11],v=n[15],b=i[0],M=i[4],S=i[8],A=i[12],E=i[1],L=i[5],N=i[9],R=i[13],H=i[2],U=i[6],z=i[10],F=i[14],V=i[3],$=i[7],q=i[11],D=i[15];return r[0]=s*b+o*E+a*H+l*V,r[4]=s*M+o*L+a*U+l*$,r[8]=s*S+o*N+a*z+l*q,r[12]=s*A+o*R+a*F+l*D,r[1]=c*b+u*E+f*H+d*V,r[5]=c*M+u*L+f*U+d*$,r[9]=c*S+u*N+f*z+d*q,r[13]=c*A+u*R+f*F+d*D,r[2]=h*b+p*E+g*H+_*V,r[6]=h*M+p*L+g*U+_*$,r[10]=h*S+p*N+g*z+_*q,r[14]=h*A+p*R+g*F+_*D,r[3]=m*b+y*E+x*H+v*V,r[7]=m*M+y*L+x*U+v*$,r[11]=m*S+y*N+x*z+v*q,r[15]=m*A+y*R+x*F+v*D,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],o=e[5],a=e[9],l=e[13],c=e[2],u=e[6],f=e[10],d=e[14],h=e[3],p=e[7],g=e[11],_=e[15];return h*(+r*a*u-i*l*u-r*o*f+n*l*f+i*o*d-n*a*d)+p*(+t*a*d-t*l*f+r*s*f-i*s*d+i*l*c-r*a*c)+g*(+t*l*u-t*o*d-r*s*u+n*s*d+r*o*c-n*l*c)+_*(-i*o*c-t*a*u+t*o*f+i*s*u-n*s*f+n*a*c)},transpose:function(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const n=this.elements,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],f=i[7],d=i[8],h=i[9],p=i[10],g=i[11],_=i[12],m=i[13],y=i[14],x=i[15],v=h*y*f-m*p*f+m*u*g-c*y*g-h*u*x+c*p*x,b=_*p*f-d*y*f-_*u*g+l*y*g+d*u*x-l*p*x,M=d*m*f-_*h*f+_*c*g-l*m*g-d*c*x+l*h*x,S=_*h*u-d*m*u-_*c*p+l*m*p+d*c*y-l*h*y,A=r*v+s*b+o*M+a*S;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/A;return n[0]=v*E,n[1]=(m*p*a-h*y*a-m*o*g+s*y*g+h*o*x-s*p*x)*E,n[2]=(c*y*a-m*u*a+m*o*f-s*y*f-c*o*x+s*u*x)*E,n[3]=(h*u*a-c*p*a-h*o*f+s*p*f+c*o*g-s*u*g)*E,n[4]=b*E,n[5]=(d*y*a-_*p*a+_*o*g-r*y*g-d*o*x+r*p*x)*E,n[6]=(_*u*a-l*y*a-_*o*f+r*y*f+l*o*x-r*u*x)*E,n[7]=(l*p*a-d*u*a+d*o*f-r*p*f-l*o*g+r*u*g)*E,n[8]=M*E,n[9]=(_*h*a-d*m*a-_*s*g+r*m*g+d*s*x-r*h*x)*E,n[10]=(l*m*a-_*c*a+_*s*f-r*m*f-l*s*x+r*c*x)*E,n[11]=(d*c*a-l*h*a-d*s*f+r*h*f+l*s*g-r*c*g)*E,n[12]=S*E,n[13]=(d*m*o-_*h*o+_*s*p-r*m*p-d*s*y+r*h*y)*E,n[14]=(_*c*o-l*m*o-_*s*u+r*m*u+l*s*y-r*c*y)*E,n[15]=(l*h*o-d*c*o+d*s*u-r*h*u-l*s*p+r*c*p)*E,this},scale:function(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,o=e.y,a=e.z,l=r*s,c=r*o;return this.set(l*s+n,l*o-i*a,l*a+i*o,0,l*o+i*a,c*o+n,c*a-i*s,0,l*a-i*o,c*a+i*s,r*a*a+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){const i=this.elements,r=t._x,s=t._y,o=t._z,a=t._w,l=r+r,c=s+s,u=o+o,f=r*l,d=r*c,h=r*u,p=s*c,g=s*u,_=o*u,m=a*l,y=a*c,x=a*u,v=n.x,b=n.y,M=n.z;return i[0]=(1-(p+_))*v,i[1]=(d+x)*v,i[2]=(h-y)*v,i[3]=0,i[4]=(d-x)*b,i[5]=(1-(f+_))*b,i[6]=(g+m)*b,i[7]=0,i[8]=(h+y)*M,i[9]=(g-m)*M,i[10]=(1-(f+p))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:function(e,t,n){const i=this.elements;let r=Ma.set(i[0],i[1],i[2]).length(),s=Ma.set(i[4],i[5],i[6]).length(),o=Ma.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],qi.copy(this);const l=1/r,c=1/s,u=1/o;return qi.elements[0]*=l,qi.elements[1]*=l,qi.elements[2]*=l,qi.elements[4]*=c,qi.elements[5]*=c,qi.elements[6]*=c,qi.elements[8]*=u,qi.elements[9]*=u,qi.elements[10]*=u,t.setFromRotationMatrix(qi),n.x=r,n.y=s,n.z=o,this},makePerspective:function(e,t,n,i,r,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),f=-(s+r)/(s-r),d=-2*s*r/(s-r);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,s){const o=this.elements,a=1/(t-e),l=1/(n-i),c=1/(s-r),u=(t+e)*a,f=(n+i)*l,d=(s+r)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});const Sb=new Je,Eb=new sn;function tc(e=0,t=0,n=0,i=tc.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=i}tc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];tc.DefaultOrder="XYZ";Object.defineProperties(tc.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}});Object.assign(tc.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){const i=qe.clamp,r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],f=r[2],d=r[6],h=r[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-i(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Sb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sb,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Eb.setFromEuler(this),this.setFromQuaternion(Eb,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new O(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});function Vv(){this.mask=1}Object.assign(Vv.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!==0}});let sk=0;const Tb=new O,Sa=new sn,zr=new Je,nh=new O,pc=new O,ok=new O,ak=new sn,Db=new O(1,0,0),Ab=new O(0,1,0),Cb=new O(0,0,1),lk={type:"added"},ck={type:"removed"};function Me(){Object.defineProperty(this,"id",{value:sk++}),this.uuid=qe.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Me.DefaultUp.clone();const e=new O,t=new tc,n=new sn,i=new O(1,1,1);function r(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Je},normalMatrix:{value:new zn}}),this.matrix=new Je,this.matrixWorld=new Je,this.matrixAutoUpdate=Me.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Vv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Me.DefaultUp=new O(0,1,0);Me.DefaultMatrixAutoUpdate=!0;Me.prototype=Object.assign(Object.create(ds.prototype),{constructor:Me,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Sa.setFromAxisAngle(e,t),this.quaternion.multiply(Sa),this},rotateOnWorldAxis:function(e,t){return Sa.setFromAxisAngle(e,t),this.quaternion.premultiply(Sa),this},rotateX:function(e){return this.rotateOnAxis(Db,e)},rotateY:function(e){return this.rotateOnAxis(Ab,e)},rotateZ:function(e){return this.rotateOnAxis(Cb,e)},translateOnAxis:function(e,t){return Tb.copy(e).applyQuaternion(this.quaternion),this.position.add(Tb.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Db,e)},translateY:function(e){return this.translateOnAxis(Ab,e)},translateZ:function(e){return this.translateOnAxis(Cb,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(zr.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?nh.copy(e):nh.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),pc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zr.lookAt(pc,nh,this.up):zr.lookAt(nh,pc,this.up),this.quaternion.setFromRotationMatrix(zr),i&&(zr.extractRotation(i.matrixWorld),Sa.setFromRotationMatrix(zr),this.quaternion.premultiply(Sa.inverse()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(lk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ck)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),zr.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),zr.multiply(e.parent.matrixWorld)),e.applyMatrix4(zr),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new O),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new sn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(pc,e,ok),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new O),this.updateMatrixWorld(!0),this.matrixWorld.decompose(pc,ak,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new O),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function r(o,a){return o[a.uuid]===void 0&&(o[a.uuid]=a.toJSON(e)),a.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const a=o.shapes;if(Array.isArray(a))for(let l=0,c=a.length;l<c;l++){const u=a[l];r(e.shapes,u)}else r(e.shapes,a)}}if(this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let a=0,l=this.material.length;a<l;a++)o.push(r(e.materials,this.material[a]));i.material=o}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(t){const o=s(e.geometries),a=s(e.materials),l=s(e.textures),c=s(e.images),u=s(e.shapes);o.length>0&&(n.geometries=o),a.length>0&&(n.materials=a),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),u.length>0&&(n.shapes=u)}return n.object=i,n;function s(o){const a=[];for(const l in o){const c=o[l];delete c.metadata,a.push(c)}return a}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});function Pl(){Me.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Pl.prototype=Object.assign(Object.create(Me.prototype),{constructor:Pl,isScene:!0,copy:function(e,t){return Me.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){const t=Me.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Ur=[new O,new O,new O,new O,new O,new O,new O,new O],mc=new O,Nm=new Fr,Ea=new O,Ta=new O,Da=new O,ws=new O,Ms=new O,bo=new O,gc=new O,ih=new O,rh=new O,wo=new O;function Fr(e,t){this.min=e!==void 0?e:new O(1/0,1/0,1/0),this.max=t!==void 0?t:new O(-1/0,-1/0,-1/0)}Object.assign(Fr.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){let t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0;for(let a=0,l=e.length;a<l;a+=3){const c=e[a],u=e[a+1],f=e[a+2];c<t&&(t=c),u<n&&(n=u),f<i&&(i=f),c>r&&(r=c),u>s&&(s=u),f>o&&(o=f)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromBufferAttribute:function(e){let t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0;for(let a=0,l=e.count;a<l;a++){const c=e.getX(a),u=e.getY(a),f=e.getZ(a);c<t&&(t=c),u<n&&(n=u),f<i&&(i=f),c>r&&(r=c),u>s&&(s=u),f>o&&(o=f)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=mc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new O),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new O),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),Nm.copy(t.boundingBox),Nm.applyMatrix4(e.matrixWorld),this.union(Nm));const n=e.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new O),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,mc),mc.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(gc),ih.subVectors(this.max,gc),Ea.subVectors(e.a,gc),Ta.subVectors(e.b,gc),Da.subVectors(e.c,gc),ws.subVectors(Ta,Ea),Ms.subVectors(Da,Ta),bo.subVectors(Ea,Da);let t=[0,-ws.z,ws.y,0,-Ms.z,Ms.y,0,-bo.z,bo.y,ws.z,0,-ws.x,Ms.z,0,-Ms.x,bo.z,0,-bo.x,-ws.y,ws.x,0,-Ms.y,Ms.x,0,-bo.y,bo.x,0];return!zm(t,Ea,Ta,Da,ih)||(t=[1,0,0,0,1,0,0,0,1],!zm(t,Ea,Ta,Da,ih))?!1:(rh.crossVectors(ws,Ms),t=[rh.x,rh.y,rh.z],zm(t,Ea,Ta,Da,ih))},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new O),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return mc.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(mc).length()*.5,e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(Ur[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ur[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ur[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ur[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ur[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ur[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ur[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ur[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ur),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function zm(e,t,n,i,r){for(let s=0,o=e.length-3;s<=o;s+=3){wo.fromArray(e,s);const a=r.x*Math.abs(wo.x)+r.y*Math.abs(wo.y)+r.z*Math.abs(wo.z),l=t.dot(wo),c=n.dot(wo),u=i.dot(wo);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const uk=new Fr;function ps(e,t){this.center=e!==void 0?e:new O,this.radius=t!==void 0?t:-1}Object.assign(ps.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){const n=this.center;t!==void 0?n.copy(t):uk.setFromPoints(e).getCenter(n);let i=0;for(let r=0,s=e.length;r<s;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){const n=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new O),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Fr),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});const Hr=new O,Um=new O,sh=new O,Ss=new O,Hm=new O,oh=new O,Gm=new O;function nc(e,t){this.origin=e!==void 0?e:new O,this.direction=t!==void 0?t:new O(0,0,-1)}Object.assign(nc.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new O),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Hr)),this},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new O),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){const t=Hr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Hr.copy(this.direction).multiplyScalar(t).add(this.origin),Hr.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,i){Um.copy(e).add(t).multiplyScalar(.5),sh.copy(t).sub(e).normalize(),Ss.copy(this.origin).sub(Um);const r=e.distanceTo(t)*.5,s=-this.direction.dot(sh),o=Ss.dot(this.direction),a=-Ss.dot(sh),l=Ss.lengthSq(),c=Math.abs(1-s*s);let u,f,d,h;if(c>0)if(u=s*a-o,f=s*o-a,h=r*c,u>=0)if(f>=-h)if(f<=h){const p=1/c;u*=p,f*=p,d=u*(u+s*f+2*o)+f*(s*u+f+2*a)+l}else f=r,u=Math.max(0,-(s*f+o)),d=-u*u+f*(f+2*a)+l;else f=-r,u=Math.max(0,-(s*f+o)),d=-u*u+f*(f+2*a)+l;else f<=-h?(u=Math.max(0,-(-s*r+o)),f=u>0?-r:Math.min(Math.max(-r,-a),r),d=-u*u+f*(f+2*a)+l):f<=h?(u=0,f=Math.min(Math.max(-r,-a),r),d=f*(f+2*a)+l):(u=Math.max(0,-(s*r+o)),f=u>0?r:Math.min(Math.max(-r,-a),r),d=-u*u+f*(f+2*a)+l);else f=s>0?-r:r,u=Math.max(0,-(s*f+o)),d=-u*u+f*(f+2*a)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(sh).multiplyScalar(f).add(Um),d},intersectSphere:function(e,t){Hr.subVectors(e.center,this.origin);const n=Hr.dot(this.direction),i=Hr.dot(Hr)-n*n,r=e.radius*e.radius;if(i>r)return null;const s=Math.sqrt(r-i),o=n-s,a=n+s;return o<0&&a<0?null:o<0?this.at(a,t):this.at(o,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)},intersectsPlane:function(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){let n,i,r,s,o,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,f=this.origin;return l>=0?(n=(e.min.x-f.x)*l,i=(e.max.x-f.x)*l):(n=(e.max.x-f.x)*l,i=(e.min.x-f.x)*l),c>=0?(r=(e.min.y-f.y)*c,s=(e.max.y-f.y)*c):(r=(e.max.y-f.y)*c,s=(e.min.y-f.y)*c),n>s||r>i||((r>n||n!==n)&&(n=r),(s<i||i!==i)&&(i=s),u>=0?(o=(e.min.z-f.z)*u,a=(e.max.z-f.z)*u):(o=(e.max.z-f.z)*u,a=(e.min.z-f.z)*u),n>a||o>i)||((o>n||n!==n)&&(n=o),(a<i||i!==i)&&(i=a),i<0)?null:this.at(n>=0?n:i,t)},intersectsBox:function(e){return this.intersectBox(e,Hr)!==null},intersectTriangle:function(e,t,n,i,r){Hm.subVectors(t,e),oh.subVectors(n,e),Gm.crossVectors(Hm,oh);let s=this.direction.dot(Gm),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Ss.subVectors(this.origin,e);const a=o*this.direction.dot(oh.crossVectors(Ss,oh));if(a<0)return null;const l=o*this.direction.dot(Hm.cross(Ss));if(l<0||a+l>s)return null;const c=-o*Ss.dot(Gm);return c<0?null:this.at(c/s,r)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});const Vm=new O,fk=new O,hk=new zn;function _r(e,t){this.normal=e!==void 0?e:new O(1,0,0),this.constant=t!==void 0?t:0}Object.assign(_r.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){const i=Vm.subVectors(n,t).cross(fk.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new O),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new O);const n=e.delta(Vm),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):void 0;const r=-(e.start.dot(this.normal)+this.constant)/i;if(!(r<0||r>1))return t.copy(n).multiplyScalar(r).add(e.start)},intersectsLine:function(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new O),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){const n=t||hk.getNormalMatrix(e),i=this.coplanarPoint(Vm).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});const Zi=new O,Wr=new O,Wm=new O,Gr=new O,Aa=new O,Ca=new O,Pb=new O,jm=new O,qm=new O,$m=new O;function un(e,t,n){this.a=e!==void 0?e:new O,this.b=t!==void 0?t:new O,this.c=n!==void 0?n:new O}Object.assign(un,{getNormal:function(e,t,n,i){i===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new O),i.subVectors(n,t),Zi.subVectors(e,t),i.cross(Zi);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)},getBarycoord:function(e,t,n,i,r){Zi.subVectors(i,t),Wr.subVectors(n,t),Wm.subVectors(e,t);const s=Zi.dot(Zi),o=Zi.dot(Wr),a=Zi.dot(Wm),l=Wr.dot(Wr),c=Wr.dot(Wm),u=s*l-o*o;if(r===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new O),u===0)return r.set(-2,-1,-1);const f=1/u,d=(l*a-o*c)*f,h=(s*c-o*a)*f;return r.set(1-d-h,h,d)},containsPoint:function(e,t,n,i){return un.getBarycoord(e,t,n,i,Gr),Gr.x>=0&&Gr.y>=0&&Gr.x+Gr.y<=1},getUV:function(e,t,n,i,r,s,o,a){return this.getBarycoord(e,t,n,i,Gr),a.set(0,0),a.addScaledVector(r,Gr.x),a.addScaledVector(s,Gr.y),a.addScaledVector(o,Gr.z),a},isFrontFacing:function(e,t,n,i){return Zi.subVectors(n,t),Wr.subVectors(e,t),Zi.cross(Wr).dot(i)<0}});Object.assign(un.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Zi.subVectors(this.c,this.b),Wr.subVectors(this.a,this.b),Zi.cross(Wr).length()*.5},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new O),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return un.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new _r),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return un.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,i,r){return un.getUV(e,this.a,this.b,this.c,t,n,i,r)},containsPoint:function(e){return un.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return un.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new O);const n=this.a,i=this.b,r=this.c;let s,o;Aa.subVectors(i,n),Ca.subVectors(r,n),jm.subVectors(e,n);const a=Aa.dot(jm),l=Ca.dot(jm);if(a<=0&&l<=0)return t.copy(n);qm.subVectors(e,i);const c=Aa.dot(qm),u=Ca.dot(qm);if(c>=0&&u<=c)return t.copy(i);const f=a*u-c*l;if(f<=0&&a>=0&&c<=0)return s=a/(a-c),t.copy(n).addScaledVector(Aa,s);$m.subVectors(e,r);const d=Aa.dot($m),h=Ca.dot($m);if(h>=0&&d<=h)return t.copy(r);const p=d*l-a*h;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(n).addScaledVector(Ca,o);const g=c*h-d*u;if(g<=0&&u-c>=0&&d-h>=0)return Pb.subVectors(r,i),o=(u-c)/(u-c+(d-h)),t.copy(i).addScaledVector(Pb,o);const _=1/(g+p+f);return s=p*_,o=f*_,t.copy(n).addScaledVector(Aa,s).addScaledVector(Ca,o)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});const lT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$i={h:0,s:0,l:0},ah={h:0,s:0,l:0};function Le(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}function Xm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function Ym(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Zm(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}Object.assign(Le.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=qe.euclideanModulo(e,1),t=qe.clamp(t,0,1),n=qe.clamp(n,0,1),t===0)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Xm(r,i,e+1/3),this.g=Xm(r,i,e),this.b=Xm(r,i,e-1/3)}return this},setStyle:function(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let i;const r=n[1],s=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){const o=parseFloat(i[1])/360,a=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(o,a,l)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){const i=n[1],r=i.length;if(r===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(r===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){const t=lT[e];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Ym(e.r),this.g=Ym(e.g),this.b=Ym(e.b),this},copyLinearToSRGB:function(e){return this.r=Zm(e.r),this.g=Zm(e.g),this.b=Zm(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,i=this.b,r=Math.max(t,n,i),s=Math.min(t,n,i);let o,a;const l=(s+r)/2;if(s===r)o=0,a=0;else{const c=r-s;switch(a=l<=.5?c/(r+s):c/(2-r-s),r){case t:o=(n-i)/c+(n<i?6:0);break;case n:o=(i-t)/c+2;break;case i:o=(t-n)/c+4;break}o/=6}return e.h=o,e.s=a,e.l=l,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,n){return this.getHSL($i),$i.h+=e,$i.s+=t,$i.l+=n,this.setHSL($i.h,$i.s,$i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL($i),e.getHSL(ah);const n=qe.lerp($i.h,ah.h,t),i=qe.lerp($i.s,ah.s,t),r=qe.lerp($i.l,ah.l,t);return this.setHSL(n,i,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}});Le.NAMES=lT;function Hd(e,t,n,i,r,s){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new O,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new Le,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=s!==void 0?s:0}Object.assign(Hd.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});let dk=0;function Ne(){Object.defineProperty(this,"id",{value:dk++}),this.uuid=qe.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=ou,this.side=Sf,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=eT,this.blendDst=tT,this.blendEquation=Va,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ty,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tk,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=km,this.stencilZFail=km,this.stencilZPass=km,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Ne.prototype=Object.assign(Object.create(ds.prototype),{constructor:Ne,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===QE;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==ou&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Sf&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(r){const s=[];for(const o in r){const a=r[o];delete a.metadata,s.push(a)}return s}if(t){const r=i(e.textures),s=i(e.images);r.length>0&&(n.textures=r),s.length>0&&(n.images=s)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Ne.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function or(e){Ne.call(this),this.type="MeshBasicMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}or.prototype=Object.create(Ne.prototype);or.prototype.constructor=or;or.prototype.isMeshBasicMaterial=!0;or.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const mt=new O,lh=new he;function Be(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=qp,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Be.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Be.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Le),t[n++]=s.r,t[n++]=s.g,t[n++]=s.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new he),t[n++]=s.x,t[n++]=s.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new O),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new lt),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,t[n++]=s.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)lh.fromBufferAttribute(this,t),lh.applyMatrix3(e),this.setXY(t,lh.x,lh.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)mt.fromBufferAttribute(this,t),mt.applyMatrix3(e),this.setXYZ(t,mt.x,mt.y,mt.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)mt.x=this.getX(t),mt.y=this.getY(t),mt.z=this.getZ(t),mt.applyMatrix4(e),this.setXYZ(t,mt.x,mt.y,mt.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)mt.x=this.getX(t),mt.y=this.getY(t),mt.z=this.getZ(t),mt.applyNormalMatrix(e),this.setXYZ(t,mt.x,mt.y,mt.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)mt.x=this.getX(t),mt.y=this.getY(t),mt.z=this.getZ(t),mt.transformDirection(e),this.setXYZ(t,mt.x,mt.y,mt.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Cy(e,t,n){Be.call(this,new Int8Array(e),t,n)}Cy.prototype=Object.create(Be.prototype);Cy.prototype.constructor=Cy;function Py(e,t,n){Be.call(this,new Uint8Array(e),t,n)}Py.prototype=Object.create(Be.prototype);Py.prototype.constructor=Py;function Ly(e,t,n){Be.call(this,new Uint8ClampedArray(e),t,n)}Ly.prototype=Object.create(Be.prototype);Ly.prototype.constructor=Ly;function Ry(e,t,n){Be.call(this,new Int16Array(e),t,n)}Ry.prototype=Object.create(Be.prototype);Ry.prototype.constructor=Ry;function Iu(e,t,n){Be.call(this,new Uint16Array(e),t,n)}Iu.prototype=Object.create(Be.prototype);Iu.prototype.constructor=Iu;function Oy(e,t,n){Be.call(this,new Int32Array(e),t,n)}Oy.prototype=Object.create(Be.prototype);Oy.prototype.constructor=Oy;function Fu(e,t,n){Be.call(this,new Uint32Array(e),t,n)}Fu.prototype=Object.create(Be.prototype);Fu.prototype.constructor=Fu;function Ee(e,t,n){Be.call(this,new Float32Array(e),t,n)}Ee.prototype=Object.create(Be.prototype);Ee.prototype.constructor=Ee;function Iy(e,t,n){Be.call(this,new Float64Array(e),t,n)}Iy.prototype=Object.create(Be.prototype);Iy.prototype.constructor=Iy;function cT(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(cT.prototype,{computeGroups:function(e){const t=[];let n,i,r;const s=e.faces;for(i=0;i<s.length;i++){const o=s[i];o.materialIndex!==r&&(r=o.materialIndex,n!==void 0&&(n.count=i*3-n.start,t.push(n)),n={start:i*3,materialIndex:r})}n!==void 0&&(n.count=i*3-n.start,t.push(n)),this.groups=t},fromGeometry:function(e){const t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,s=i[1]&&i[1].length>0,o=e.morphTargets,a=o.length;let l;if(a>0){l=[];for(let _=0;_<a;_++)l[_]={name:o[_].name,data:[]};this.morphTargets.position=l}const c=e.morphNormals,u=c.length;let f;if(u>0){f=[];for(let _=0;_<u;_++)f[_]={name:c[_].name,data:[]};this.morphTargets.normal=f}const d=e.skinIndices,h=e.skinWeights,p=d.length===n.length,g=h.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let _=0;_<t.length;_++){const m=t[_];this.vertices.push(n[m.a],n[m.b],n[m.c]);const y=m.vertexNormals;if(y.length===3)this.normals.push(y[0],y[1],y[2]);else{const v=m.normal;this.normals.push(v,v,v)}const x=m.vertexColors;if(x.length===3)this.colors.push(x[0],x[1],x[2]);else{const v=m.color;this.colors.push(v,v,v)}if(r===!0){const v=i[0][_];v!==void 0?this.uvs.push(v[0],v[1],v[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",_),this.uvs.push(new he,new he,new he))}if(s===!0){const v=i[1][_];v!==void 0?this.uvs2.push(v[0],v[1],v[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",_),this.uvs2.push(new he,new he,new he))}for(let v=0;v<a;v++){const b=o[v].vertices;l[v].data.push(b[m.a],b[m.b],b[m.c])}for(let v=0;v<u;v++){const b=c[v].vertexNormals[_];f[v].data.push(b.a,b.b,b.c)}p&&this.skinIndices.push(d[m.a],d[m.b],d[m.c]),g&&this.skinWeights.push(h[m.a],h[m.b],h[m.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});function uT(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}let pk=1;const fr=new Je,Jm=new Me,Pa=new O,li=new Fr,yc=new Fr,Jt=new O;function Ce(){Object.defineProperty(this,"id",{value:pk+=2}),this.uuid=qe.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ce.prototype=Object.assign(Object.create(ds.prototype),{constructor:Ce,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(uT(e)>65535?Fu:Iu)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new zn().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return fr.makeRotationX(e),this.applyMatrix4(fr),this},rotateY:function(e){return fr.makeRotationY(e),this.applyMatrix4(fr),this},rotateZ:function(e){return fr.makeRotationZ(e),this.applyMatrix4(fr),this},translate:function(e,t,n){return fr.makeTranslation(e,t,n),this.applyMatrix4(fr),this},scale:function(e,t,n){return fr.makeScale(e,t,n),this.applyMatrix4(fr),this},lookAt:function(e){return Jm.lookAt(e),Jm.updateMatrix(),this.applyMatrix4(Jm.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pa).negate(),this.translate(Pa.x,Pa.y,Pa.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new Ee(t.vertices.length*3,3),i=new Ee(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const r=new Ee(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Ee(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new cT().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new Be(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new Be(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new Be(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new Be(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new Be(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],r=e.morphTargets[n];for(let s=0,o=r.length;s<o;s++){const a=r[s],l=new Ee(a.data.length*3,3);l.name=a.name,i.push(l.copyVector3sArray(a.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new Ee(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new Ee(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Fr);const e=this.attributes.position,t=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];li.setFromBufferAttribute(r),this.morphTargetsRelative?(Jt.addVectors(this.boundingBox.min,li.min),this.boundingBox.expandByPoint(Jt),Jt.addVectors(this.boundingBox.max,li.max),this.boundingBox.expandByPoint(Jt)):(this.boundingBox.expandByPoint(li.min),this.boundingBox.expandByPoint(li.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ps);const e=this.attributes.position,t=this.morphAttributes.position;if(e){const n=this.boundingSphere.center;if(li.setFromBufferAttribute(e),t)for(let r=0,s=t.length;r<s;r++){const o=t[r];yc.setFromBufferAttribute(o),this.morphTargetsRelative?(Jt.addVectors(li.min,yc.min),li.expandByPoint(Jt),Jt.addVectors(li.max,yc.max),li.expandByPoint(Jt)):(li.expandByPoint(yc.min),li.expandByPoint(yc.max))}li.getCenter(n);let i=0;for(let r=0,s=e.count;r<s;r++)Jt.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Jt));if(t)for(let r=0,s=t.length;r<s;r++){const o=t[r],a=this.morphTargetsRelative;for(let l=0,c=o.count;l<c;l++)Jt.fromBufferAttribute(o,l),a&&(Pa.fromBufferAttribute(e,l),Jt.add(Pa)),i=Math.max(i,n.distanceToSquared(Jt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Be(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let f=0,d=n.count;f<d;f++)n.setXYZ(f,0,0,0);const i=new O,r=new O,s=new O,o=new O,a=new O,l=new O,c=new O,u=new O;if(e)for(let f=0,d=e.count;f<d;f+=3){const h=e.getX(f+0),p=e.getX(f+1),g=e.getX(f+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,g),c.subVectors(s,r),u.subVectors(i,r),c.cross(u),o.fromBufferAttribute(n,h),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,g),o.add(c),a.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(g,l.x,l.y,l.z)}else for(let f=0,d=t.count;f<d;f+=3)i.fromBufferAttribute(t,f+0),r.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),c.subVectors(s,r),u.subVectors(i,r),c.cross(u),n.setXYZ(f+0,c.x,c.y,c.z),n.setXYZ(f+1,c.x,c.y,c.z),n.setXYZ(f+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const s=n[i].array,o=e.attributes[i],a=o.array,l=o.itemSize*t,c=Math.min(a.length,s.length-l);for(let u=0,f=l;u<c;u++,f++)s[f]=a[u]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Jt.fromBufferAttribute(e,t),Jt.normalize(),e.setXYZ(t,Jt.x,Jt.y,Jt.z)},toNonIndexed:function(){function e(o,a){const l=o.array,c=o.itemSize,u=o.normalized,f=new l.constructor(a.length*c);let d=0,h=0;for(let p=0,g=a.length;p<g;p++){d=a[p]*c;for(let _=0;_<c;_++)f[h++]=l[d++]}return new Be(f,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new Ce,n=this.index.array,i=this.attributes;for(const o in i){const a=i[o],l=e(a,n);t.setAttribute(o,l)}const r=this.morphAttributes;for(const o in r){const a=[],l=r[o];for(let c=0,u=l.length;c<u;c++){const f=l[c],d=e(f,n);a.push(d)}t.morphAttributes[o]=a}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,a=s.length;o<a;o++){const l=s[o];t.addGroup(l.start,l.count,l.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const a=this.parameters;for(const l in a)a[l]!==void 0&&(e[l]=a[l]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const l=n[a],c=l.toJSON(e.data);l.name!==""&&(c.name=l.name),e.data.attributes[a]=c}const i={};let r=!1;for(const a in this.morphAttributes){const l=this.morphAttributes[a],c=[];for(let u=0,f=l.length;u<f;u++){const d=l[u],h=d.toJSON(e.data);d.name!==""&&(h.name=d.name),c.push(h)}c.length>0&&(i[a]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e},clone:function(){return new Ce().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const c=i[l];this.setAttribute(l,c.clone(t))}const r=e.morphAttributes;for(const l in r){const c=[],u=r[l];for(let f=0,d=u.length;f<d;f++)c.push(u[f].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let l=0,c=s.length;l<c;l++){const u=s[l];this.addGroup(u.start,u.count,u.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const a=e.boundingSphere;return a!==null&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Lb=new Je,Mo=new nc,Km=new ps,Es=new O,Ts=new O,Ds=new O,Qm=new O,eg=new O,tg=new O,ch=new O,uh=new O,fh=new O,Qa=new he,el=new he,tl=new he,lu=new O,hh=new O;function dt(e,t){Me.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new Ce,this.material=t!==void 0?t:new or,this.updateMorphTargets()}dt.prototype=Object.assign(Object.create(Me.prototype),{constructor:dt,isMesh:!0,copy:function(e){return Me.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Km.copy(n.boundingSphere),Km.applyMatrix4(r),e.ray.intersectsSphere(Km)===!1)||(Lb.getInverse(r),Mo.copy(e.ray).applyMatrix4(Lb),n.boundingBox!==null&&Mo.intersectsBox(n.boundingBox)===!1))return;let s;if(n.isBufferGeometry){const o=n.index,a=n.attributes.position,l=n.morphAttributes.position,c=n.morphTargetsRelative,u=n.attributes.uv,f=n.attributes.uv2,d=n.groups,h=n.drawRange;if(o!==null)if(Array.isArray(i))for(let p=0,g=d.length;p<g;p++){const _=d[p],m=i[_.materialIndex],y=Math.max(_.start,h.start),x=Math.min(_.start+_.count,h.start+h.count);for(let v=y,b=x;v<b;v+=3){const M=o.getX(v),S=o.getX(v+1),A=o.getX(v+2);s=dh(this,m,e,Mo,a,l,c,u,f,M,S,A),s&&(s.faceIndex=Math.floor(v/3),s.face.materialIndex=_.materialIndex,t.push(s))}}else{const p=Math.max(0,h.start),g=Math.min(o.count,h.start+h.count);for(let _=p,m=g;_<m;_+=3){const y=o.getX(_),x=o.getX(_+1),v=o.getX(_+2);s=dh(this,i,e,Mo,a,l,c,u,f,y,x,v),s&&(s.faceIndex=Math.floor(_/3),t.push(s))}}else if(a!==void 0)if(Array.isArray(i))for(let p=0,g=d.length;p<g;p++){const _=d[p],m=i[_.materialIndex],y=Math.max(_.start,h.start),x=Math.min(_.start+_.count,h.start+h.count);for(let v=y,b=x;v<b;v+=3){const M=v,S=v+1,A=v+2;s=dh(this,m,e,Mo,a,l,c,u,f,M,S,A),s&&(s.faceIndex=Math.floor(v/3),s.face.materialIndex=_.materialIndex,t.push(s))}}else{const p=Math.max(0,h.start),g=Math.min(a.count,h.start+h.count);for(let _=p,m=g;_<m;_+=3){const y=_,x=_+1,v=_+2;s=dh(this,i,e,Mo,a,l,c,u,f,y,x,v),s&&(s.faceIndex=Math.floor(_/3),t.push(s))}}}else if(n.isGeometry){const o=Array.isArray(i),a=n.vertices,l=n.faces;let c;const u=n.faceVertexUvs[0];u.length>0&&(c=u);for(let f=0,d=l.length;f<d;f++){const h=l[f],p=o?i[h.materialIndex]:i;if(p===void 0)continue;const g=a[h.a],_=a[h.b],m=a[h.c];if(s=fT(this,p,e,Mo,g,_,m,lu),s){if(c&&c[f]){const y=c[f];Qa.copy(y[0]),el.copy(y[1]),tl.copy(y[2]),s.uv=un.getUV(lu,g,_,m,Qa,el,tl,new he)}s.face=h,s.faceIndex=f,t.push(s)}}}}});function fT(e,t,n,i,r,s,o,a){let l;if(t.side===en?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,t.side!==Gp,a),l===null)return null;hh.copy(a),hh.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(hh);return c<n.near||c>n.far?null:{distance:c,point:hh.clone(),object:e}}function dh(e,t,n,i,r,s,o,a,l,c,u,f){Es.fromBufferAttribute(r,c),Ts.fromBufferAttribute(r,u),Ds.fromBufferAttribute(r,f);const d=e.morphTargetInfluences;if(t.morphTargets&&s&&d){ch.set(0,0,0),uh.set(0,0,0),fh.set(0,0,0);for(let p=0,g=s.length;p<g;p++){const _=d[p],m=s[p];_!==0&&(Qm.fromBufferAttribute(m,c),eg.fromBufferAttribute(m,u),tg.fromBufferAttribute(m,f),o?(ch.addScaledVector(Qm,_),uh.addScaledVector(eg,_),fh.addScaledVector(tg,_)):(ch.addScaledVector(Qm.sub(Es),_),uh.addScaledVector(eg.sub(Ts),_),fh.addScaledVector(tg.sub(Ds),_)))}Es.add(ch),Ts.add(uh),Ds.add(fh)}e.isSkinnedMesh&&(e.boneTransform(c,Es),e.boneTransform(u,Ts),e.boneTransform(f,Ds));const h=fT(e,t,n,i,Es,Ts,Ds,lu);if(h){a&&(Qa.fromBufferAttribute(a,c),el.fromBufferAttribute(a,u),tl.fromBufferAttribute(a,f),h.uv=un.getUV(lu,Es,Ts,Ds,Qa,el,tl,new he)),l&&(Qa.fromBufferAttribute(l,c),el.fromBufferAttribute(l,u),tl.fromBufferAttribute(l,f),h.uv2=un.getUV(lu,Es,Ts,Ds,Qa,el,tl,new he));const p=new Hd(c,u,f);un.getNormal(Es,Ts,Ds,p.normal),h.face=p}return h}let mk=0;const hr=new Je,ng=new Me,ph=new O;function ze(){Object.defineProperty(this,"id",{value:mk+=2}),this.uuid=qe.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}ze.prototype=Object.assign(Object.create(ds.prototype),{constructor:ze,isGeometry:!0,applyMatrix4:function(e){const t=new zn().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let s=0,o=r.vertexNormals.length;s<o;s++)r.vertexNormals[s].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return hr.makeRotationX(e),this.applyMatrix4(hr),this},rotateY:function(e){return hr.makeRotationY(e),this.applyMatrix4(hr),this},rotateZ:function(e){return hr.makeRotationZ(e),this.applyMatrix4(hr),this},translate:function(e,t,n){return hr.makeTranslation(e,t,n),this.applyMatrix4(hr),this},scale:function(e,t,n){return hr.makeScale(e,t,n),this.applyMatrix4(hr),this},lookAt:function(e){return ng.lookAt(e),ng.updateMatrix(),this.applyMatrix4(ng.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,s=i.normal,o=i.color,a=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let f=0;f<r.count;f++)t.vertices.push(new O().fromBufferAttribute(r,f)),o!==void 0&&t.colors.push(new Le().fromBufferAttribute(o,f));function c(f,d,h,p){const g=o===void 0?[]:[t.colors[f].clone(),t.colors[d].clone(),t.colors[h].clone()],_=s===void 0?[]:[new O().fromBufferAttribute(s,f),new O().fromBufferAttribute(s,d),new O().fromBufferAttribute(s,h)],m=new Hd(f,d,h,_,g,p);t.faces.push(m),a!==void 0&&t.faceVertexUvs[0].push([new he().fromBufferAttribute(a,f),new he().fromBufferAttribute(a,d),new he().fromBufferAttribute(a,h)]),l!==void 0&&t.faceVertexUvs[1].push([new he().fromBufferAttribute(l,f),new he().fromBufferAttribute(l,d),new he().fromBufferAttribute(l,h)])}const u=e.groups;if(u.length>0)for(let f=0;f<u.length;f++){const d=u[f],h=d.start,p=d.count;for(let g=h,_=h+p;g<_;g+=3)n!==void 0?c(n.getX(g),n.getX(g+1),n.getX(g+2),d.materialIndex):c(g,g+1,g+2,d.materialIndex)}else if(n!==void 0)for(let f=0;f<n.count;f+=3)c(n.getX(f),n.getX(f+1),n.getX(f+2));else for(let f=0;f<r.count;f+=3)c(f,f+1,f+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ph).negate(),this.translate(ph.x,ph.y,ph.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new Je;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new O,t=new O;for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],s=this.vertices[r.a],o=this.vertices[r.b],a=this.vertices[r.c];e.subVectors(a,o),t.subVectors(s,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new O;if(e){const n=new O,i=new O;for(let r=0,s=this.faces.length;r<s;r++){const o=this.faces[r],a=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c];n.subVectors(c,l),i.subVectors(a,l),n.cross(i),t[o.a].add(n),t[o.b].add(n),t[o.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],s=r.vertexNormals;s.length===3?(s[0].copy(t[r.a]),s[1].copy(t[r.b]),s[2].copy(t[r.c])):(s[0]=t[r.a].clone(),s[1]=t[r.b].clone(),s[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,s=i.vertexNormals.length;r<s;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}const e=new ze;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const r=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(let o=0,a=this.faces.length;o<a;o++){const l=new O,c={a:new O,b:new O,c:new O};r.push(l),s.push(c)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,s=this.faces.length;r<s;r++){const o=this.faces[r],a=i.faceNormals[r],l=i.vertexNormals[r];a.copy(o.normal),l.a.copy(o.vertexNormals[0]),l.b.copy(o.vertexNormals[1]),l.c.copy(o.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Fr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ps),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i,r=this.vertices.length,s=this.vertices,o=e.vertices,a=this.faces,l=e.faces,c=this.colors,u=e.colors;n===void 0&&(n=0),t!==void 0&&(i=new zn().getNormalMatrix(t));for(let f=0,d=o.length;f<d;f++){const p=o[f].clone();t!==void 0&&p.applyMatrix4(t),s.push(p)}for(let f=0,d=u.length;f<d;f++)c.push(u[f].clone());for(let f=0,d=l.length;f<d;f++){let h=l[f],p,g,_,m=h.vertexNormals,y=h.vertexColors;p=new Hd(h.a+r,h.b+r,h.c+r),p.normal.copy(h.normal),i!==void 0&&p.normal.applyMatrix3(i).normalize();for(let x=0,v=m.length;x<v;x++)g=m[x].clone(),i!==void 0&&g.applyMatrix3(i).normalize(),p.vertexNormals.push(g);p.color.copy(h.color);for(let x=0,v=y.length;x<v;x++)_=y[x],p.vertexColors.push(_.clone());p.materialIndex=h.materialIndex+n,a.push(p)}for(let f=0,d=e.faceVertexUvs.length;f<d;f++){const h=e.faceVertexUvs[f];this.faceVertexUvs[f]===void 0&&(this.faceVertexUvs[f]=[]);for(let p=0,g=h.length;p<g;p++){const _=h[p],m=[];for(let y=0,x=_.length;y<x;y++)m.push(_[y].clone());this.faceVertexUvs[f].push(m)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){const e={},t=[],n=[],r=Math.pow(10,4);for(let a=0,l=this.vertices.length;a<l;a++){const c=this.vertices[a],u=Math.round(c.x*r)+"_"+Math.round(c.y*r)+"_"+Math.round(c.z*r);e[u]===void 0?(e[u]=a,t.push(this.vertices[a]),n[a]=t.length-1):n[a]=n[e[u]]}const s=[];for(let a=0,l=this.faces.length;a<l;a++){const c=this.faces[a];c.a=n[c.a],c.b=n[c.b],c.c=n[c.c];const u=[c.a,c.b,c.c];for(let f=0;f<3;f++)if(u[f]===u[(f+1)%3]){s.push(a);break}}for(let a=s.length-1;a>=0;a--){const l=s[a];this.faces.splice(l,1);for(let c=0,u=this.faceVertexUvs.length;c<u;c++)this.faceVertexUvs[c].splice(l,1)}const o=this.vertices.length-t.length;return this.vertices=t,o},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new O(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let a=0;a<t;a++)e[a]._id=a;function n(a,l){return a.materialIndex-l.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let s,o;i&&i.length===t&&(s=[]),r&&r.length===t&&(o=[]);for(let a=0;a<t;a++){const l=e[a]._id;s&&s.push(i[l]),o&&o.push(r[l])}s&&(this.faceVertexUvs[0]=s),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}const t=[];for(let h=0;h<this.vertices.length;h++){const p=this.vertices[h];t.push(p.x,p.y,p.z)}const n=[],i=[],r={},s=[],o={},a=[],l={};for(let h=0;h<this.faces.length;h++){const p=this.faces[h],g=!0,_=!1,m=this.faceVertexUvs[0][h]!==void 0,y=p.normal.length()>0,x=p.vertexNormals.length>0,v=p.color.r!==1||p.color.g!==1||p.color.b!==1,b=p.vertexColors.length>0;let M=0;if(M=c(M,0,0),M=c(M,1,g),M=c(M,2,_),M=c(M,3,m),M=c(M,4,y),M=c(M,5,x),M=c(M,6,v),M=c(M,7,b),n.push(M),n.push(p.a,p.b,p.c),n.push(p.materialIndex),m){const S=this.faceVertexUvs[0][h];n.push(d(S[0]),d(S[1]),d(S[2]))}if(y&&n.push(u(p.normal)),x){const S=p.vertexNormals;n.push(u(S[0]),u(S[1]),u(S[2]))}if(v&&n.push(f(p.color)),b){const S=p.vertexColors;n.push(f(S[0]),f(S[1]),f(S[2]))}}function c(h,p,g){return g?h|1<<p:h&~(1<<p)}function u(h){const p=h.x.toString()+h.y.toString()+h.z.toString();return r[p]!==void 0||(r[p]=i.length/3,i.push(h.x,h.y,h.z)),r[p]}function f(h){const p=h.r.toString()+h.g.toString()+h.b.toString();return o[p]!==void 0||(o[p]=s.length,s.push(h.getHex())),o[p]}function d(h){const p=h.x.toString()+h.y.toString();return l[p]!==void 0||(l[p]=a.length/2,a.push(h.x,h.y)),l[p]}return e.data={},e.data.vertices=t,e.data.normals=i,s.length>0&&(e.data.colors=s),a.length>0&&(e.data.uvs=[a]),e.data.faces=n,e},clone:function(){return new ze().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let f=0,d=t.length;f<d;f++)this.vertices.push(t[f].clone());const n=e.colors;for(let f=0,d=n.length;f<d;f++)this.colors.push(n[f].clone());const i=e.faces;for(let f=0,d=i.length;f<d;f++)this.faces.push(i[f].clone());for(let f=0,d=e.faceVertexUvs.length;f<d;f++){const h=e.faceVertexUvs[f];this.faceVertexUvs[f]===void 0&&(this.faceVertexUvs[f]=[]);for(let p=0,g=h.length;p<g;p++){const _=h[p],m=[];for(let y=0,x=_.length;y<x;y++){const v=_[y];m.push(v.clone())}this.faceVertexUvs[f].push(m)}}const r=e.morphTargets;for(let f=0,d=r.length;f<d;f++){const h={};if(h.name=r[f].name,r[f].vertices!==void 0){h.vertices=[];for(let p=0,g=r[f].vertices.length;p<g;p++)h.vertices.push(r[f].vertices[p].clone())}if(r[f].normals!==void 0){h.normals=[];for(let p=0,g=r[f].normals.length;p<g;p++)h.normals.push(r[f].normals[p].clone())}this.morphTargets.push(h)}const s=e.morphNormals;for(let f=0,d=s.length;f<d;f++){const h={};if(s[f].vertexNormals!==void 0){h.vertexNormals=[];for(let p=0,g=s[f].vertexNormals.length;p<g;p++){const _=s[f].vertexNormals[p],m={};m.a=_.a.clone(),m.b=_.b.clone(),m.c=_.c.clone(),h.vertexNormals.push(m)}}if(s[f].faceNormals!==void 0){h.faceNormals=[];for(let p=0,g=s[f].faceNormals.length;p<g;p++)h.faceNormals.push(s[f].faceNormals[p].clone())}this.morphNormals.push(h)}const o=e.skinWeights;for(let f=0,d=o.length;f<d;f++)this.skinWeights.push(o[f].clone());const a=e.skinIndices;for(let f=0,d=a.length;f<d;f++)this.skinIndices.push(a[f].clone());const l=e.lineDistances;for(let f=0,d=l.length;f<d;f++)this.lineDistances.push(l[f]);const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class gk extends ze{constructor(t,n,i,r,s,o){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o},this.fromBufferGeometry(new $p(t,n,i,r,s,o)),this.mergeVertices()}}class $p extends Ce{constructor(t,n,i,r,s,o){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;t=t||1,n=n||1,i=i||1,r=Math.floor(r)||1,s=Math.floor(s)||1,o=Math.floor(o)||1;const l=[],c=[],u=[],f=[];let d=0,h=0;p("z","y","x",-1,-1,i,n,t,o,s,0),p("z","y","x",1,-1,i,n,-t,o,s,1),p("x","z","y",1,1,t,i,n,r,o,2),p("x","z","y",1,-1,t,i,-n,r,o,3),p("x","y","z",1,-1,t,n,i,r,s,4),p("x","y","z",-1,-1,t,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ee(c,3)),this.setAttribute("normal",new Ee(u,3)),this.setAttribute("uv",new Ee(f,2));function p(g,_,m,y,x,v,b,M,S,A,E){const L=v/S,N=b/A,R=v/2,H=b/2,U=M/2,z=S+1,F=A+1;let V=0,$=0;const q=new O;for(let D=0;D<F;D++){const I=D*N-H;for(let le=0;le<z;le++){const de=le*L-R;q[g]=de*y,q[_]=I*x,q[m]=U,c.push(q.x,q.y,q.z),q[g]=0,q[_]=0,q[m]=M>0?1:-1,u.push(q.x,q.y,q.z),f.push(le/S),f.push(1-D/A),V+=1}}for(let D=0;D<A;D++)for(let I=0;I<S;I++){const le=d+I+z*D,de=d+I+z*(D+1),ge=d+(I+1)+z*(D+1),ue=d+(I+1)+z*D;l.push(le,de,ue),l.push(de,ge,ue),$+=6}a.addGroup(h,$,E),h+=$,d+=V}}}function Ll(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function xn(e){const t={};for(let n=0;n<e.length;n++){const i=Ll(e[n]);for(const r in i)t[r]=i[r]}return t}const yk={clone:Ll,merge:xn};var _k=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Vn(e){Ne.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=_k,this.fragmentShader=vk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Vn.prototype=Object.create(Ne.prototype);Vn.prototype.constructor=Vn;Vn.prototype.isShaderMaterial=!0;Vn.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ll(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this};Vn.prototype.toJSON=function(e){const t=Ne.prototype.toJSON.call(this,e);t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function rs(){Me.call(this),this.type="Camera",this.matrixWorldInverse=new Je,this.projectionMatrix=new Je,this.projectionMatrixInverse=new Je}rs.prototype=Object.assign(Object.create(Me.prototype),{constructor:rs,isCamera:!0,copy:function(e,t){return Me.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new O),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Me.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Me.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function zt(e,t,n,i){rs.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=i!==void 0?i:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}zt.prototype=Object.assign(Object.create(rs.prototype),{constructor:zt,isPerspectiveCamera:!0,copy:function(e,t){return rs.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=qe.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(qe.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return qe.RAD2DEG*2*Math.atan(Math.tan(qe.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let e=this.near,t=e*Math.tan(qe.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,s=this.view;if(this.view!==null&&this.view.enabled){const a=s.fullWidth,l=s.fullHeight;r+=s.offsetX*i/a,t-=s.offsetY*n/l,i*=s.width/a,n*=s.height/l}const o=this.filmOffset;o!==0&&(r+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Me.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const La=90,Ra=1;function ku(e,t,n){if(Me.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new zt(La,Ra,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new O(1,0,0)),this.add(i);const r=new zt(La,Ra,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new O(-1,0,0)),this.add(r);const s=new zt(La,Ra,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new O(0,1,0)),this.add(s);const o=new zt(La,Ra,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new O(0,-1,0)),this.add(o);const a=new zt(La,Ra,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new O(0,0,1)),this.add(a);const l=new zt(La,Ra,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new O(0,0,-1)),this.add(l),this.update=function(c,u){this.parent===null&&this.updateMatrixWorld();const f=c.xr.enabled,d=c.getRenderTarget();c.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,c.setRenderTarget(n,0),c.render(u,i),c.setRenderTarget(n,1),c.render(u,r),c.setRenderTarget(n,2),c.render(u,s),c.setRenderTarget(n,3),c.render(u,o),c.setRenderTarget(n,4),c.render(u,a),n.texture.generateMipmaps=h,c.setRenderTarget(n,5),c.render(u,l),c.setRenderTarget(d),c.xr.enabled=f},this.clear=function(c,u,f,d){const h=c.getRenderTarget();for(let p=0;p<6;p++)c.setRenderTarget(n,p),c.clear(u,f,d);c.setRenderTarget(h)}}ku.prototype=Object.create(Me.prototype);ku.prototype.constructor=ku;function Bu(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),Bi.call(this,e,e,t)}Bu.prototype=Object.create(Bi.prototype);Bu.prototype.constructor=Bu;Bu.prototype.isWebGLCubeRenderTarget=!0;Bu.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;const n=new Pl,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV = equirectUv( direction );","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},r=new Vn({name:"CubemapFromEquirect",uniforms:Ll(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:en,blending:Qs});r.uniforms.tEquirect.value=t;const s=new dt(new $p(5,5,5),r);return n.add(s),new ku(1,10,this).update(e,n),s.geometry.dispose(),s.material.dispose(),this};function Rl(e,t,n,i,r,s,o,a,l,c,u,f){pt.call(this,null,s,o,a,l,c,i,r,u,f),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=l!==void 0?l:rn,this.minFilter=c!==void 0?c:rn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Rl.prototype=Object.create(pt.prototype);Rl.prototype.constructor=Rl;Rl.prototype.isDataTexture=!0;const Oa=new ps,mh=new O;function Df(e,t,n,i,r,s){this.planes=[e!==void 0?e:new _r,t!==void 0?t:new _r,n!==void 0?n:new _r,i!==void 0?i:new _r,r!==void 0?r:new _r,s!==void 0?s:new _r]}Object.assign(Df.prototype,{set:function(e,t,n,i,r,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(s),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],u=n[7],f=n[8],d=n[9],h=n[10],p=n[11],g=n[12],_=n[13],m=n[14],y=n[15];return t[0].setComponents(o-i,u-a,p-f,y-g).normalize(),t[1].setComponents(o+i,u+a,p+f,y+g).normalize(),t[2].setComponents(o+r,u+l,p+d,y+_).normalize(),t[3].setComponents(o-r,u-l,p-d,y-_).normalize(),t[4].setComponents(o-s,u-c,p-h,y-m).normalize(),t[5].setComponents(o+s,u+c,p+h,y+m).normalize(),this},intersectsObject:function(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Oa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Oa)},intersectsSprite:function(e){return Oa.center.set(0,0,0),Oa.radius=.7071067811865476,Oa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Oa)},intersectsSphere:function(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:function(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(mh.x=i.normal.x>0?e.max.x:e.min.x,mh.y=i.normal.y>0?e.max.y:e.min.y,mh.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(mh)<0)return!1}return!0},containsPoint:function(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});const Se={common:{diffuse:{value:new Le(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new zn},uv2Transform:{value:new zn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new he(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Le(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Le(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new zn}},sprite:{diffuse:{value:new Le(15658734)},opacity:{value:1},center:{value:new he(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new zn}}};function hT(){let e=null,t=!1,n=null,i=null;function r(s,o){n(s,o),i=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(s){n=s},setContext:function(s){e=s}}}function xk(e,t){const n=t.isWebGL2,i=new WeakMap;function r(c,u){const f=c.array,d=c.usage,h=e.createBuffer();e.bindBuffer(u,h),e.bufferData(u,f,d),c.onUploadCallback();let p=5126;return f instanceof Float32Array?p=5126:f instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):f instanceof Uint16Array?p=5123:f instanceof Int16Array?p=5122:f instanceof Uint32Array?p=5125:f instanceof Int32Array?p=5124:f instanceof Int8Array?p=5120:f instanceof Uint8Array&&(p=5121),{buffer:h,type:p,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,h=u.updateRange;e.bindBuffer(f,c),h.count===-1?e.bufferSubData(f,0,d):(n?e.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):e.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(e.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f===void 0?i.set(c,r(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}function Gd(e,t,n,i){ze.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new oa(e,t,n,i)),this.mergeVertices()}Gd.prototype=Object.create(ze.prototype);Gd.prototype.constructor=Gd;function oa(e,t,n,i){Ce.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},e=e||1,t=t||1;const r=e/2,s=t/2,o=Math.floor(n)||1,a=Math.floor(i)||1,l=o+1,c=a+1,u=e/o,f=t/a,d=[],h=[],p=[],g=[];for(let _=0;_<c;_++){const m=_*f-s;for(let y=0;y<l;y++){const x=y*u-r;h.push(x,-m,0),p.push(0,0,1),g.push(y/o),g.push(1-_/a)}}for(let _=0;_<a;_++)for(let m=0;m<o;m++){const y=m+l*_,x=m+l*(_+1),v=m+1+l*(_+1),b=m+1+l*_;d.push(y,x,b),d.push(x,v,b)}this.setIndex(d),this.setAttribute("position",new Ee(h,3)),this.setAttribute("normal",new Ee(p,3)),this.setAttribute("uv",new Ee(g,2))}oa.prototype=Object.create(Ce.prototype);oa.prototype.constructor=oa;var bk=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,wk=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mk=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,Sk=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,Ek=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Tk="vec3 transformed = vec3( position );",Dk=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ak=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,Ck=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Pk=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Lk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Rk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ok=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Ik=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,Fk=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,kk=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,Bk=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,Nk=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,zk=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,Uk=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Hk=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Gk=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Vk=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Wk=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jk="gl_FragColor = linearToOutputTexel( gl_FragColor );",qk=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,$k=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Xk=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Yk=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Zk=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Jk=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Kk=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,Qk=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,eB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,tB=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,nB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,iB=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,rB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sB=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,oB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,aB=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,lB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,cB=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,uB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,fB=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,hB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,dB=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,pB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,mB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,gB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,yB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,_B=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,xB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,bB=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,wB=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,MB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,SB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EB=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,TB=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,DB=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,AB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,CB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,PB=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,LB=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,RB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,OB=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,IB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,FB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,kB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,BB=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,NB=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,zB=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,UB=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,HB=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,GB=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,VB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,WB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,qB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$B=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,XB=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,YB=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ZB=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JB=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,KB=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,QB=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eN=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tN=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,nN=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,iN=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,rN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,sN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,oN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,aN=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,lN=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cN=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,uN=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fN=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hN=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,dN=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pN=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,mN=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gN=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yN=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,_N=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vN=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xN=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bN=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,wN=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MN=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SN=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EN=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,TN=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DN=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AN=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CN=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PN=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LN=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RN=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,ON=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,IN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,FN=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kN=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,BN=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,zN=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Qe={alphamap_fragment:bk,alphamap_pars_fragment:wk,alphatest_fragment:Mk,aomap_fragment:Sk,aomap_pars_fragment:Ek,begin_vertex:Tk,beginnormal_vertex:Dk,bsdfs:Ak,bumpmap_pars_fragment:Ck,clipping_planes_fragment:Pk,clipping_planes_pars_fragment:Lk,clipping_planes_pars_vertex:Rk,clipping_planes_vertex:Ok,color_fragment:Ik,color_pars_fragment:Fk,color_pars_vertex:kk,color_vertex:Bk,common:Nk,cube_uv_reflection_fragment:zk,defaultnormal_vertex:Uk,displacementmap_pars_vertex:Hk,displacementmap_vertex:Gk,emissivemap_fragment:Vk,emissivemap_pars_fragment:Wk,encodings_fragment:jk,encodings_pars_fragment:qk,envmap_fragment:$k,envmap_common_pars_fragment:Xk,envmap_pars_fragment:Yk,envmap_pars_vertex:Zk,envmap_physical_pars_fragment:aB,envmap_vertex:Jk,fog_vertex:Kk,fog_pars_vertex:Qk,fog_fragment:eB,fog_pars_fragment:tB,gradientmap_pars_fragment:nB,lightmap_fragment:iB,lightmap_pars_fragment:rB,lights_lambert_vertex:sB,lights_pars_begin:oB,lights_toon_fragment:lB,lights_toon_pars_fragment:cB,lights_phong_fragment:uB,lights_phong_pars_fragment:fB,lights_physical_fragment:hB,lights_physical_pars_fragment:dB,lights_fragment_begin:pB,lights_fragment_maps:mB,lights_fragment_end:gB,logdepthbuf_fragment:yB,logdepthbuf_pars_fragment:_B,logdepthbuf_pars_vertex:vB,logdepthbuf_vertex:xB,map_fragment:bB,map_pars_fragment:wB,map_particle_fragment:MB,map_particle_pars_fragment:SB,metalnessmap_fragment:EB,metalnessmap_pars_fragment:TB,morphnormal_vertex:DB,morphtarget_pars_vertex:AB,morphtarget_vertex:CB,normal_fragment_begin:PB,normal_fragment_maps:LB,normalmap_pars_fragment:RB,clearcoat_normal_fragment_begin:OB,clearcoat_normal_fragment_maps:IB,clearcoat_pars_fragment:FB,packing:kB,premultiplied_alpha_fragment:BB,project_vertex:NB,dithering_fragment:zB,dithering_pars_fragment:UB,roughnessmap_fragment:HB,roughnessmap_pars_fragment:GB,shadowmap_pars_fragment:VB,shadowmap_pars_vertex:WB,shadowmap_vertex:jB,shadowmask_pars_fragment:qB,skinbase_vertex:$B,skinning_pars_vertex:XB,skinning_vertex:YB,skinnormal_vertex:ZB,specularmap_fragment:JB,specularmap_pars_fragment:KB,tonemapping_fragment:QB,tonemapping_pars_fragment:eN,uv_pars_fragment:tN,uv_pars_vertex:nN,uv_vertex:iN,uv2_pars_fragment:rN,uv2_pars_vertex:sN,uv2_vertex:oN,worldpos_vertex:aN,background_frag:lN,background_vert:cN,cube_frag:uN,cube_vert:fN,depth_frag:hN,depth_vert:dN,distanceRGBA_frag:pN,distanceRGBA_vert:mN,equirect_frag:gN,equirect_vert:yN,linedashed_frag:_N,linedashed_vert:vN,meshbasic_frag:xN,meshbasic_vert:bN,meshlambert_frag:wN,meshlambert_vert:MN,meshmatcap_frag:SN,meshmatcap_vert:EN,meshtoon_frag:TN,meshtoon_vert:DN,meshphong_frag:AN,meshphong_vert:CN,meshphysical_frag:PN,meshphysical_vert:LN,normal_frag:RN,normal_vert:ON,points_frag:IN,points_vert:FN,shadow_frag:kN,shadow_vert:BN,sprite_frag:NN,sprite_vert:zN},qr={basic:{uniforms:xn([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.fog]),vertexShader:Qe.meshbasic_vert,fragmentShader:Qe.meshbasic_frag},lambert:{uniforms:xn([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.fog,Se.lights,{emissive:{value:new Le(0)}}]),vertexShader:Qe.meshlambert_vert,fragmentShader:Qe.meshlambert_frag},phong:{uniforms:xn([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.fog,Se.lights,{emissive:{value:new Le(0)},specular:{value:new Le(1118481)},shininess:{value:30}}]),vertexShader:Qe.meshphong_vert,fragmentShader:Qe.meshphong_frag},standard:{uniforms:xn([Se.common,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.roughnessmap,Se.metalnessmap,Se.fog,Se.lights,{emissive:{value:new Le(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qe.meshphysical_vert,fragmentShader:Qe.meshphysical_frag},toon:{uniforms:xn([Se.common,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.gradientmap,Se.fog,Se.lights,{emissive:{value:new Le(0)}}]),vertexShader:Qe.meshtoon_vert,fragmentShader:Qe.meshtoon_frag},matcap:{uniforms:xn([Se.common,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.fog,{matcap:{value:null}}]),vertexShader:Qe.meshmatcap_vert,fragmentShader:Qe.meshmatcap_frag},points:{uniforms:xn([Se.points,Se.fog]),vertexShader:Qe.points_vert,fragmentShader:Qe.points_frag},dashed:{uniforms:xn([Se.common,Se.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qe.linedashed_vert,fragmentShader:Qe.linedashed_frag},depth:{uniforms:xn([Se.common,Se.displacementmap]),vertexShader:Qe.depth_vert,fragmentShader:Qe.depth_frag},normal:{uniforms:xn([Se.common,Se.bumpmap,Se.normalmap,Se.displacementmap,{opacity:{value:1}}]),vertexShader:Qe.normal_vert,fragmentShader:Qe.normal_frag},sprite:{uniforms:xn([Se.sprite,Se.fog]),vertexShader:Qe.sprite_vert,fragmentShader:Qe.sprite_frag},background:{uniforms:{uvTransform:{value:new zn},t2D:{value:null}},vertexShader:Qe.background_vert,fragmentShader:Qe.background_frag},cube:{uniforms:xn([Se.envmap,{opacity:{value:1}}]),vertexShader:Qe.cube_vert,fragmentShader:Qe.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qe.equirect_vert,fragmentShader:Qe.equirect_frag},distanceRGBA:{uniforms:xn([Se.common,Se.displacementmap,{referencePosition:{value:new O},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qe.distanceRGBA_vert,fragmentShader:Qe.distanceRGBA_frag},shadow:{uniforms:xn([Se.lights,Se.fog,{color:{value:new Le(0)},opacity:{value:1}}]),vertexShader:Qe.shadow_vert,fragmentShader:Qe.shadow_frag}};qr.physical={uniforms:xn([qr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new he(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Le(0)},transparency:{value:0}}]),vertexShader:Qe.meshphysical_vert,fragmentShader:Qe.meshphysical_frag};function UN(e,t,n,i){const r=new Le(0);let s=0,o,a,l=null,c=0,u=null;function f(h,p,g,_){let m=p.isScene===!0?p.background:null;const y=e.xr,x=y.getSession&&y.getSession();if(x&&x.environmentBlendMode==="additive"&&(m=null),m===null?d(r,s):m&&m.isColor&&(d(m,1),_=!0),(e.autoClear||_)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===Ef)){a===void 0&&(a=new dt(new $p(1,1,1),new Vn({name:"BackgroundCubeMaterial",uniforms:Ll(qr.cube.uniforms),vertexShader:qr.cube.vertexShader,fragmentShader:qr.cube.fragmentShader,side:en,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(b,M,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(a));const v=m.isWebGLCubeRenderTarget?m.texture:m;a.material.uniforms.envMap.value=v,a.material.uniforms.flipEnvMap.value=v.isCubeTexture?-1:1,(l!==m||c!==v.version||u!==e.toneMapping)&&(a.material.needsUpdate=!0,l=m,c=v.version,u=e.toneMapping),h.unshift(a,a.geometry,a.material,0,0,null)}else m&&m.isTexture&&(o===void 0&&(o=new dt(new oa(2,2),new Vn({name:"BackgroundMaterial",uniforms:Ll(qr.background.uniforms),vertexShader:qr.background.vertexShader,fragmentShader:qr.background.fragmentShader,side:Sf,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=m,m.matrixAutoUpdate===!0&&m.updateMatrix(),o.material.uniforms.uvTransform.value.copy(m.matrix),(l!==m||c!==m.version||u!==e.toneMapping)&&(o.material.needsUpdate=!0,l=m,c=m.version,u=e.toneMapping),h.unshift(o,o.geometry,o.material,0,0,null))}function d(h,p){t.buffers.color.setClear(h.r,h.g,h.b,p,i)}return{getClearColor:function(){return r},setClearColor:function(h,p){r.set(h),s=p!==void 0?p:1,d(r,s)},getClearAlpha:function(){return s},setClearAlpha:function(h){s=h,d(r,s)},render:f}}function HN(e,t,n,i){const r=e.getParameter(34921),s=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=g(null);let c=l;function u(H,U,z,F,V){let $=!1;if(o){const q=p(F,z,U);c!==q&&(c=q,d(c.object)),$=_(F),$&&m(F)}else{const q=U.wireframe===!0;(c.geometry!==F.id||c.program!==z.id||c.wireframe!==q)&&(c.geometry=F.id,c.program=z.id,c.wireframe=q,$=!0)}H.isInstancedMesh===!0&&($=!0),V!==null&&n.update(V,34963),$&&(S(H,U,z,F),V!==null&&e.bindBuffer(34963,n.get(V).buffer))}function f(){return i.isWebGL2?e.createVertexArray():s.createVertexArrayOES()}function d(H){return i.isWebGL2?e.bindVertexArray(H):s.bindVertexArrayOES(H)}function h(H){return i.isWebGL2?e.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function p(H,U,z){const F=z.wireframe===!0;let V=a[H.id];V===void 0&&(V={},a[H.id]=V);let $=V[U.id];$===void 0&&($={},V[U.id]=$);let q=$[F];return q===void 0&&(q=g(f()),$[F]=q),q}function g(H){const U=[],z=[],F=[];for(let V=0;V<r;V++)U[V]=0,z[V]=0,F[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:z,attributeDivisors:F,object:H,attributes:{}}}function _(H){const U=c.attributes,z=H.attributes;if(Object.keys(U).length!==Object.keys(z).length)return!0;for(const F in z){const V=U[F],$=z[F];if(V.attribute!==$||V.data!==$.data)return!0}return!1}function m(H){const U={},z=H.attributes;for(const F in z){const V=z[F],$={};$.attribute=V,V.data&&($.data=V.data),U[F]=$}c.attributes=U}function y(){const H=c.newAttributes;for(let U=0,z=H.length;U<z;U++)H[U]=0}function x(H){v(H,0)}function v(H,U){const z=c.newAttributes,F=c.enabledAttributes,V=c.attributeDivisors;z[H]=1,F[H]===0&&(e.enableVertexAttribArray(H),F[H]=1),V[H]!==U&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,U),V[H]=U)}function b(){const H=c.newAttributes,U=c.enabledAttributes;for(let z=0,F=U.length;z<F;z++)U[z]!==H[z]&&(e.disableVertexAttribArray(z),U[z]=0)}function M(H,U,z,F,V,$){i.isWebGL2===!0&&(z===5124||z===5125)?e.vertexAttribIPointer(H,U,z,F,V,$):e.vertexAttribPointer(H,U,z,F,V,$)}function S(H,U,z,F){if(i.isWebGL2===!1&&(H.isInstancedMesh||F.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;y();const V=F.attributes,$=z.getAttributes(),q=U.defaultAttributeValues;for(const D in $){const I=$[D];if(I>=0){const le=V[D];if(le!==void 0){const de=le.normalized,ge=le.itemSize,ue=n.get(le);if(ue===void 0)continue;const K=ue.buffer,W=ue.type,ee=ue.bytesPerElement;if(le.isInterleavedBufferAttribute){const ie=le.data,oe=ie.stride,Q=le.offset;ie&&ie.isInstancedInterleavedBuffer?(v(I,ie.meshPerAttribute),F._maxInstanceCount===void 0&&(F._maxInstanceCount=ie.meshPerAttribute*ie.count)):x(I),e.bindBuffer(34962,K),M(I,ge,W,de,oe*ee,Q*ee)}else le.isInstancedBufferAttribute?(v(I,le.meshPerAttribute),F._maxInstanceCount===void 0&&(F._maxInstanceCount=le.meshPerAttribute*le.count)):x(I),e.bindBuffer(34962,K),M(I,ge,W,de,0,0)}else if(D==="instanceMatrix"){const de=n.get(H.instanceMatrix);if(de===void 0)continue;const ge=de.buffer,ue=de.type;v(I+0,1),v(I+1,1),v(I+2,1),v(I+3,1),e.bindBuffer(34962,ge),e.vertexAttribPointer(I+0,4,ue,!1,64,0),e.vertexAttribPointer(I+1,4,ue,!1,64,16),e.vertexAttribPointer(I+2,4,ue,!1,64,32),e.vertexAttribPointer(I+3,4,ue,!1,64,48)}else if(q!==void 0){const de=q[D];if(de!==void 0)switch(de.length){case 2:e.vertexAttrib2fv(I,de);break;case 3:e.vertexAttrib3fv(I,de);break;case 4:e.vertexAttrib4fv(I,de);break;default:e.vertexAttrib1fv(I,de)}}}}b()}function A(){N();for(const H in a){const U=a[H];for(const z in U){const F=U[z];for(const V in F)h(F[V].object),delete F[V];delete U[z]}delete a[H]}}function E(H){if(a[H.id]===void 0)return;const U=a[H.id];for(const z in U){const F=U[z];for(const V in F)h(F[V].object),delete F[V];delete U[z]}delete a[H.id]}function L(H){for(const U in a){const z=a[U];if(z[H.id]===void 0)continue;const F=z[H.id];for(const V in F)h(F[V].object),delete F[V];delete z[H.id]}}function N(){R(),c!==l&&(c=l,d(c.object))}function R(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:N,resetDefaultState:R,dispose:A,releaseStatesOfGeometry:E,releaseStatesOfProgram:L,initAttributes:y,enableAttribute:x,disableUnusedAttributes:b}}function GN(e,t,n,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){e.drawArrays(s,c,u),n.update(u,s)}function l(c,u,f,d){if(d===0)return;let h,p;if(r)h=e,p="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](s,u,f,d),n.update(f,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function VN(e,t,n){let i;function r(){if(i!==void 0)return i;const M=t.get("EXT_texture_filter_anisotropic");return M!==null?i=e.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function s(M){if(M==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";M="mediump"}return M==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=n.logarithmicDepthBuffer===!0,u=e.getParameter(34930),f=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),p=e.getParameter(34921),g=e.getParameter(36347),_=e.getParameter(36348),m=e.getParameter(36349),y=f>0,x=o||!!t.get("OES_texture_float"),v=y&&x,b=o?e.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:g,maxVaryings:_,maxFragmentUniforms:m,vertexTextures:y,floatFragmentTextures:x,floatVertexTextures:v,maxSamples:b}}function WN(){const e=this;let t=null,n=0,i=!1,r=!1;const s=new _r,o=new zn,a={value:null,needsUpdate:!1};this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f,d){const h=u.length!==0||f||n!==0||i;return i=f,t=c(u,d,0),n=u.length,h},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1,l()},this.setState=function(u,f,d,h,p,g){if(!i||u===null||u.length===0||r&&!d)r?c(null):l();else{const _=r?0:n,m=_*4;let y=p.clippingState||null;a.value=y,y=c(u,h,m,g);for(let x=0;x!==m;++x)y[x]=t[x];p.clippingState=y,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=_}};function l(){a.value!==t&&(a.value=t,a.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(u,f,d,h){let p=u!==null?u.length:0,g=null;if(p!==0){if(g=a.value,h!==!0||g===null){const _=d+p*4,m=f.matrixWorldInverse;o.getNormalMatrix(m),(g===null||g.length<_)&&(g=new Float32Array(_));for(let y=0,x=d;y!==p;++y,x+=4)s.copy(u[y]).applyMatrix4(m,o),s.normal.toArray(g,x),g[x+3]=s.constant}a.value=g,a.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,g}}function jN(e){const t={};return{get:function(n){if(t[n]!==void 0)return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}function qN(e,t,n,i){const r=new WeakMap,s=new WeakMap;function o(f){const d=f.target,h=r.get(d);h.index!==null&&t.remove(h.index);for(const g in h.attributes)t.remove(h.attributes[g]);d.removeEventListener("dispose",o),r.delete(d);const p=s.get(h);p&&(t.remove(p),s.delete(h)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(f,d){let h=r.get(d);return h||(d.addEventListener("dispose",o),d.isBufferGeometry?h=d:d.isGeometry&&(d._bufferGeometry===void 0&&(d._bufferGeometry=new Ce().setFromObject(f)),h=d._bufferGeometry),r.set(d,h),n.memory.geometries++,h)}function l(f){const d=f.attributes;for(const p in d)t.update(d[p],34962);const h=f.morphAttributes;for(const p in h){const g=h[p];for(let _=0,m=g.length;_<m;_++)t.update(g[_],34962)}}function c(f){const d=[],h=f.index,p=f.attributes.position;let g=0;if(h!==null){const y=h.array;g=h.version;for(let x=0,v=y.length;x<v;x+=3){const b=y[x+0],M=y[x+1],S=y[x+2];d.push(b,M,M,S,S,b)}}else{const y=p.array;g=p.version;for(let x=0,v=y.length/3-1;x<v;x+=3){const b=x+0,M=x+1,S=x+2;d.push(b,M,M,S,S,b)}}const _=new(uT(d)>65535?Fu:Iu)(d,1);_.version=g;const m=s.get(f);m&&t.remove(m),s.set(f,_)}function u(f){const d=s.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function $N(e,t,n,i){const r=i.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,h){e.drawElements(s,h,a,d*l),n.update(h,s)}function f(d,h,p,g){if(g===0)return;let _,m;if(r)_=e,m="drawElementsInstanced";else if(_=t.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[m](s,p,a,h*l,g),n.update(p,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function XN(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(a=a||1,n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function YN(e,t){return e[0]-t[0]}function ZN(e,t){return Math.abs(t[1])-Math.abs(e[1])}function JN(e){const t={},n=new Float32Array(8),i=[];for(let s=0;s<8;s++)i[s]=[s,0];function r(s,o,a,l){const c=s.morphTargetInfluences,u=c===void 0?0:c.length;let f=t[o.id];if(f===void 0){f=[];for(let _=0;_<u;_++)f[_]=[_,0];t[o.id]=f}for(let _=0;_<u;_++){const m=f[_];m[0]=_,m[1]=c[_]}f.sort(ZN);for(let _=0;_<8;_++)_<u&&f[_][1]?(i[_][0]=f[_][0],i[_][1]=f[_][1]):(i[_][0]=Number.MAX_SAFE_INTEGER,i[_][1]=0);i.sort(YN);const d=a.morphTargets&&o.morphAttributes.position,h=a.morphNormals&&o.morphAttributes.normal;let p=0;for(let _=0;_<8;_++){const m=i[_],y=m[0],x=m[1];y!==Number.MAX_SAFE_INTEGER&&x?(d&&o.getAttribute("morphTarget"+_)!==d[y]&&o.setAttribute("morphTarget"+_,d[y]),h&&o.getAttribute("morphNormal"+_)!==h[y]&&o.setAttribute("morphNormal"+_,h[y]),n[_]=x,p+=x):(d&&o.getAttribute("morphTarget"+_)!==void 0&&o.deleteAttribute("morphTarget"+_),h&&o.getAttribute("morphNormal"+_)!==void 0&&o.deleteAttribute("morphNormal"+_),n[_]=0)}const g=o.morphTargetsRelative?1:1-p;l.getUniforms().setValue(e,"morphTargetBaseInfluence",g),l.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function KN(e,t,n,i){let r=new WeakMap;function s(a){const l=i.render.frame,c=a.geometry,u=t.get(a,c);return r.get(u)!==l&&(c.isGeometry&&u.updateFromObject(a),t.update(u),r.set(u,l)),a.isInstancedMesh&&n.update(a.instanceMatrix,34962),u}function o(){r=new WeakMap}return{update:s,dispose:o}}function ao(e,t,n,i,r,s,o,a,l,c){e=e!==void 0?e:[],t=t!==void 0?t:kv,o=o!==void 0?o:Zo,pt.call(this,e,t,n,i,r,s,o,a,l,c),this.flipY=!1}ao.prototype=Object.create(pt.prototype);ao.prototype.constructor=ao;ao.prototype.isCubeTexture=!0;Object.defineProperty(ao.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function Nu(e,t,n,i){pt.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=rn,this.minFilter=rn,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Nu.prototype=Object.create(pt.prototype);Nu.prototype.constructor=Nu;Nu.prototype.isDataTexture2DArray=!0;function zu(e,t,n,i){pt.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=rn,this.minFilter=rn,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}zu.prototype=Object.create(pt.prototype);zu.prototype.constructor=zu;zu.prototype.isDataTexture3D=!0;const dT=new pt,QN=new Nu,ez=new zu,pT=new ao,Rb=[],Ob=[],Ib=new Float32Array(16),Fb=new Float32Array(9),kb=new Float32Array(4);function ic(e,t,n){const i=e[0];if(i<=0||i>0)return e;let r=t*n,s=Rb[r];if(s===void 0&&(s=new Float32Array(r),Rb[r]=s),t!==0){i.toArray(s,0);for(let o=1,a=0;o!==t;++o)a+=n,e[o].toArray(s,a)}return s}function Ui(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function vi(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function mT(e,t){let n=Ob[t];n===void 0&&(n=new Int32Array(t),Ob[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function tz(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function nz(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ui(n,t))return;e.uniform2fv(this.addr,t),vi(n,t)}}function iz(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ui(n,t))return;e.uniform3fv(this.addr,t),vi(n,t)}}function rz(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ui(n,t))return;e.uniform4fv(this.addr,t),vi(n,t)}}function sz(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Ui(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),vi(n,t)}else{if(Ui(n,i))return;kb.set(i),e.uniformMatrix2fv(this.addr,!1,kb),vi(n,i)}}function oz(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Ui(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),vi(n,t)}else{if(Ui(n,i))return;Fb.set(i),e.uniformMatrix3fv(this.addr,!1,Fb),vi(n,i)}}function az(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Ui(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),vi(n,t)}else{if(Ui(n,i))return;Ib.set(i),e.uniformMatrix4fv(this.addr,!1,Ib),vi(n,i)}}function lz(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||dT,r)}function cz(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||QN,r)}function uz(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||ez,r)}function fz(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||pT,r)}function hz(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function dz(e,t){const n=this.cache;Ui(n,t)||(e.uniform2iv(this.addr,t),vi(n,t))}function pz(e,t){const n=this.cache;Ui(n,t)||(e.uniform3iv(this.addr,t),vi(n,t))}function mz(e,t){const n=this.cache;Ui(n,t)||(e.uniform4iv(this.addr,t),vi(n,t))}function gz(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function yz(e){switch(e){case 5126:return tz;case 35664:return nz;case 35665:return iz;case 35666:return rz;case 35674:return sz;case 35675:return oz;case 35676:return az;case 5124:case 35670:return hz;case 35667:case 35671:return dz;case 35668:case 35672:return pz;case 35669:case 35673:return mz;case 5125:return gz;case 35678:case 36198:case 36298:case 36306:case 35682:return lz;case 35679:case 36299:case 36307:return uz;case 35680:case 36300:case 36308:case 36293:return fz;case 36289:case 36303:case 36311:case 36292:return cz}}function _z(e,t){e.uniform1fv(this.addr,t)}function vz(e,t){e.uniform1iv(this.addr,t)}function xz(e,t){e.uniform2iv(this.addr,t)}function bz(e,t){e.uniform3iv(this.addr,t)}function wz(e,t){e.uniform4iv(this.addr,t)}function Mz(e,t){const n=ic(t,this.size,2);e.uniform2fv(this.addr,n)}function Sz(e,t){const n=ic(t,this.size,3);e.uniform3fv(this.addr,n)}function Ez(e,t){const n=ic(t,this.size,4);e.uniform4fv(this.addr,n)}function Tz(e,t){const n=ic(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Dz(e,t){const n=ic(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Az(e,t){const n=ic(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Cz(e,t,n){const i=t.length,r=mT(n,i);e.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTexture2D(t[s]||dT,r[s])}function Pz(e,t,n){const i=t.length,r=mT(n,i);e.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTextureCube(t[s]||pT,r[s])}function Lz(e){switch(e){case 5126:return _z;case 35664:return Mz;case 35665:return Sz;case 35666:return Ez;case 35674:return Tz;case 35675:return Dz;case 35676:return Az;case 5124:case 35670:return vz;case 35667:case 35671:return xz;case 35668:case 35672:return bz;case 35669:case 35673:return wz;case 35678:case 36198:case 36298:case 36306:case 35682:return Cz;case 35680:case 36300:case 36308:case 36293:return Pz}}function Rz(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=yz(t.type)}function gT(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Lz(t.type)}gT.prototype.updateCache=function(e){let t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),vi(t,e)};function yT(e){this.id=e,this.seq=[],this.map={}}yT.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(e,t[o.id],n)}};const ig=/([\w\d_]+)(\])?(\[|\.)?/g;function Bb(e,t){e.seq.push(t),e.map[t.id]=t}function Oz(e,t,n){const i=e.name,r=i.length;for(ig.lastIndex=0;;){const s=ig.exec(i),o=ig.lastIndex;let a=s[1],l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){Bb(n,c===void 0?new Rz(a,e,t):new gT(a,e,t));break}else{let f=n.map[a];f===void 0&&(f=new yT(a),Bb(n,f)),n=f}}}function eo(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const r=e.getActiveUniform(t,i),s=e.getUniformLocation(t,r.name);Oz(r,s,this)}}eo.prototype.setValue=function(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)};eo.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};eo.upload=function(e,t,n,i){for(let r=0,s=t.length;r!==s;++r){const o=t[r],a=n[o.id];a.needsUpdate!==!1&&o.setValue(e,a.value,i)}};eo.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const s=e[i];s.id in t&&n.push(s)}return n};function Nb(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let Iz=0;function Fz(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function _T(e){switch(e){case oi:return["Linear","( value )"];case jp:return["sRGB","( value )"];case Gv:return["RGBE","( value )"];case sT:return["RGBM","( value, 7.0 )"];case oT:return["RGBM","( value, 16.0 )"];case aT:return["RGBD","( value, 256.0 )"];case Hv:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case JF:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function zb(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&r==="")return"";const s=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+r+Fz(s)}function _c(e,t){const n=_T(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function kz(e,t){const n=_T(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Bz(e,t){let n;switch(t){case ZI:n="Linear";break;case JI:n="Reinhard";break;case KI:n="OptimizedCineon";break;case QI:n="ACESFilmic";break;case eF:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Nz(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Bc).join(`
`)}function zz(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function Uz(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const o=e.getActiveAttrib(t,r).name;n[o]=e.getAttribLocation(t,o)}return n}function Bc(e){return e!==""}function Ub(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Hb(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Hz=/^[ \t]*#include +<([\w\d./]+)>/gm;function Fy(e){return e.replace(Hz,Gz)}function Gz(e,t){const n=Qe[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return Fy(n)}const Vz=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Wz=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function Gb(e){return e.replace(Wz,vT).replace(Vz,jz)}function jz(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),vT(e,t,n,i)}function vT(e,t,n,i){let r="";for(let s=parseInt(t);s<parseInt(n);s++)r+=i.replace(/\[ i \]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Vb(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function qz(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===KE?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===AI?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===kc&&(t="SHADOWMAP_TYPE_VSM"),t}function $z(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case kv:case Bv:t="ENVMAP_TYPE_CUBE";break;case Ef:case zv:t="ENVMAP_TYPE_CUBE_UV";break;case nT:case Nv:t="ENVMAP_TYPE_EQUIREC";break}return t}function Xz(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Bv:case Nv:t="ENVMAP_MODE_REFRACTION";break}return t}function Yz(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Vp:t="ENVMAP_BLENDING_MULTIPLY";break;case XI:t="ENVMAP_BLENDING_MIX";break;case YI:t="ENVMAP_BLENDING_ADD";break}return t}function Zz(e,t,n,i){const r=e.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=qz(n),c=$z(n),u=Xz(n),f=Yz(n),d=e.gammaFactor>0?e.gammaFactor:1,h=n.isWebGL2?"":Nz(n),p=zz(s),g=r.createProgram();let _,m;if(n.isRawShaderMaterial?(_=[p].filter(Bc).join(`
`),_.length>0&&(_+=`
`),m=[h,p].filter(Bc).join(`
`),m.length>0&&(m+=`
`)):(_=[Vb(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Bc).join(`
`),m=[h,Vb(n),"#define SHADER_NAME "+n.shaderName,p,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ml?"#define TONE_MAPPING":"",n.toneMapping!==ml?Qe.tonemapping_pars_fragment:"",n.toneMapping!==ml?Bz("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Qe.encodings_pars_fragment,n.map?_c("mapTexelToLinear",n.mapEncoding):"",n.matcap?_c("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?_c("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?_c("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?_c("lightMapTexelToLinear",n.lightMapEncoding):"",kz("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Bc).join(`
`)),o=Fy(o),o=Ub(o,n),o=Hb(o,n),a=Fy(a),a=Ub(a,n),a=Hb(a,n),o=Gb(o),a=Gb(a),n.isWebGL2&&!n.isRawShaderMaterial){let A=!1;const E=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&o.match(E)!==null&&a.match(E)!==null&&(A=!0,o=o.replace(E,""),a=a.replace(E,"")),_=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,m=[`#version 300 es
`,"#define varying in",A?"":"out highp vec4 pc_fragColor;",A?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m}const y=_+o,x=m+a,v=Nb(r,35633,y),b=Nb(r,35632,x);if(r.attachShader(g,v),r.attachShader(g,b),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),e.debug.checkShaderErrors){const A=r.getProgramInfoLog(g).trim(),E=r.getShaderInfoLog(v).trim(),L=r.getShaderInfoLog(b).trim();let N=!0,R=!0;if(r.getProgramParameter(g,35714)===!1){N=!1;const H=zb(r,v,"vertex"),U=zb(r,b,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(g,35715),"gl.getProgramInfoLog",A,H,U)}else A!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):(E===""||L==="")&&(R=!1);R&&(this.diagnostics={runnable:N,programLog:A,vertexShader:{log:E,prefix:_},fragmentShader:{log:L,prefix:m}})}r.deleteShader(v),r.deleteShader(b);let M;this.getUniforms=function(){return M===void 0&&(M=new eo(r,g)),M};let S;return this.getAttributes=function(){return S===void 0&&(S=Uz(r,g)),S},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Iz++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=v,this.fragmentShader=b,this}function Jz(e,t,n,i){const r=[],s=n.isWebGL2,o=n.logarithmicDepthBuffer,a=n.floatVertexTextures,l=n.maxVertexUniforms,c=n.vertexTextures;let u=n.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},d=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function h(v,b){let M;if(b){const S=qr[b];M={name:v.name||v.type,uniforms:yk.clone(S.uniforms),vertexShader:S.vertexShader,fragmentShader:S.fragmentShader}}else M={name:v.name||v.type,uniforms:v.uniforms,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader};return M}function p(v){const M=v.skeleton.bones;if(a)return 1024;{const A=Math.floor((l-20)/4),E=Math.min(A,M.length);return E<M.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+M.length+" bones. This GPU supports "+E+"."),0):E}}function g(v){let b;return v?v.isTexture?b=v.encoding:v.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),b=v.texture.encoding):b=oi,b}function _(v,b,M,S,A,E,L){const N=S.fog,R=v.isMeshStandardMaterial?S.environment:null,H=v.envMap||R,U=f[v.type],z=L.isSkinnedMesh?p(L):0;v.precision!==null&&(u=n.getMaxPrecision(v.precision),u!==v.precision&&console.warn("THREE.WebGLProgram.getParameters:",v.precision,"not supported, using",u,"instead."));const F=h(v,U);v.onBeforeCompile(F,e);const V=e.getRenderTarget();return{isWebGL2:s,shaderID:U,shaderName:F.name,uniforms:F.uniforms,vertexShader:F.vertexShader,fragmentShader:F.fragmentShader,defines:v.defines,isRawShaderMaterial:v.isRawShaderMaterial,isShaderMaterial:v.isShaderMaterial,precision:u,instancing:L.isInstancedMesh===!0,supportsVertexTextures:c,outputEncoding:V!==null?g(V.texture):e.outputEncoding,map:!!v.map,mapEncoding:g(v.map),matcap:!!v.matcap,matcapEncoding:g(v.matcap),envMap:!!H,envMapMode:H&&H.mapping,envMapEncoding:g(H),envMapCubeUV:!!H&&(H.mapping===Ef||H.mapping===zv),lightMap:!!v.lightMap,lightMapEncoding:g(v.lightMap),aoMap:!!v.aoMap,emissiveMap:!!v.emissiveMap,emissiveMapEncoding:g(v.emissiveMap),bumpMap:!!v.bumpMap,normalMap:!!v.normalMap,objectSpaceNormalMap:v.normalMapType===ek,tangentSpaceNormalMap:v.normalMapType===ec,clearcoatMap:!!v.clearcoatMap,clearcoatRoughnessMap:!!v.clearcoatRoughnessMap,clearcoatNormalMap:!!v.clearcoatNormalMap,displacementMap:!!v.displacementMap,roughnessMap:!!v.roughnessMap,metalnessMap:!!v.metalnessMap,specularMap:!!v.specularMap,alphaMap:!!v.alphaMap,gradientMap:!!v.gradientMap,sheen:!!v.sheen,combine:v.combine,vertexTangents:v.normalMap&&v.vertexTangents,vertexColors:v.vertexColors,vertexUvs:!!v.map||!!v.bumpMap||!!v.normalMap||!!v.specularMap||!!v.alphaMap||!!v.emissiveMap||!!v.roughnessMap||!!v.metalnessMap||!!v.clearcoatMap||!!v.clearcoatRoughnessMap||!!v.clearcoatNormalMap||!!v.displacementMap,uvsVertexOnly:!(v.map||v.bumpMap||v.normalMap||v.specularMap||v.alphaMap||v.emissiveMap||v.roughnessMap||v.metalnessMap||v.clearcoatNormalMap)&&!!v.displacementMap,fog:!!N,useFog:v.fog,fogExp2:N&&N.isFogExp2,flatShading:v.flatShading,sizeAttenuation:v.sizeAttenuation,logarithmicDepthBuffer:o,skinning:v.skinning&&z>0,maxBones:z,useVertexTexture:a,morphTargets:v.morphTargets,morphNormals:v.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:b.directional.length,numPointLights:b.point.length,numSpotLights:b.spot.length,numRectAreaLights:b.rectArea.length,numHemiLights:b.hemi.length,numDirLightShadows:b.directionalShadowMap.length,numPointLightShadows:b.pointShadowMap.length,numSpotLightShadows:b.spotShadowMap.length,numClippingPlanes:A,numClipIntersection:E,dithering:v.dithering,shadowMapEnabled:e.shadowMap.enabled&&M.length>0,shadowMapType:e.shadowMap.type,toneMapping:v.toneMapped?e.toneMapping:ml,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:v.premultipliedAlpha,alphaTest:v.alphaTest,doubleSided:v.side===Gp,flipSided:v.side===en,depthPacking:v.depthPacking!==void 0?v.depthPacking:!1,index0AttributeName:v.index0AttributeName,extensionDerivatives:v.extensions&&v.extensions.derivatives,extensionFragDepth:v.extensions&&v.extensions.fragDepth,extensionDrawBuffers:v.extensions&&v.extensions.drawBuffers,extensionShaderTextureLOD:v.extensions&&v.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:s||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:s||t.get("EXT_shader_texture_lod")!==null,customProgramCacheKey:v.customProgramCacheKey()}}function m(v){const b=[];if(v.shaderID?b.push(v.shaderID):(b.push(v.fragmentShader),b.push(v.vertexShader)),v.defines!==void 0)for(const M in v.defines)b.push(M),b.push(v.defines[M]);if(v.isRawShaderMaterial===void 0){for(let M=0;M<d.length;M++)b.push(v[d[M]]);b.push(e.outputEncoding),b.push(e.gammaFactor)}return b.push(v.customProgramCacheKey),b.join()}function y(v,b){let M;for(let S=0,A=r.length;S<A;S++){const E=r[S];if(E.cacheKey===b){M=E,++M.usedTimes;break}}return M===void 0&&(M=new Zz(e,b,v,i),r.push(M)),M}function x(v){if(--v.usedTimes===0){const b=r.indexOf(v);r[b]=r[r.length-1],r.pop(),v.destroy()}}return{getParameters:_,getProgramCacheKey:m,acquireProgram:y,releaseProgram:x,programs:r}}function Kz(){let e=new WeakMap;function t(s){let o=e.get(s);return o===void 0&&(o={},e.set(s,o)),o}function n(s){e.delete(s)}function i(s,o,a){e.get(s)[o]=a}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function Qz(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function eU(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Wb(){const e=[];let t=0;const n=[],i=[],r={id:-1};function s(){t=0,n.length=0,i.length=0}function o(f,d,h,p,g,_){let m=e[t];return m===void 0?(m={id:f.id,object:f,geometry:d,material:h,program:h.program||r,groupOrder:p,renderOrder:f.renderOrder,z:g,group:_},e[t]=m):(m.id=f.id,m.object=f,m.geometry=d,m.material=h,m.program=h.program||r,m.groupOrder=p,m.renderOrder=f.renderOrder,m.z=g,m.group=_),t++,m}function a(f,d,h,p,g,_){const m=o(f,d,h,p,g,_);(h.transparent===!0?i:n).push(m)}function l(f,d,h,p,g,_){const m=o(f,d,h,p,g,_);(h.transparent===!0?i:n).unshift(m)}function c(f,d){n.length>1&&n.sort(f||Qz),i.length>1&&i.sort(d||eU)}function u(){for(let f=t,d=e.length;f<d;f++){const h=e[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.program=null,h.group=null}}return{opaque:n,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function tU(){let e=new WeakMap;function t(r){const s=r.target;s.removeEventListener("dispose",t),e.delete(s)}function n(r,s){const o=e.get(r);let a;return o===void 0?(a=new Wb,e.set(r,new WeakMap),e.get(r).set(s,a),r.addEventListener("dispose",t)):(a=o.get(s),a===void 0&&(a=new Wb,o.set(s,a))),a}function i(){e=new WeakMap}return{get:n,dispose:i}}function nU(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new O,color:new Le};break;case"SpotLight":n={position:new O,direction:new O,color:new Le,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new O,color:new Le,distance:0,decay:0};break;case"HemisphereLight":n={direction:new O,skyColor:new Le,groundColor:new Le};break;case"RectAreaLight":n={color:new Le,position:new O,halfWidth:new O,halfHeight:new O};break}return e[t.id]=n,n}}}function iU(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let rU=0;function sU(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function oU(){const e=new nU,t=iU(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let a=0;a<9;a++)n.probe.push(new O);const i=new O,r=new Je,s=new Je;function o(a,l,c){let u=0,f=0,d=0;for(let S=0;S<9;S++)n.probe[S].set(0,0,0);let h=0,p=0,g=0,_=0,m=0,y=0,x=0,v=0;const b=c.matrixWorldInverse;a.sort(sU);for(let S=0,A=a.length;S<A;S++){const E=a[S],L=E.color,N=E.intensity,R=E.distance,H=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)u+=L.r*N,f+=L.g*N,d+=L.b*N;else if(E.isLightProbe)for(let U=0;U<9;U++)n.probe[U].addScaledVector(E.sh.coefficients[U],N);else if(E.isDirectionalLight){const U=e.get(E);if(U.color.copy(E.color).multiplyScalar(E.intensity),U.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),U.direction.sub(i),U.direction.transformDirection(b),E.castShadow){const z=E.shadow,F=t.get(E);F.shadowBias=z.bias,F.shadowNormalBias=z.normalBias,F.shadowRadius=z.radius,F.shadowMapSize=z.mapSize,n.directionalShadow[h]=F,n.directionalShadowMap[h]=H,n.directionalShadowMatrix[h]=E.shadow.matrix,y++}n.directional[h]=U,h++}else if(E.isSpotLight){const U=e.get(E);if(U.position.setFromMatrixPosition(E.matrixWorld),U.position.applyMatrix4(b),U.color.copy(L).multiplyScalar(N),U.distance=R,U.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),U.direction.sub(i),U.direction.transformDirection(b),U.coneCos=Math.cos(E.angle),U.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),U.decay=E.decay,E.castShadow){const z=E.shadow,F=t.get(E);F.shadowBias=z.bias,F.shadowNormalBias=z.normalBias,F.shadowRadius=z.radius,F.shadowMapSize=z.mapSize,n.spotShadow[g]=F,n.spotShadowMap[g]=H,n.spotShadowMatrix[g]=E.shadow.matrix,v++}n.spot[g]=U,g++}else if(E.isRectAreaLight){const U=e.get(E);U.color.copy(L).multiplyScalar(N),U.position.setFromMatrixPosition(E.matrixWorld),U.position.applyMatrix4(b),s.identity(),r.copy(E.matrixWorld),r.premultiply(b),s.extractRotation(r),U.halfWidth.set(E.width*.5,0,0),U.halfHeight.set(0,E.height*.5,0),U.halfWidth.applyMatrix4(s),U.halfHeight.applyMatrix4(s),n.rectArea[_]=U,_++}else if(E.isPointLight){const U=e.get(E);if(U.position.setFromMatrixPosition(E.matrixWorld),U.position.applyMatrix4(b),U.color.copy(E.color).multiplyScalar(E.intensity),U.distance=E.distance,U.decay=E.decay,E.castShadow){const z=E.shadow,F=t.get(E);F.shadowBias=z.bias,F.shadowNormalBias=z.normalBias,F.shadowRadius=z.radius,F.shadowMapSize=z.mapSize,F.shadowCameraNear=z.camera.near,F.shadowCameraFar=z.camera.far,n.pointShadow[p]=F,n.pointShadowMap[p]=H,n.pointShadowMatrix[p]=E.shadow.matrix,x++}n.point[p]=U,p++}else if(E.isHemisphereLight){const U=e.get(E);U.direction.setFromMatrixPosition(E.matrixWorld),U.direction.transformDirection(b),U.direction.normalize(),U.skyColor.copy(E.color).multiplyScalar(N),U.groundColor.copy(E.groundColor).multiplyScalar(N),n.hemi[m]=U,m++}}n.ambient[0]=u,n.ambient[1]=f,n.ambient[2]=d;const M=n.hash;(M.directionalLength!==h||M.pointLength!==p||M.spotLength!==g||M.rectAreaLength!==_||M.hemiLength!==m||M.numDirectionalShadows!==y||M.numPointShadows!==x||M.numSpotShadows!==v)&&(n.directional.length=h,n.spot.length=g,n.rectArea.length=_,n.point.length=p,n.hemi.length=m,n.directionalShadow.length=y,n.directionalShadowMap.length=y,n.pointShadow.length=x,n.pointShadowMap.length=x,n.spotShadow.length=v,n.spotShadowMap.length=v,n.directionalShadowMatrix.length=y,n.pointShadowMatrix.length=x,n.spotShadowMatrix.length=v,M.directionalLength=h,M.pointLength=p,M.spotLength=g,M.rectAreaLength=_,M.hemiLength=m,M.numDirectionalShadows=y,M.numPointShadows=x,M.numSpotShadows=v,n.version=rU++)}return{setup:o,state:n}}function jb(){const e=new oU,t=[],n=[];function i(){t.length=0,n.length=0}function r(l){t.push(l)}function s(l){n.push(l)}function o(l){e.setup(t,n,l)}return{init:i,state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:o,pushLight:r,pushShadow:s}}function aU(){let e=new WeakMap;function t(r){const s=r.target;s.removeEventListener("dispose",t),e.delete(s)}function n(r,s){let o;return e.has(r)===!1?(o=new jb,e.set(r,new WeakMap),e.get(r).set(s,o),r.addEventListener("dispose",t)):e.get(r).has(s)===!1?(o=new jb,e.get(r).set(s,o)):o=e.get(r).get(s),o}function i(){e=new WeakMap}return{get:n,dispose:i}}function aa(e){Ne.call(this),this.type="MeshDepthMaterial",this.depthPacking=KF,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}aa.prototype=Object.create(Ne.prototype);aa.prototype.constructor=aa;aa.prototype.isMeshDepthMaterial=!0;aa.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function la(e){Ne.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new O,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}la.prototype=Object.create(Ne.prototype);la.prototype.constructor=la;la.prototype.isMeshDistanceMaterial=!0;la.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var lU=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,cU=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function xT(e,t,n){let i=new Df;const r=new he,s=new he,o=new lt,a=[],l=[],c={},u={0:en,1:Sf,2:Gp},f=new Vn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new he},radius:{value:4}},vertexShader:cU,fragmentShader:lU}),d=f.clone();d.defines.HORIZONAL_PASS=1;const h=new Ce;h.setAttribute("position",new Be(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new dt(h,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=KE,this.render=function(b,M,S){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||b.length===0)return;const A=e.getRenderTarget(),E=e.getActiveCubeFace(),L=e.getActiveMipmapLevel(),N=e.state;N.setBlending(Qs),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);for(let R=0,H=b.length;R<H;R++){const U=b[R],z=U.shadow;if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;if(z===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}r.copy(z.mapSize);const F=z.getFrameExtents();if(r.multiply(F),s.copy(z.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(s.x=Math.floor(n/F.x),r.x=s.x*F.x,z.mapSize.x=s.x),r.y>n&&(s.y=Math.floor(n/F.y),r.y=s.y*F.y,z.mapSize.y=s.y)),z.map===null&&!z.isPointLightShadow&&this.type===kc){const $={minFilter:Sn,magFilter:Sn,format:ir};z.map=new Bi(r.x,r.y,$),z.map.texture.name=U.name+".shadowMap",z.mapPass=new Bi(r.x,r.y,$),z.camera.updateProjectionMatrix()}if(z.map===null){const $={minFilter:rn,magFilter:rn,format:ir};z.map=new Bi(r.x,r.y,$),z.map.texture.name=U.name+".shadowMap",z.camera.updateProjectionMatrix()}e.setRenderTarget(z.map),e.clear();const V=z.getViewportCount();for(let $=0;$<V;$++){const q=z.getViewport($);o.set(s.x*q.x,s.y*q.y,s.x*q.z,s.y*q.w),N.viewport(o),z.updateMatrices(U,$),i=z.getFrustum(),v(M,S,z.camera,U,this.type)}!z.isPointLightShadow&&this.type===kc&&_(z,S),z.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(A,E,L)};function _(b,M){const S=t.update(p);f.uniforms.shadow_pass.value=b.map.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,e.setRenderTarget(b.mapPass),e.clear(),e.renderBufferDirect(M,null,S,f,p,null),d.uniforms.shadow_pass.value=b.mapPass.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,e.setRenderTarget(b.map),e.clear(),e.renderBufferDirect(M,null,S,d,p,null)}function m(b,M,S){const A=b<<0|M<<1|S<<2;let E=a[A];return E===void 0&&(E=new aa({depthPacking:QF,morphTargets:b,skinning:M}),a[A]=E),E}function y(b,M,S){const A=b<<0|M<<1|S<<2;let E=l[A];return E===void 0&&(E=new la({morphTargets:b,skinning:M}),l[A]=E),E}function x(b,M,S,A,E,L,N){let R=null,H=m,U=b.customDepthMaterial;if(A.isPointLight===!0&&(H=y,U=b.customDistanceMaterial),U===void 0){let z=!1;S.morphTargets===!0&&(z=M.morphAttributes&&M.morphAttributes.position&&M.morphAttributes.position.length>0);let F=!1;b.isSkinnedMesh===!0&&(S.skinning===!0?F=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",b));const V=b.isInstancedMesh===!0;R=H(z,F,V)}else R=U;if(e.localClippingEnabled&&S.clipShadows===!0&&S.clippingPlanes.length!==0){const z=R.uuid,F=S.uuid;let V=c[z];V===void 0&&(V={},c[z]=V);let $=V[F];$===void 0&&($=R.clone(),V[F]=$),R=$}return R.visible=S.visible,R.wireframe=S.wireframe,N===kc?R.side=S.shadowSide!==null?S.shadowSide:S.side:R.side=S.shadowSide!==null?S.shadowSide:u[S.side],R.clipShadows=S.clipShadows,R.clippingPlanes=S.clippingPlanes,R.clipIntersection=S.clipIntersection,R.wireframeLinewidth=S.wireframeLinewidth,R.linewidth=S.linewidth,A.isPointLight===!0&&R.isMeshDistanceMaterial===!0&&(R.referencePosition.setFromMatrixPosition(A.matrixWorld),R.nearDistance=E,R.farDistance=L),R}function v(b,M,S,A,E){if(b.visible===!1)return;if(b.layers.test(M.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&E===kc)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,b.matrixWorld);const R=t.update(b),H=b.material;if(Array.isArray(H)){const U=R.groups;for(let z=0,F=U.length;z<F;z++){const V=U[z],$=H[V.materialIndex];if($&&$.visible){const q=x(b,R,$,A,S.near,S.far,E);e.renderBufferDirect(S,null,R,q,b,V)}}}else if(H.visible){const U=x(b,R,H,A,S.near,S.far,E);e.renderBufferDirect(S,null,R,U,b,null)}}const N=b.children;for(let R=0,H=N.length;R<H;R++)v(N[R],M,S,A,E)}}function uU(e,t,n){const i=n.isWebGL2;function r(){let k=!1;const X=new lt;let re=null;const fe=new lt(0,0,0,0);return{setMask:function(ne){re!==ne&&!k&&(e.colorMask(ne,ne,ne,ne),re=ne)},setLocked:function(ne){k=ne},setClear:function(ne,ce,_e,xe,ve){ve===!0&&(ne*=xe,ce*=xe,_e*=xe),X.set(ne,ce,_e,xe),fe.equals(X)===!1&&(e.clearColor(ne,ce,_e,xe),fe.copy(X))},reset:function(){k=!1,re=null,fe.set(-1,0,0,0)}}}function s(){let k=!1,X=null,re=null,fe=null;return{setTest:function(ne){ne?D(2929):I(2929)},setMask:function(ne){X!==ne&&!k&&(e.depthMask(ne),X=ne)},setFunc:function(ne){if(re!==ne){if(ne)switch(ne){case HI:e.depthFunc(512);break;case GI:e.depthFunc(519);break;case VI:e.depthFunc(513);break;case Ty:e.depthFunc(515);break;case WI:e.depthFunc(514);break;case jI:e.depthFunc(518);break;case qI:e.depthFunc(516);break;case $I:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);re=ne}},setLocked:function(ne){k=ne},setClear:function(ne){fe!==ne&&(e.clearDepth(ne),fe=ne)},reset:function(){k=!1,X=null,re=null,fe=null}}}function o(){let k=!1,X=null,re=null,fe=null,ne=null,ce=null,_e=null,xe=null,ve=null;return{setTest:function(we){k||(we?D(2960):I(2960))},setMask:function(we){X!==we&&!k&&(e.stencilMask(we),X=we)},setFunc:function(we,$e,Ge){(re!==we||fe!==$e||ne!==Ge)&&(e.stencilFunc(we,$e,Ge),re=we,fe=$e,ne=Ge)},setOp:function(we,$e,Ge){(ce!==we||_e!==$e||xe!==Ge)&&(e.stencilOp(we,$e,Ge),ce=we,_e=$e,xe=Ge)},setLocked:function(we){k=we},setClear:function(we){ve!==we&&(e.clearStencil(we),ve=we)},reset:function(){k=!1,X=null,re=null,fe=null,ne=null,ce=null,_e=null,xe=null,ve=null}}}const a=new r,l=new s,c=new o;let u={},f=null,d=null,h=null,p=null,g=null,_=null,m=null,y=null,x=null,v=!1,b=null,M=null,S=null,A=null,E=null;const L=e.getParameter(35661);let N=!1,R=0;const H=e.getParameter(7938);H.indexOf("WebGL")!==-1?(R=parseFloat(/^WebGL\ ([0-9])/.exec(H)[1]),N=R>=1):H.indexOf("OpenGL ES")!==-1&&(R=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(H)[1]),N=R>=2);let U=null,z={};const F=new lt,V=new lt;function $(k,X,re){const fe=new Uint8Array(4),ne=e.createTexture();e.bindTexture(k,ne),e.texParameteri(k,10241,9728),e.texParameteri(k,10240,9728);for(let ce=0;ce<re;ce++)e.texImage2D(X+ce,0,6408,1,1,0,6408,5121,fe);return ne}const q={};q[3553]=$(3553,3553,1),q[34067]=$(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),D(2929),l.setFunc(Ty),W(!1),ee(ob),D(2884),ue(Qs);function D(k){u[k]!==!0&&(e.enable(k),u[k]=!0)}function I(k){u[k]!==!1&&(e.disable(k),u[k]=!1)}function le(k){return f!==k?(e.useProgram(k),f=k,!0):!1}const de={[Va]:32774,[PI]:32778,[LI]:32779};if(i)de[ub]=32775,de[fb]=32776;else{const k=t.get("EXT_blend_minmax");k!==null&&(de[ub]=k.MIN_EXT,de[fb]=k.MAX_EXT)}const ge={[RI]:0,[OI]:1,[II]:768,[eT]:770,[UI]:776,[NI]:774,[kI]:772,[FI]:769,[tT]:771,[zI]:775,[BI]:773};function ue(k,X,re,fe,ne,ce,_e,xe){if(k===Qs){d&&(I(3042),d=!1);return}if(d||(D(3042),d=!0),k!==CI){if(k!==h||xe!==v){if((p!==Va||m!==Va)&&(e.blendEquation(32774),p=Va,m=Va),xe)switch(k){case ou:e.blendFuncSeparate(1,771,1,771);break;case ab:e.blendFunc(1,1);break;case lb:e.blendFuncSeparate(0,0,769,771);break;case cb:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",k);break}else switch(k){case ou:e.blendFuncSeparate(770,771,1,771);break;case ab:e.blendFunc(770,1);break;case lb:e.blendFunc(0,769);break;case cb:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",k);break}g=null,_=null,y=null,x=null,h=k,v=xe}return}ne=ne||X,ce=ce||re,_e=_e||fe,(X!==p||ne!==m)&&(e.blendEquationSeparate(de[X],de[ne]),p=X,m=ne),(re!==g||fe!==_||ce!==y||_e!==x)&&(e.blendFuncSeparate(ge[re],ge[fe],ge[ce],ge[_e]),g=re,_=fe,y=ce,x=_e),h=k,v=null}function K(k,X){k.side===Gp?I(2884):D(2884);let re=k.side===en;X&&(re=!re),W(re),k.blending===ou&&k.transparent===!1?ue(Qs):ue(k.blending,k.blendEquation,k.blendSrc,k.blendDst,k.blendEquationAlpha,k.blendSrcAlpha,k.blendDstAlpha,k.premultipliedAlpha),l.setFunc(k.depthFunc),l.setTest(k.depthTest),l.setMask(k.depthWrite),a.setMask(k.colorWrite);const fe=k.stencilWrite;c.setTest(fe),fe&&(c.setMask(k.stencilWriteMask),c.setFunc(k.stencilFunc,k.stencilRef,k.stencilFuncMask),c.setOp(k.stencilFail,k.stencilZFail,k.stencilZPass)),oe(k.polygonOffset,k.polygonOffsetFactor,k.polygonOffsetUnits)}function W(k){b!==k&&(k?e.frontFace(2304):e.frontFace(2305),b=k)}function ee(k){k!==TI?(D(2884),k!==M&&(k===ob?e.cullFace(1029):k===DI?e.cullFace(1028):e.cullFace(1032))):I(2884),M=k}function ie(k){k!==S&&(N&&e.lineWidth(k),S=k)}function oe(k,X,re){k?(D(32823),(A!==X||E!==re)&&(e.polygonOffset(X,re),A=X,E=re)):I(32823)}function Q(k){k?D(3089):I(3089)}function se(k){k===void 0&&(k=33984+L-1),U!==k&&(e.activeTexture(k),U=k)}function T(k,X){U===null&&se();let re=z[U];re===void 0&&(re={type:void 0,texture:void 0},z[U]=re),(re.type!==k||re.texture!==X)&&(e.bindTexture(k,X||q[k]),re.type=k,re.texture=X)}function P(){const k=z[U];k!==void 0&&k.type!==void 0&&(e.bindTexture(k.type,null),k.type=void 0,k.texture=void 0)}function G(){try{e.compressedTexImage2D.apply(e,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function Z(){try{e.texImage2D.apply(e,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function w(){try{e.texImage3D.apply(e,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function C(k){F.equals(k)===!1&&(e.scissor(k.x,k.y,k.z,k.w),F.copy(k))}function J(k){V.equals(k)===!1&&(e.viewport(k.x,k.y,k.z,k.w),V.copy(k))}function j(){u={},U=null,z={},f=null,h=null,b=null,M=null,a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:D,disable:I,useProgram:le,setBlending:ue,setMaterial:K,setFlipSided:W,setCullFace:ee,setLineWidth:ie,setPolygonOffset:oe,setScissorTest:Q,activeTexture:se,bindTexture:T,unbindTexture:P,compressedTexImage2D:G,texImage2D:Z,texImage3D:w,scissor:C,viewport:J,reset:j}}function fU(e,t,n,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,f=r.maxSamples,d=new WeakMap;let h,p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(w,C){return p?new OffscreenCanvas(w,C):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(w,C,J,j){let k=1;if((w.width>j||w.height>j)&&(k=j/Math.max(w.width,w.height)),k<1||C===!0)if(typeof HTMLImageElement<"u"&&w instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&w instanceof ImageBitmap){const X=C?qe.floorPowerOfTwo:Math.floor,re=X(k*w.width),fe=X(k*w.height);h===void 0&&(h=g(re,fe));const ne=J?g(re,fe):h;return ne.width=re,ne.height=fe,ne.getContext("2d").drawImage(w,0,0,re,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+w.width+"x"+w.height+") to ("+re+"x"+fe+")."),ne}else return"data"in w&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+w.width+"x"+w.height+")."),w;return w}function m(w){return qe.isPowerOfTwo(w.width)&&qe.isPowerOfTwo(w.height)}function y(w){return a?!1:w.wrapS!==Kn||w.wrapT!==Kn||w.minFilter!==rn&&w.minFilter!==Sn}function x(w,C){return w.generateMipmaps&&C&&w.minFilter!==rn&&w.minFilter!==Sn}function v(w,C,J,j){e.generateMipmap(w);const k=i.get(C);k.__maxMipLevel=Math.log(Math.max(J,j))*Math.LOG2E}function b(w,C,J){if(a===!1)return C;if(w!==null){if(e[w]!==void 0)return e[w];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+w+"'")}let j=C;return C===6403&&(J===5126&&(j=33326),J===5131&&(j=33325),J===5121&&(j=33321)),C===6407&&(J===5126&&(j=34837),J===5131&&(j=34843),J===5121&&(j=32849)),C===6408&&(J===5126&&(j=34836),J===5131&&(j=34842),J===5121&&(j=32856)),(j===33325||j===33326||j===34842||j===34836)&&t.get("EXT_color_buffer_float"),j}function M(w){return w===rn||w===Dy||w===Ay?9728:9729}function S(w){const C=w.target;C.removeEventListener("dispose",S),E(C),C.isVideoTexture&&d.delete(C),o.memory.textures--}function A(w){const C=w.target;C.removeEventListener("dispose",A),L(C),o.memory.textures--}function E(w){const C=i.get(w);C.__webglInit!==void 0&&(e.deleteTexture(C.__webglTexture),i.remove(w))}function L(w){const C=i.get(w),J=i.get(w.texture);if(w){if(J.__webglTexture!==void 0&&e.deleteTexture(J.__webglTexture),w.depthTexture&&w.depthTexture.dispose(),w.isWebGLCubeRenderTarget)for(let j=0;j<6;j++)e.deleteFramebuffer(C.__webglFramebuffer[j]),C.__webglDepthbuffer&&e.deleteRenderbuffer(C.__webglDepthbuffer[j]);else e.deleteFramebuffer(C.__webglFramebuffer),C.__webglDepthbuffer&&e.deleteRenderbuffer(C.__webglDepthbuffer),C.__webglMultisampledFramebuffer&&e.deleteFramebuffer(C.__webglMultisampledFramebuffer),C.__webglColorRenderbuffer&&e.deleteRenderbuffer(C.__webglColorRenderbuffer),C.__webglDepthRenderbuffer&&e.deleteRenderbuffer(C.__webglDepthRenderbuffer);i.remove(w.texture),i.remove(w)}}let N=0;function R(){N=0}function H(){const w=N;return w>=l&&console.warn("THREE.WebGLTextures: Trying to use "+w+" texture units while this GPU supports only "+l),N+=1,w}function U(w,C){const J=i.get(w);if(w.isVideoTexture&&se(w),w.version>0&&J.__version!==w.version){const j=w.image;if(j===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(j.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{de(J,w,C);return}}n.activeTexture(33984+C),n.bindTexture(3553,J.__webglTexture)}function z(w,C){const J=i.get(w);if(w.version>0&&J.__version!==w.version){de(J,w,C);return}n.activeTexture(33984+C),n.bindTexture(35866,J.__webglTexture)}function F(w,C){const J=i.get(w);if(w.version>0&&J.__version!==w.version){de(J,w,C);return}n.activeTexture(33984+C),n.bindTexture(32879,J.__webglTexture)}function V(w,C){if(w.image.length!==6)return;const J=i.get(w);if(w.version>0&&J.__version!==w.version){le(J,w),n.activeTexture(33984+C),n.bindTexture(34067,J.__webglTexture),e.pixelStorei(37440,w.flipY);const j=w&&(w.isCompressedTexture||w.image[0].isCompressedTexture),k=w.image[0]&&w.image[0].isDataTexture,X=[];for(let ve=0;ve<6;ve++)!j&&!k?X[ve]=_(w.image[ve],!1,!0,c):X[ve]=k?w.image[ve].image:w.image[ve];const re=X[0],fe=m(re)||a,ne=s.convert(w.format),ce=s.convert(w.type),_e=b(w.internalFormat,ne,ce);I(34067,w,fe);let xe;if(j){for(let ve=0;ve<6;ve++){xe=X[ve].mipmaps;for(let we=0;we<xe.length;we++){const $e=xe[we];w.format!==ir&&w.format!==Zo?ne!==null?n.compressedTexImage2D(34069+ve,we,_e,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+ve,we,_e,$e.width,$e.height,0,ne,ce,$e.data)}}J.__maxMipLevel=xe.length-1}else{xe=w.mipmaps;for(let ve=0;ve<6;ve++)if(k){n.texImage2D(34069+ve,0,_e,X[ve].width,X[ve].height,0,ne,ce,X[ve].data);for(let we=0;we<xe.length;we++){const Ge=xe[we].image[ve].image;n.texImage2D(34069+ve,we+1,_e,Ge.width,Ge.height,0,ne,ce,Ge.data)}}else{n.texImage2D(34069+ve,0,_e,ne,ce,X[ve]);for(let we=0;we<xe.length;we++){const $e=xe[we];n.texImage2D(34069+ve,we+1,_e,ne,ce,$e.image[ve])}}J.__maxMipLevel=xe.length}x(w,fe)&&v(34067,w,re.width,re.height),J.__version=w.version,w.onUpdate&&w.onUpdate(w)}else n.activeTexture(33984+C),n.bindTexture(34067,J.__webglTexture)}function $(w,C){n.activeTexture(33984+C),n.bindTexture(34067,i.get(w).__webglTexture)}const q={[Fd]:10497,[Kn]:33071,[kd]:33648},D={[rn]:9728,[Dy]:9984,[Ay]:9986,[Sn]:9729,[iT]:9985,[Wp]:9987};function I(w,C,J){J?(e.texParameteri(w,10242,q[C.wrapS]),e.texParameteri(w,10243,q[C.wrapT]),(w===32879||w===35866)&&e.texParameteri(w,32882,q[C.wrapR]),e.texParameteri(w,10240,D[C.magFilter]),e.texParameteri(w,10241,D[C.minFilter])):(e.texParameteri(w,10242,33071),e.texParameteri(w,10243,33071),(w===32879||w===35866)&&e.texParameteri(w,32882,33071),(C.wrapS!==Kn||C.wrapT!==Kn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(w,10240,M(C.magFilter)),e.texParameteri(w,10241,M(C.minFilter)),C.minFilter!==rn&&C.minFilter!==Sn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const j=t.get("EXT_texture_filter_anisotropic");if(j){if(C.type===Bs&&t.get("OES_texture_float_linear")===null||C.type===Nd&&(a||t.get("OES_texture_half_float_linear"))===null)return;(C.anisotropy>1||i.get(C).__currentAnisotropy)&&(e.texParameterf(w,j.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(C.anisotropy,r.getMaxAnisotropy())),i.get(C).__currentAnisotropy=C.anisotropy)}}function le(w,C){w.__webglInit===void 0&&(w.__webglInit=!0,C.addEventListener("dispose",S),w.__webglTexture=e.createTexture(),o.memory.textures++)}function de(w,C,J){let j=3553;C.isDataTexture2DArray&&(j=35866),C.isDataTexture3D&&(j=32879),le(w,C),n.activeTexture(33984+J),n.bindTexture(j,w.__webglTexture),e.pixelStorei(37440,C.flipY),e.pixelStorei(37441,C.premultiplyAlpha),e.pixelStorei(3317,C.unpackAlignment);const k=y(C)&&m(C.image)===!1,X=_(C.image,k,!1,u),re=m(X)||a,fe=s.convert(C.format);let ne=s.convert(C.type),ce=b(C.internalFormat,fe,ne);I(j,C,re);let _e;const xe=C.mipmaps;if(C.isDepthTexture)ce=6402,a?C.type===Bs?ce=36012:C.type===td?ce=33190:C.type===au?ce=35056:ce=33189:C.type===Bs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),C.format===gl&&ce===6402&&C.type!==Bd&&C.type!==td&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),C.type=Bd,ne=s.convert(C.type)),C.format===Ru&&ce===6402&&(ce=34041,C.type!==au&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),C.type=au,ne=s.convert(C.type))),n.texImage2D(3553,0,ce,X.width,X.height,0,fe,ne,null);else if(C.isDataTexture)if(xe.length>0&&re){for(let ve=0,we=xe.length;ve<we;ve++)_e=xe[ve],n.texImage2D(3553,ve,ce,_e.width,_e.height,0,fe,ne,_e.data);C.generateMipmaps=!1,w.__maxMipLevel=xe.length-1}else n.texImage2D(3553,0,ce,X.width,X.height,0,fe,ne,X.data),w.__maxMipLevel=0;else if(C.isCompressedTexture){for(let ve=0,we=xe.length;ve<we;ve++)_e=xe[ve],C.format!==ir&&C.format!==Zo?fe!==null?n.compressedTexImage2D(3553,ve,ce,_e.width,_e.height,0,_e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,ve,ce,_e.width,_e.height,0,fe,ne,_e.data);w.__maxMipLevel=xe.length-1}else if(C.isDataTexture2DArray)n.texImage3D(35866,0,ce,X.width,X.height,X.depth,0,fe,ne,X.data),w.__maxMipLevel=0;else if(C.isDataTexture3D)n.texImage3D(32879,0,ce,X.width,X.height,X.depth,0,fe,ne,X.data),w.__maxMipLevel=0;else if(xe.length>0&&re){for(let ve=0,we=xe.length;ve<we;ve++)_e=xe[ve],n.texImage2D(3553,ve,ce,fe,ne,_e);C.generateMipmaps=!1,w.__maxMipLevel=xe.length-1}else n.texImage2D(3553,0,ce,fe,ne,X),w.__maxMipLevel=0;x(C,re)&&v(j,C,X.width,X.height),w.__version=C.version,C.onUpdate&&C.onUpdate(C)}function ge(w,C,J,j){const k=s.convert(C.texture.format),X=s.convert(C.texture.type),re=b(C.texture.internalFormat,k,X);n.texImage2D(j,0,re,C.width,C.height,0,k,X,null),e.bindFramebuffer(36160,w),e.framebufferTexture2D(36160,J,j,i.get(C.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function ue(w,C,J){if(e.bindRenderbuffer(36161,w),C.depthBuffer&&!C.stencilBuffer){let j=33189;if(J){const k=C.depthTexture;k&&k.isDepthTexture&&(k.type===Bs?j=36012:k.type===td&&(j=33190));const X=Q(C);e.renderbufferStorageMultisample(36161,X,j,C.width,C.height)}else e.renderbufferStorage(36161,j,C.width,C.height);e.framebufferRenderbuffer(36160,36096,36161,w)}else if(C.depthBuffer&&C.stencilBuffer){if(J){const j=Q(C);e.renderbufferStorageMultisample(36161,j,35056,C.width,C.height)}else e.renderbufferStorage(36161,34041,C.width,C.height);e.framebufferRenderbuffer(36160,33306,36161,w)}else{const j=s.convert(C.texture.format),k=s.convert(C.texture.type),X=b(C.texture.internalFormat,j,k);if(J){const re=Q(C);e.renderbufferStorageMultisample(36161,re,X,C.width,C.height)}else e.renderbufferStorage(36161,X,C.width,C.height)}e.bindRenderbuffer(36161,null)}function K(w,C){if(C&&C.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,w),!(C.depthTexture&&C.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(C.depthTexture).__webglTexture||C.depthTexture.image.width!==C.width||C.depthTexture.image.height!==C.height)&&(C.depthTexture.image.width=C.width,C.depthTexture.image.height=C.height,C.depthTexture.needsUpdate=!0),U(C.depthTexture,0);const j=i.get(C.depthTexture).__webglTexture;if(C.depthTexture.format===gl)e.framebufferTexture2D(36160,36096,3553,j,0);else if(C.depthTexture.format===Ru)e.framebufferTexture2D(36160,33306,3553,j,0);else throw new Error("Unknown depthTexture format")}function W(w){const C=i.get(w),J=w.isWebGLCubeRenderTarget===!0;if(w.depthTexture){if(J)throw new Error("target.depthTexture not supported in Cube render targets");K(C.__webglFramebuffer,w)}else if(J){C.__webglDepthbuffer=[];for(let j=0;j<6;j++)e.bindFramebuffer(36160,C.__webglFramebuffer[j]),C.__webglDepthbuffer[j]=e.createRenderbuffer(),ue(C.__webglDepthbuffer[j],w,!1)}else e.bindFramebuffer(36160,C.__webglFramebuffer),C.__webglDepthbuffer=e.createRenderbuffer(),ue(C.__webglDepthbuffer,w,!1);e.bindFramebuffer(36160,null)}function ee(w){const C=i.get(w),J=i.get(w.texture);w.addEventListener("dispose",A),J.__webglTexture=e.createTexture(),o.memory.textures++;const j=w.isWebGLCubeRenderTarget===!0,k=w.isWebGLMultisampleRenderTarget===!0,X=m(w)||a;if(a&&w.texture.format===Zo&&(w.texture.type===Bs||w.texture.type===Nd)&&(w.texture.format=ir,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),j){C.__webglFramebuffer=[];for(let re=0;re<6;re++)C.__webglFramebuffer[re]=e.createFramebuffer()}else if(C.__webglFramebuffer=e.createFramebuffer(),k)if(a){C.__webglMultisampledFramebuffer=e.createFramebuffer(),C.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,C.__webglColorRenderbuffer);const re=s.convert(w.texture.format),fe=s.convert(w.texture.type),ne=b(w.texture.internalFormat,re,fe),ce=Q(w);e.renderbufferStorageMultisample(36161,ce,ne,w.width,w.height),e.bindFramebuffer(36160,C.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,C.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),w.depthBuffer&&(C.__webglDepthRenderbuffer=e.createRenderbuffer(),ue(C.__webglDepthRenderbuffer,w,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(j){n.bindTexture(34067,J.__webglTexture),I(34067,w.texture,X);for(let re=0;re<6;re++)ge(C.__webglFramebuffer[re],w,36064,34069+re);x(w.texture,X)&&v(34067,w.texture,w.width,w.height),n.bindTexture(34067,null)}else n.bindTexture(3553,J.__webglTexture),I(3553,w.texture,X),ge(C.__webglFramebuffer,w,36064,3553),x(w.texture,X)&&v(3553,w.texture,w.width,w.height),n.bindTexture(3553,null);w.depthBuffer&&W(w)}function ie(w){const C=w.texture,J=m(w)||a;if(x(C,J)){const j=w.isWebGLCubeRenderTarget?34067:3553,k=i.get(C).__webglTexture;n.bindTexture(j,k),v(j,C,w.width,w.height),n.bindTexture(j,null)}}function oe(w){if(w.isWebGLMultisampleRenderTarget)if(a){const C=i.get(w);e.bindFramebuffer(36008,C.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,C.__webglFramebuffer);const J=w.width,j=w.height;let k=16384;w.depthBuffer&&(k|=256),w.stencilBuffer&&(k|=1024),e.blitFramebuffer(0,0,J,j,0,0,J,j,k,9728),e.bindFramebuffer(36160,C.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Q(w){return a&&w.isWebGLMultisampleRenderTarget?Math.min(f,w.samples):0}function se(w){const C=o.render.frame;d.get(w)!==C&&(d.set(w,C),w.update())}let T=!1,P=!1;function G(w,C){w&&w.isWebGLRenderTarget&&(T===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),T=!0),w=w.texture),U(w,C)}function Z(w,C){w&&w.isWebGLCubeRenderTarget&&(P===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),P=!0),w=w.texture),w&&w.isCubeTexture||Array.isArray(w.image)&&w.image.length===6?V(w,C):$(w,C)}this.allocateTextureUnit=H,this.resetTextureUnits=R,this.setTexture2D=U,this.setTexture2DArray=z,this.setTexture3D=F,this.setTextureCube=V,this.setTextureCubeDynamic=$,this.setupRenderTarget=ee,this.updateRenderTargetMipmap=ie,this.updateMultisampleRenderTarget=oe,this.safeSetTexture2D=G,this.safeSetTextureCube=Z}function hU(e,t,n){const i=n.isWebGL2;function r(s){let o;if(s===Tf)return 5121;if(s===rF)return 32819;if(s===sF)return 32820;if(s===oF)return 33635;if(s===tF)return 5120;if(s===nF)return 5122;if(s===Bd)return 5123;if(s===iF)return 5124;if(s===td)return 5125;if(s===Bs)return 5126;if(s===Nd)return i?5131:(o=t.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===aF)return 6406;if(s===Zo)return 6407;if(s===ir)return 6408;if(s===lF)return 6409;if(s===cF)return 6410;if(s===gl)return 6402;if(s===Ru)return 34041;if(s===fF)return 6403;if(s===hF)return 36244;if(s===dF)return 33319;if(s===pF)return 33320;if(s===mF)return 36248;if(s===gF)return 36249;if(s===hb||s===db||s===pb||s===mb)if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===hb)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===db)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===pb)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===mb)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===gb||s===yb||s===_b||s===vb)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===gb)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===yb)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===_b)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===vb)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===yF)return o=t.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===xb||s===bb)&&(o=t.get("WEBGL_compressed_texture_etc"),o!==null)){if(s===xb)return o.COMPRESSED_RGB8_ETC2;if(s===bb)return o.COMPRESSED_RGBA8_ETC2_EAC}if(s===_F||s===vF||s===xF||s===bF||s===wF||s===MF||s===SF||s===EF||s===TF||s===DF||s===AF||s===CF||s===PF||s===LF||s===OF||s===IF||s===FF||s===kF||s===BF||s===NF||s===zF||s===UF||s===HF||s===GF||s===VF||s===WF||s===jF||s===qF)return o=t.get("WEBGL_compressed_texture_astc"),o!==null?s:null;if(s===RF)return o=t.get("EXT_texture_compression_bptc"),o!==null?s:null;if(s===au)return i?34042:(o=t.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}function ky(e){zt.call(this),this.cameras=e||[]}ky.prototype=Object.assign(Object.create(zt.prototype),{constructor:ky,isArrayCamera:!0});function Uu(){Me.call(this),this.type="Group"}Uu.prototype=Object.assign(Object.create(Me.prototype),{constructor:Uu,isGroup:!0});function Vd(){this._targetRay=null,this._grip=null}Object.assign(Vd.prototype,{constructor:Vd,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Uu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Uu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(e,t,n){let i=null,r=null;const s=this._targetRay,o=this._grip;return e&&(s!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale))),o!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)))),s!==null&&(s.visible=i!==null),o!==null&&(o.visible=r!==null),this}});function bT(e,t){const n=this;let i=null,r=1,s=null,o="local-floor",a=null;const l=[],c=new Map,u=new zt;u.layers.enable(1),u.viewport=new lt;const f=new zt;f.layers.enable(2),f.viewport=new lt;const d=[u,f],h=new ky;h.layers.enable(1),h.layers.enable(2);let p=null,g=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(N){let R=l[N];return R===void 0&&(R=new Vd,l[N]=R),R.getTargetRaySpace()},this.getControllerGrip=function(N){let R=l[N];return R===void 0&&(R=new Vd,l[N]=R),R.getGripSpace()};function _(N){const R=c.get(N.inputSource);R&&R.dispatchEvent({type:N.type})}function m(){c.forEach(function(N,R){N.disconnect(R)}),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),L.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(N){s=N,L.setContext(i),L.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(N){r=N,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(N){o=N,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getSession=function(){return i},this.setSession=function(N){if(i=N,i!==null){i.addEventListener("select",_),i.addEventListener("selectstart",_),i.addEventListener("selectend",_),i.addEventListener("squeeze",_),i.addEventListener("squeezestart",_),i.addEventListener("squeezeend",_),i.addEventListener("end",m);const R=t.getContextAttributes();R.xrCompatible!==!0&&t.makeXRCompatible();const H={antialias:R.antialias,alpha:R.alpha,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:r},U=new XRWebGLLayer(i,t,H);i.updateRenderState({baseLayer:U}),i.requestReferenceSpace(o).then(y),i.addEventListener("inputsourceschange",x)}};function x(N){const R=i.inputSources;for(let H=0;H<l.length;H++)c.set(R[H],l[H]);for(let H=0;H<N.removed.length;H++){const U=N.removed[H],z=c.get(U);z&&(z.dispatchEvent({type:"disconnected",data:U}),c.delete(U))}for(let H=0;H<N.added.length;H++){const U=N.added[H],z=c.get(U);z&&z.dispatchEvent({type:"connected",data:U})}}const v=new O,b=new O;function M(N,R,H){v.setFromMatrixPosition(R.matrixWorld),b.setFromMatrixPosition(H.matrixWorld);const U=v.distanceTo(b),z=R.projectionMatrix.elements,F=H.projectionMatrix.elements,V=z[14]/(z[10]-1),$=z[14]/(z[10]+1),q=(z[9]+1)/z[5],D=(z[9]-1)/z[5],I=(z[8]-1)/z[0],le=(F[8]+1)/F[0],de=V*I,ge=V*le,ue=U/(-I+le),K=ue*-I;R.matrixWorld.decompose(N.position,N.quaternion,N.scale),N.translateX(K),N.translateZ(ue),N.matrixWorld.compose(N.position,N.quaternion,N.scale),N.matrixWorldInverse.getInverse(N.matrixWorld);const W=V+ue,ee=$+ue,ie=de-K,oe=ge+(U-K),Q=q*$/ee*W,se=D*$/ee*W;N.projectionMatrix.makePerspective(ie,oe,Q,se,W,ee)}function S(N,R){R===null?N.matrixWorld.copy(N.matrix):N.matrixWorld.multiplyMatrices(R.matrixWorld,N.matrix),N.matrixWorldInverse.getInverse(N.matrixWorld)}this.getCamera=function(N){h.near=f.near=u.near=N.near,h.far=f.far=u.far=N.far,(p!==h.near||g!==h.far)&&(i.updateRenderState({depthNear:h.near,depthFar:h.far}),p=h.near,g=h.far);const R=N.parent,H=h.cameras;S(h,R);for(let z=0;z<H.length;z++)S(H[z],R);N.matrixWorld.copy(h.matrixWorld);const U=N.children;for(let z=0,F=U.length;z<F;z++)U[z].updateMatrixWorld(!0);return H.length===2?M(h,u,f):h.projectionMatrix.copy(u.projectionMatrix),h};let A=null;function E(N,R){if(a=R.getViewerPose(s),a!==null){const U=a.views,z=i.renderState.baseLayer;e.setFramebuffer(z.framebuffer);let F=!1;U.length!==h.cameras.length&&(h.cameras.length=0,F=!0);for(let V=0;V<U.length;V++){const $=U[V],q=z.getViewport($),D=d[V];D.matrix.fromArray($.transform.matrix),D.projectionMatrix.fromArray($.projectionMatrix),D.viewport.set(q.x,q.y,q.width,q.height),V===0&&h.matrix.copy(D.matrix),F===!0&&h.cameras.push(D)}}const H=i.inputSources;for(let U=0;U<l.length;U++){const z=l[U],F=H[U];z.update(F,R,s)}A&&A(N,R)}const L=new hT;L.setAnimationLoop(E),this.setAnimationLoop=function(N){A=N},this.dispose=function(){}}Object.assign(bT.prototype,ds.prototype);function dU(e){function t(m,y){m.fogColor.value.copy(y.color),y.isFog?(m.fogNear.value=y.near,m.fogFar.value=y.far):y.isFogExp2&&(m.fogDensity.value=y.density)}function n(m,y,x,v,b){y.isMeshBasicMaterial?i(m,y):y.isMeshLambertMaterial?(i(m,y),l(m,y)):y.isMeshToonMaterial?(i(m,y),u(m,y)):y.isMeshPhongMaterial?(i(m,y),c(m,y)):y.isMeshStandardMaterial?(i(m,y,x),y.isMeshPhysicalMaterial?d(m,y,x):f(m,y,x)):y.isMeshMatcapMaterial?(i(m,y),h(m,y)):y.isMeshDepthMaterial?(i(m,y),p(m,y)):y.isMeshDistanceMaterial?(i(m,y),g(m,y)):y.isMeshNormalMaterial?(i(m,y),_(m,y)):y.isLineBasicMaterial?(r(m,y),y.isLineDashedMaterial&&s(m,y)):y.isPointsMaterial?o(m,y,v,b):y.isSpriteMaterial?a(m,y):y.isShadowMaterial?(m.color.value.copy(y.color),m.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(m,y,x){m.opacity.value=y.opacity,y.color&&m.diffuse.value.copy(y.color),y.emissive&&m.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(m.map.value=y.map),y.alphaMap&&(m.alphaMap.value=y.alphaMap),y.specularMap&&(m.specularMap.value=y.specularMap);const v=y.envMap||x;v&&(m.envMap.value=v,m.flipEnvMap.value=v.isCubeTexture?-1:1,m.reflectivity.value=y.reflectivity,m.refractionRatio.value=y.refractionRatio,m.maxMipLevel.value=e.get(v).__maxMipLevel),y.lightMap&&(m.lightMap.value=y.lightMap,m.lightMapIntensity.value=y.lightMapIntensity),y.aoMap&&(m.aoMap.value=y.aoMap,m.aoMapIntensity.value=y.aoMapIntensity);let b;y.map?b=y.map:y.specularMap?b=y.specularMap:y.displacementMap?b=y.displacementMap:y.normalMap?b=y.normalMap:y.bumpMap?b=y.bumpMap:y.roughnessMap?b=y.roughnessMap:y.metalnessMap?b=y.metalnessMap:y.alphaMap?b=y.alphaMap:y.emissiveMap&&(b=y.emissiveMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix));let M;y.aoMap?M=y.aoMap:y.lightMap&&(M=y.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),m.uv2Transform.value.copy(M.matrix))}function r(m,y){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity}function s(m,y){m.dashSize.value=y.dashSize,m.totalSize.value=y.dashSize+y.gapSize,m.scale.value=y.scale}function o(m,y,x,v){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,m.size.value=y.size*x,m.scale.value=v*.5,y.map&&(m.map.value=y.map),y.alphaMap&&(m.alphaMap.value=y.alphaMap);let b;y.map?b=y.map:y.alphaMap&&(b=y.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}function a(m,y){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,m.rotation.value=y.rotation,y.map&&(m.map.value=y.map),y.alphaMap&&(m.alphaMap.value=y.alphaMap);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uvTransform.value.copy(x.matrix))}function l(m,y){y.emissiveMap&&(m.emissiveMap.value=y.emissiveMap)}function c(m,y){m.specular.value.copy(y.specular),m.shininess.value=Math.max(y.shininess,1e-4),y.emissiveMap&&(m.emissiveMap.value=y.emissiveMap),y.bumpMap&&(m.bumpMap.value=y.bumpMap,m.bumpScale.value=y.bumpScale,y.side===en&&(m.bumpScale.value*=-1)),y.normalMap&&(m.normalMap.value=y.normalMap,m.normalScale.value.copy(y.normalScale),y.side===en&&m.normalScale.value.negate()),y.displacementMap&&(m.displacementMap.value=y.displacementMap,m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias)}function u(m,y){y.gradientMap&&(m.gradientMap.value=y.gradientMap),y.emissiveMap&&(m.emissiveMap.value=y.emissiveMap),y.bumpMap&&(m.bumpMap.value=y.bumpMap,m.bumpScale.value=y.bumpScale,y.side===en&&(m.bumpScale.value*=-1)),y.normalMap&&(m.normalMap.value=y.normalMap,m.normalScale.value.copy(y.normalScale),y.side===en&&m.normalScale.value.negate()),y.displacementMap&&(m.displacementMap.value=y.displacementMap,m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias)}function f(m,y,x){m.roughness.value=y.roughness,m.metalness.value=y.metalness,y.roughnessMap&&(m.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(m.metalnessMap.value=y.metalnessMap),y.emissiveMap&&(m.emissiveMap.value=y.emissiveMap),y.bumpMap&&(m.bumpMap.value=y.bumpMap,m.bumpScale.value=y.bumpScale,y.side===en&&(m.bumpScale.value*=-1)),y.normalMap&&(m.normalMap.value=y.normalMap,m.normalScale.value.copy(y.normalScale),y.side===en&&m.normalScale.value.negate()),y.displacementMap&&(m.displacementMap.value=y.displacementMap,m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias),(y.envMap||x)&&(m.envMapIntensity.value=y.envMapIntensity)}function d(m,y,x){f(m,y,x),m.reflectivity.value=y.reflectivity,m.clearcoat.value=y.clearcoat,m.clearcoatRoughness.value=y.clearcoatRoughness,y.sheen&&m.sheen.value.copy(y.sheen),y.clearcoatMap&&(m.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),m.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===en&&m.clearcoatNormalScale.value.negate()),m.transparency.value=y.transparency}function h(m,y){y.matcap&&(m.matcap.value=y.matcap),y.bumpMap&&(m.bumpMap.value=y.bumpMap,m.bumpScale.value=y.bumpScale,y.side===en&&(m.bumpScale.value*=-1)),y.normalMap&&(m.normalMap.value=y.normalMap,m.normalScale.value.copy(y.normalScale),y.side===en&&m.normalScale.value.negate()),y.displacementMap&&(m.displacementMap.value=y.displacementMap,m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias)}function p(m,y){y.displacementMap&&(m.displacementMap.value=y.displacementMap,m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias)}function g(m,y){y.displacementMap&&(m.displacementMap.value=y.displacementMap,m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias),m.referencePosition.value.copy(y.referencePosition),m.nearDistance.value=y.nearDistance,m.farDistance.value=y.farDistance}function _(m,y){y.bumpMap&&(m.bumpMap.value=y.bumpMap,m.bumpScale.value=y.bumpScale,y.side===en&&(m.bumpScale.value*=-1)),y.normalMap&&(m.normalMap.value=y.normalMap,m.normalScale.value.copy(y.normalScale),y.side===en&&m.normalScale.value.negate()),y.displacementMap&&(m.displacementMap.value=y.displacementMap,m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function rc(e){e=e||{};const t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,r=e.depth!==void 0?e.depth:!0,s=e.stencil!==void 0?e.stencil:!0,o=e.antialias!==void 0?e.antialias:!1,a=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,c=e.powerPreference!==void 0?e.powerPreference:"default",u=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let f=null,d=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=oi,this.physicallyCorrectLights=!1,this.toneMapping=ml,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const h=this;let p=!1,g=null,_=0,m=0,y=null,x=null,v=-1,b=null,M=null;const S=new lt,A=new lt;let E=null,L=t.width,N=t.height,R=1,H=null,U=null;const z=new lt(0,0,L,N),F=new lt(0,0,L,N);let V=!1;const $=new Df,q=new WN;let D=!1,I=!1;const le=new Je,de=new O,ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ue(){return y===null?R:1}let K=n;function W(B,ae){for(let Y=0;Y<B.length;Y++){const te=B[Y],ye=t.getContext(te,ae);if(ye!==null)return ye}return null}try{const B={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",we,!1),t.addEventListener("webglcontextrestored",$e,!1),K===null){const ae=["webgl2","webgl","experimental-webgl"];if(h.isWebGL1Renderer===!0&&ae.shift(),K=W(ae,B),K===null)throw W(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(B){throw console.error("THREE.WebGLRenderer: "+B.message),B}let ee,ie,oe,Q,se,T,P,G,Z,w,C,J,j,k,X,re,fe,ne,ce;function _e(){ee=new jN(K),ie=new VN(K,ee,e),ie.isWebGL2===!1&&(ee.get("WEBGL_depth_texture"),ee.get("OES_texture_float"),ee.get("OES_texture_half_float"),ee.get("OES_texture_half_float_linear"),ee.get("OES_standard_derivatives"),ee.get("OES_element_index_uint"),ee.get("OES_vertex_array_object"),ee.get("ANGLE_instanced_arrays")),ee.get("OES_texture_float_linear"),ne=new hU(K,ee,ie),oe=new uU(K,ee,ie),oe.scissor(A.copy(F).multiplyScalar(R).floor()),oe.viewport(S.copy(z).multiplyScalar(R).floor()),Q=new XN,se=new Kz,T=new fU(K,ee,oe,se,ie,ne,Q),P=new xk(K,ie),ce=new HN(K,ee,P,ie),G=new qN(K,P,Q,ce),Z=new KN(K,G,P,Q),X=new JN(K),w=new Jz(h,ee,ie,ce),C=new dU(se),J=new tU,j=new aU,k=new UN(h,oe,Z,a),re=new GN(K,ee,Q,ie),fe=new $N(K,ee,Q,ie),Q.programs=w.programs,h.capabilities=ie,h.extensions=ee,h.properties=se,h.renderLists=J,h.state=oe,h.info=Q}_e();const xe=new bT(h,K);this.xr=xe;const ve=new xT(h,Z,ie.maxTextureSize);this.shadowMap=ve,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const B=ee.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){const B=ee.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(B){B!==void 0&&(R=B,this.setSize(L,N,!1))},this.getSize=function(B){return B===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),B=new he),B.set(L,N)},this.setSize=function(B,ae,Y){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=B,N=ae,t.width=Math.floor(B*R),t.height=Math.floor(ae*R),Y!==!1&&(t.style.width=B+"px",t.style.height=ae+"px"),this.setViewport(0,0,B,ae)},this.getDrawingBufferSize=function(B){return B===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),B=new he),B.set(L*R,N*R).floor()},this.setDrawingBufferSize=function(B,ae,Y){L=B,N=ae,R=Y,t.width=Math.floor(B*Y),t.height=Math.floor(ae*Y),this.setViewport(0,0,B,ae)},this.getCurrentViewport=function(B){return B===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),B=new lt),B.copy(S)},this.getViewport=function(B){return B.copy(z)},this.setViewport=function(B,ae,Y,te){B.isVector4?z.set(B.x,B.y,B.z,B.w):z.set(B,ae,Y,te),oe.viewport(S.copy(z).multiplyScalar(R).floor())},this.getScissor=function(B){return B.copy(F)},this.setScissor=function(B,ae,Y,te){B.isVector4?F.set(B.x,B.y,B.z,B.w):F.set(B,ae,Y,te),oe.scissor(A.copy(F).multiplyScalar(R).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(B){oe.setScissorTest(V=B)},this.setOpaqueSort=function(B){H=B},this.setTransparentSort=function(B){U=B},this.getClearColor=function(){return k.getClearColor()},this.setClearColor=function(){k.setClearColor.apply(k,arguments)},this.getClearAlpha=function(){return k.getClearAlpha()},this.setClearAlpha=function(){k.setClearAlpha.apply(k,arguments)},this.clear=function(B,ae,Y){let te=0;(B===void 0||B)&&(te|=16384),(ae===void 0||ae)&&(te|=256),(Y===void 0||Y)&&(te|=1024),K.clear(te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",we,!1),t.removeEventListener("webglcontextrestored",$e,!1),J.dispose(),j.dispose(),se.dispose(),Z.dispose(),ce.dispose(),xe.dispose(),mn.stop()};function we(B){B.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function $e(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,_e()}function Ge(B){const ae=B.target;ae.removeEventListener("dispose",Ge),Wi(ae)}function Wi(B){an(B),se.remove(B)}function an(B){const ae=se.get(B).program;B.program=void 0,ae!==void 0&&w.releaseProgram(ae)}function ji(B,ae){B.render(function(Y){h.renderBufferImmediate(Y,ae)})}this.renderBufferImmediate=function(B,ae){ce.initAttributes();const Y=se.get(B);B.hasPositions&&!Y.position&&(Y.position=K.createBuffer()),B.hasNormals&&!Y.normal&&(Y.normal=K.createBuffer()),B.hasUvs&&!Y.uv&&(Y.uv=K.createBuffer()),B.hasColors&&!Y.color&&(Y.color=K.createBuffer());const te=ae.getAttributes();B.hasPositions&&(K.bindBuffer(34962,Y.position),K.bufferData(34962,B.positionArray,35048),ce.enableAttribute(te.position),K.vertexAttribPointer(te.position,3,5126,!1,0,0)),B.hasNormals&&(K.bindBuffer(34962,Y.normal),K.bufferData(34962,B.normalArray,35048),ce.enableAttribute(te.normal),K.vertexAttribPointer(te.normal,3,5126,!1,0,0)),B.hasUvs&&(K.bindBuffer(34962,Y.uv),K.bufferData(34962,B.uvArray,35048),ce.enableAttribute(te.uv),K.vertexAttribPointer(te.uv,2,5126,!1,0,0)),B.hasColors&&(K.bindBuffer(34962,Y.color),K.bufferData(34962,B.colorArray,35048),ce.enableAttribute(te.color),K.vertexAttribPointer(te.color,3,5126,!1,0,0)),ce.disableUnusedAttributes(),K.drawArrays(4,0,B.count),B.count=0},this.renderBufferDirect=function(B,ae,Y,te,ye,pe){ae===null&&(ae=ge);const be=ye.isMesh&&ye.matrixWorld.determinant()<0,me=jn(B,ae,te,ye);oe.setMaterial(te,be);let De=Y.index;const Xe=Y.attributes.position;if(De===null){if(Xe===void 0||Xe.count===0)return}else if(De.count===0)return;let Re=1;te.wireframe===!0&&(De=G.getWireframeAttribute(Y),Re=2),(te.morphTargets||te.morphNormals)&&X.update(ye,Y,te,me),ce.setup(ye,te,me,Y,De);let je,Oe=re;De!==null&&(je=P.get(De),Oe=fe,Oe.setIndex(je));const He=De!==null?De.count:Xe.count,Ve=Y.drawRange.start*Re,Fe=Y.drawRange.count*Re,gn=pe!==null?pe.start*Re:0,nt=pe!==null?pe.count*Re:1/0,Pt=Math.max(Ve,gn),qn=Math.min(He,Ve+Fe,gn+nt)-1,Lt=Math.max(0,qn-Pt+1);if(Lt!==0){if(ye.isMesh)te.wireframe===!0?(oe.setLineWidth(te.wireframeLinewidth*ue()),Oe.setMode(1)):Oe.setMode(4);else if(ye.isLine){let St=te.linewidth;St===void 0&&(St=1),oe.setLineWidth(St*ue()),ye.isLineSegments?Oe.setMode(1):ye.isLineLoop?Oe.setMode(2):Oe.setMode(3)}else ye.isPoints?Oe.setMode(0):ye.isSprite&&Oe.setMode(4);if(ye.isInstancedMesh)Oe.renderInstances(Y,Pt,Lt,ye.count);else if(Y.isInstancedBufferGeometry){const St=Math.min(Y.instanceCount,Y._maxInstanceCount);Oe.renderInstances(Y,Pt,Lt,St)}else Oe.render(Pt,Lt)}},this.compile=function(B,ae){d=j.get(B,ae),d.init(),B.traverse(function(te){te.isLight&&(d.pushLight(te),te.castShadow&&d.pushShadow(te))}),d.setupLights(ae);const Y=new WeakMap;B.traverse(function(te){let ye=te.material;if(ye)if(Array.isArray(ye))for(let pe=0;pe<ye.length;pe++){let be=ye[pe];Y.has(be)===!1&&(kt(be,B,te),Y.set(be))}else Y.has(ye)===!1&&(kt(ye,B,te),Y.set(ye))})};let bt=null;function Ft(B){xe.isPresenting||bt&&bt(B)}const mn=new hT;mn.setAnimationLoop(Ft),typeof window<"u"&&mn.setContext(window),this.setAnimationLoop=function(B){bt=B,xe.setAnimationLoop(B),B===null?mn.stop():mn.start()},this.render=function(B,ae){let Y,te;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Y=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),te=arguments[3]),ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(p===!0)return;ce.resetDefaultState(),v=-1,b=null,B.autoUpdate===!0&&B.updateMatrixWorld(),ae.parent===null&&ae.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(ae=xe.getCamera(ae)),B.isScene===!0&&B.onBeforeRender(h,B,ae,Y||y),d=j.get(B,ae),d.init(),le.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),$.setFromProjectionMatrix(le),I=this.localClippingEnabled,D=q.init(this.clippingPlanes,I,ae),f=J.get(B,ae),f.init(),Ze(B,ae,0,h.sortObjects),f.finish(),h.sortObjects===!0&&f.sort(H,U),D===!0&&q.beginShadows();const ye=d.state.shadowsArray;ve.render(ye,B,ae),d.setupLights(ae),D===!0&&q.endShadows(),this.info.autoReset===!0&&this.info.reset(),Y!==void 0&&this.setRenderTarget(Y),k.render(f,B,ae,te);const pe=f.opaque,be=f.transparent;pe.length>0&&lr(pe,B,ae),be.length>0&&lr(be,B,ae),B.isScene===!0&&B.onAfterRender(h,B,ae),y!==null&&(T.updateRenderTargetMipmap(y),T.updateMultisampleRenderTarget(y)),oe.buffers.depth.setTest(!0),oe.buffers.depth.setMask(!0),oe.buffers.color.setMask(!0),oe.setPolygonOffset(!1),f=null,d=null};function Ze(B,ae,Y,te){if(B.visible===!1)return;if(B.layers.test(ae.layers)){if(B.isGroup)Y=B.renderOrder;else if(B.isLOD)B.autoUpdate===!0&&B.update(ae);else if(B.isLight)d.pushLight(B),B.castShadow&&d.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||$.intersectsSprite(B)){te&&de.setFromMatrixPosition(B.matrixWorld).applyMatrix4(le);const be=Z.update(B),me=B.material;me.visible&&f.push(B,be,me,Y,de.z,null)}}else if(B.isImmediateRenderObject)te&&de.setFromMatrixPosition(B.matrixWorld).applyMatrix4(le),f.push(B,null,B.material,Y,de.z,null);else if((B.isMesh||B.isLine||B.isPoints)&&(B.isSkinnedMesh&&B.skeleton.frame!==Q.render.frame&&(B.skeleton.update(),B.skeleton.frame=Q.render.frame),!B.frustumCulled||$.intersectsObject(B))){te&&de.setFromMatrixPosition(B.matrixWorld).applyMatrix4(le);const be=Z.update(B),me=B.material;if(Array.isArray(me)){const De=be.groups;for(let Xe=0,Re=De.length;Xe<Re;Xe++){const je=De[Xe],Oe=me[je.materialIndex];Oe&&Oe.visible&&f.push(B,be,Oe,Y,de.z,je)}}else me.visible&&f.push(B,be,me,Y,de.z,null)}}const pe=B.children;for(let be=0,me=pe.length;be<me;be++)Ze(pe[be],ae,Y,te)}function lr(B,ae,Y){const te=ae.isScene===!0?ae.overrideMaterial:null;for(let ye=0,pe=B.length;ye<pe;ye++){const be=B[ye],me=be.object,De=be.geometry,Xe=te===null?be.material:te,Re=be.group;if(Y.isArrayCamera){M=Y;const je=Y.cameras;for(let Oe=0,He=je.length;Oe<He;Oe++){const Ve=je[Oe];me.layers.test(Ve.layers)&&(oe.viewport(S.copy(Ve.viewport)),d.setupLights(Ve),Wn(me,ae,Ve,De,Xe,Re))}}else M=null,Wn(me,ae,Y,De,Xe,Re)}}function Wn(B,ae,Y,te,ye,pe){if(B.onBeforeRender(h,ae,Y,te,ye,pe),d=j.get(ae,M||Y),B.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),B.isImmediateRenderObject){const be=jn(Y,ae,ye,B);oe.setMaterial(ye),ce.reset(),ji(B,be)}else h.renderBufferDirect(Y,ae,te,ye,B,pe);B.onAfterRender(h,ae,Y,te,ye,pe),d=j.get(ae,M||Y)}function kt(B,ae,Y){ae.isScene!==!0&&(ae=ge);const te=se.get(B),ye=d.state.lights,pe=d.state.shadowsArray,be=ye.state.version,me=w.getParameters(B,ye.state,pe,ae,q.numPlanes,q.numIntersection,Y),De=w.getProgramCacheKey(me);let Xe=te.program,Re=!0;if(Xe===void 0)B.addEventListener("dispose",Ge);else if(Xe.cacheKey!==De)an(B);else if(te.lightsStateVersion!==be)te.lightsStateVersion=be,Re=!1;else{if(me.shaderID!==void 0)return;Re=!1}Re&&(Xe=w.acquireProgram(me,De),te.program=Xe,te.uniforms=me.uniforms,te.outputEncoding=me.outputEncoding,B.program=Xe);const je=Xe.getAttributes();if(B.morphTargets){B.numSupportedMorphTargets=0;for(let Fe=0;Fe<h.maxMorphTargets;Fe++)je["morphTarget"+Fe]>=0&&B.numSupportedMorphTargets++}if(B.morphNormals){B.numSupportedMorphNormals=0;for(let Fe=0;Fe<h.maxMorphNormals;Fe++)je["morphNormal"+Fe]>=0&&B.numSupportedMorphNormals++}const Oe=te.uniforms;(!B.isShaderMaterial&&!B.isRawShaderMaterial||B.clipping===!0)&&(te.numClippingPlanes=q.numPlanes,te.numIntersection=q.numIntersection,Oe.clippingPlanes=q.uniform),te.environment=B.isMeshStandardMaterial?ae.environment:null,te.fog=ae.fog,te.needsLights=ms(B),te.lightsStateVersion=be,te.needsLights&&(Oe.ambientLightColor.value=ye.state.ambient,Oe.lightProbe.value=ye.state.probe,Oe.directionalLights.value=ye.state.directional,Oe.directionalLightShadows.value=ye.state.directionalShadow,Oe.spotLights.value=ye.state.spot,Oe.spotLightShadows.value=ye.state.spotShadow,Oe.rectAreaLights.value=ye.state.rectArea,Oe.pointLights.value=ye.state.point,Oe.pointLightShadows.value=ye.state.pointShadow,Oe.hemisphereLights.value=ye.state.hemi,Oe.directionalShadowMap.value=ye.state.directionalShadowMap,Oe.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,Oe.spotShadowMap.value=ye.state.spotShadowMap,Oe.spotShadowMatrix.value=ye.state.spotShadowMatrix,Oe.pointShadowMap.value=ye.state.pointShadowMap,Oe.pointShadowMatrix.value=ye.state.pointShadowMatrix);const He=te.program.getUniforms(),Ve=eo.seqWithValue(He.seq,Oe);te.uniformsList=Ve}function jn(B,ae,Y,te){ae.isScene!==!0&&(ae=ge),T.resetTextureUnits();const ye=ae.fog,pe=Y.isMeshStandardMaterial?ae.environment:null,be=y===null?h.outputEncoding:y.texture.encoding,me=se.get(Y),De=d.state.lights;if(D===!0&&(I===!0||B!==b)){const Fe=B===b&&Y.id===v;q.setState(Y.clippingPlanes,Y.clipIntersection,Y.clipShadows,B,me,Fe)}Y.version===me.__version?(me.program===void 0||Y.fog&&me.fog!==ye||me.environment!==pe||me.needsLights&&me.lightsStateVersion!==De.state.version||me.numClippingPlanes!==void 0&&(me.numClippingPlanes!==q.numPlanes||me.numIntersection!==q.numIntersection)||me.outputEncoding!==be)&&kt(Y,ae,te):(kt(Y,ae,te),me.__version=Y.version);let Xe=!1,Re=!1,je=!1;const Oe=me.program,He=Oe.getUniforms(),Ve=me.uniforms;if(oe.useProgram(Oe.program)&&(Xe=!0,Re=!0,je=!0),Y.id!==v&&(v=Y.id,Re=!0),Xe||b!==B){if(He.setValue(K,"projectionMatrix",B.projectionMatrix),ie.logarithmicDepthBuffer&&He.setValue(K,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),b!==B&&(b=B,Re=!0,je=!0),Y.isShaderMaterial||Y.isMeshPhongMaterial||Y.isMeshToonMaterial||Y.isMeshStandardMaterial||Y.envMap){const Fe=He.map.cameraPosition;Fe!==void 0&&Fe.setValue(K,de.setFromMatrixPosition(B.matrixWorld))}(Y.isMeshPhongMaterial||Y.isMeshToonMaterial||Y.isMeshLambertMaterial||Y.isMeshBasicMaterial||Y.isMeshStandardMaterial||Y.isShaderMaterial)&&He.setValue(K,"isOrthographic",B.isOrthographicCamera===!0),(Y.isMeshPhongMaterial||Y.isMeshToonMaterial||Y.isMeshLambertMaterial||Y.isMeshBasicMaterial||Y.isMeshStandardMaterial||Y.isShaderMaterial||Y.isShadowMaterial||Y.skinning)&&He.setValue(K,"viewMatrix",B.matrixWorldInverse)}if(Y.skinning){He.setOptional(K,te,"bindMatrix"),He.setOptional(K,te,"bindMatrixInverse");const Fe=te.skeleton;if(Fe){const gn=Fe.bones;if(ie.floatVertexTextures){if(Fe.boneTexture===void 0){let nt=Math.sqrt(gn.length*4);nt=qe.ceilPowerOfTwo(nt),nt=Math.max(nt,4);const Pt=new Float32Array(nt*nt*4);Pt.set(Fe.boneMatrices);const qn=new Rl(Pt,nt,nt,ir,Bs);Fe.boneMatrices=Pt,Fe.boneTexture=qn,Fe.boneTextureSize=nt}He.setValue(K,"boneTexture",Fe.boneTexture,T),He.setValue(K,"boneTextureSize",Fe.boneTextureSize)}else He.setOptional(K,Fe,"boneMatrices")}}return(Re||me.receiveShadow!==te.receiveShadow)&&(me.receiveShadow=te.receiveShadow,He.setValue(K,"receiveShadow",te.receiveShadow)),Re&&(He.setValue(K,"toneMappingExposure",h.toneMappingExposure),me.needsLights&&kr(Ve,je),ye&&Y.fog&&C.refreshFogUniforms(Ve,ye),C.refreshMaterialUniforms(Ve,Y,pe,R,N),Ve.ltc_1!==void 0&&(Ve.ltc_1.value=Se.LTC_1),Ve.ltc_2!==void 0&&(Ve.ltc_2.value=Se.LTC_2),eo.upload(K,me.uniformsList,Ve,T)),Y.isShaderMaterial&&Y.uniformsNeedUpdate===!0&&(eo.upload(K,me.uniformsList,Ve,T),Y.uniformsNeedUpdate=!1),Y.isSpriteMaterial&&He.setValue(K,"center",te.center),He.setValue(K,"modelViewMatrix",te.modelViewMatrix),He.setValue(K,"normalMatrix",te.normalMatrix),He.setValue(K,"modelMatrix",te.matrixWorld),Oe}function kr(B,ae){B.ambientLightColor.needsUpdate=ae,B.lightProbe.needsUpdate=ae,B.directionalLights.needsUpdate=ae,B.directionalLightShadows.needsUpdate=ae,B.pointLights.needsUpdate=ae,B.pointLightShadows.needsUpdate=ae,B.spotLights.needsUpdate=ae,B.spotLightShadows.needsUpdate=ae,B.rectAreaLights.needsUpdate=ae,B.hemisphereLights.needsUpdate=ae}function ms(B){return B.isMeshLambertMaterial||B.isMeshToonMaterial||B.isMeshPhongMaterial||B.isMeshStandardMaterial||B.isShadowMaterial||B.isShaderMaterial&&B.lights===!0}this.setFramebuffer=function(B){g!==B&&y===null&&K.bindFramebuffer(36160,B),g=B},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return m},this.getRenderTarget=function(){return y},this.setRenderTarget=function(B,ae,Y){y=B,_=ae,m=Y,B&&se.get(B).__webglFramebuffer===void 0&&T.setupRenderTarget(B);let te=g,ye=!1;if(B){const pe=se.get(B).__webglFramebuffer;B.isWebGLCubeRenderTarget?(te=pe[ae||0],ye=!0):B.isWebGLMultisampleRenderTarget?te=se.get(B).__webglMultisampledFramebuffer:te=pe,S.copy(B.viewport),A.copy(B.scissor),E=B.scissorTest}else S.copy(z).multiplyScalar(R).floor(),A.copy(F).multiplyScalar(R).floor(),E=V;if(x!==te&&(K.bindFramebuffer(36160,te),x=te),oe.viewport(S),oe.scissor(A),oe.setScissorTest(E),ye){const pe=se.get(B.texture);K.framebufferTexture2D(36160,36064,34069+(ae||0),pe.__webglTexture,Y||0)}},this.readRenderTargetPixels=function(B,ae,Y,te,ye,pe,be){if(!(B&&B.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let me=se.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&be!==void 0&&(me=me[be]),me){let De=!1;me!==x&&(K.bindFramebuffer(36160,me),De=!0);try{const Xe=B.texture,Re=Xe.format,je=Xe.type;if(Re!==ir&&ne.convert(Re)!==K.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(je!==Tf&&ne.convert(je)!==K.getParameter(35738)&&!(je===Bs&&(ie.isWebGL2||ee.get("OES_texture_float")||ee.get("WEBGL_color_buffer_float")))&&!(je===Nd&&(ie.isWebGL2?ee.get("EXT_color_buffer_float"):ee.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}K.checkFramebufferStatus(36160)===36053?ae>=0&&ae<=B.width-te&&Y>=0&&Y<=B.height-ye&&K.readPixels(ae,Y,te,ye,ne.convert(Re),ne.convert(je),pe):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{De&&K.bindFramebuffer(36160,x)}}},this.copyFramebufferToTexture=function(B,ae,Y){Y===void 0&&(Y=0);const te=Math.pow(2,-Y),ye=Math.floor(ae.image.width*te),pe=Math.floor(ae.image.height*te),be=ne.convert(ae.format);T.setTexture2D(ae,0),K.copyTexImage2D(3553,Y,be,B.x,B.y,ye,pe,0),oe.unbindTexture()},this.copyTextureToTexture=function(B,ae,Y,te){te===void 0&&(te=0);const ye=ae.image.width,pe=ae.image.height,be=ne.convert(Y.format),me=ne.convert(Y.type);T.setTexture2D(Y,0),K.pixelStorei(37440,Y.flipY),K.pixelStorei(37441,Y.premultiplyAlpha),K.pixelStorei(3317,Y.unpackAlignment),ae.isDataTexture?K.texSubImage2D(3553,te,B.x,B.y,ye,pe,be,me,ae.image.data):ae.isCompressedTexture?K.compressedTexSubImage2D(3553,te,B.x,B.y,ae.mipmaps[0].width,ae.mipmaps[0].height,be,ae.mipmaps[0].data):K.texSubImage2D(3553,te,B.x,B.y,be,me,ae.image),te===0&&Y.generateMipmaps&&K.generateMipmap(3553),oe.unbindTexture()},this.initTexture=function(B){T.setTexture2D(B,0),oe.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function qb(e){rc.call(this,e)}qb.prototype=Object.assign(Object.create(rc.prototype),{constructor:qb,isWebGL1Renderer:!0});function By(e,t){this.name="",this.color=new Le(e),this.density=t!==void 0?t:25e-5}Object.assign(By.prototype,{isFogExp2:!0,clone:function(){return new By(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});function Ny(e,t,n){this.name="",this.color=new Le(e),this.near=t!==void 0?t:1,this.far=n!==void 0?n:1e3}Object.assign(Ny.prototype,{isFog:!0,clone:function(){return new Ny(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});function Ii(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=qp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=qe.generateUUID()}Object.defineProperty(Ii.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Ii.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=qe.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new Ii(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=qe.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const So=new O;function ca(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(ca.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(ca.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)So.x=this.getX(t),So.y=this.getY(t),So.z=this.getZ(t),So.applyMatrix4(e),this.setXYZ(t,So.x,So.y,So.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Be(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ca(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function ua(e){Ne.call(this),this.type="SpriteMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}ua.prototype=Object.create(Ne.prototype);ua.prototype.constructor=ua;ua.prototype.isSpriteMaterial=!0;ua.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let Ia;const vc=new O,Fa=new O,ka=new O,Ba=new he,xc=new he,wT=new Je,gh=new O,bc=new O,yh=new O,$b=new he,rg=new he,Xb=new he;function zy(e){if(Me.call(this),this.type="Sprite",Ia===void 0){Ia=new Ce;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Ii(t,5);Ia.setIndex([0,1,2,0,2,3]),Ia.setAttribute("position",new ca(n,3,0,!1)),Ia.setAttribute("uv",new ca(n,2,3,!1))}this.geometry=Ia,this.material=e!==void 0?e:new ua,this.center=new he(.5,.5)}zy.prototype=Object.assign(Object.create(Me.prototype),{constructor:zy,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fa.setFromMatrixScale(this.matrixWorld),wT.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ka.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fa.multiplyScalar(-ka.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;_h(gh.set(-.5,-.5,0),ka,s,Fa,i,r),_h(bc.set(.5,-.5,0),ka,s,Fa,i,r),_h(yh.set(.5,.5,0),ka,s,Fa,i,r),$b.set(0,0),rg.set(1,0),Xb.set(1,1);let o=e.ray.intersectTriangle(gh,bc,yh,!1,vc);if(o===null&&(_h(bc.set(-.5,.5,0),ka,s,Fa,i,r),rg.set(0,1),o=e.ray.intersectTriangle(gh,yh,bc,!1,vc),o===null))return;const a=e.ray.origin.distanceTo(vc);a<e.near||a>e.far||t.push({distance:a,point:vc.clone(),uv:un.getUV(vc,gh,bc,yh,$b,rg,Xb,new he),face:null,object:this})},copy:function(e){return Me.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function _h(e,t,n,i,r,s){Ba.subVectors(e,n).addScalar(.5).multiply(i),r!==void 0?(xc.x=s*Ba.x-r*Ba.y,xc.y=r*Ba.x+s*Ba.y):xc.copy(Ba),e.copy(t),e.x+=xc.x,e.y+=xc.y,e.applyMatrix4(wT)}const vh=new O,Yb=new O;function Wd(){Me.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Wd.prototype=Object.assign(Object.create(Me.prototype),{constructor:Wd,isLOD:!0,copy:function(e){Me.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){vh.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(vh);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){vh.setFromMatrixPosition(e.matrixWorld),Yb.setFromMatrixPosition(this.matrixWorld);const n=vh.distanceTo(Yb)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=Me.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}});function Uy(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),dt.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Je,this.bindMatrixInverse=new Je}Uy.prototype=Object.assign(Object.create(dt.prototype),{constructor:Uy,isSkinnedMesh:!0,copy:function(e){return dt.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new lt,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){dt.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new O,t=new lt,n=new lt,i=new O,r=new Je;return function(s,o){const a=this.skeleton,l=this.geometry;t.fromBufferAttribute(l.attributes.skinIndex,s),n.fromBufferAttribute(l.attributes.skinWeight,s),e.fromBufferAttribute(l.attributes.position,s).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(let c=0;c<4;c++){const u=n.getComponent(c);if(u!==0){const f=t.getComponent(c);r.multiplyMatrices(a.bones[f].matrixWorld,a.boneInverses[f]),o.addScaledVector(i.copy(e).applyMatrix4(r),u)}}return o.applyMatrix4(this.bindMatrixInverse)}}()});const Zb=new Je,pU=new Je;function Hy(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Je)}}Object.assign(Hy.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const n=new Je;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,s=e.length;r<s;r++){const o=e[r]?e[r].matrixWorld:pU;Zb.multiplyMatrices(o,t[r]),Zb.toArray(n,r*16)}i!==void 0&&(i.needsUpdate=!0)},clone:function(){return new Hy(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function Jb(){Me.call(this),this.type="Bone"}Jb.prototype=Object.assign(Object.create(Me.prototype),{constructor:Jb,isBone:!0});const Kb=new Je,Qb=new Je,xh=[],wc=new dt;function Gy(e,t,n){dt.call(this,e,t),this.instanceMatrix=new Be(new Float32Array(n*16),16),this.count=n,this.frustumCulled=!1}Gy.prototype=Object.assign(Object.create(dt.prototype),{constructor:Gy,isInstancedMesh:!0,copy:function(e){return dt.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(wc.geometry=this.geometry,wc.material=this.material,wc.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,Kb),Qb.multiplyMatrices(n,Kb),wc.matrixWorld=Qb,wc.raycast(e,xh);for(let s=0,o=xh.length;s<o;s++){const a=xh[s];a.instanceId=r,a.object=this,t.push(a)}xh.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function Ht(e){Ne.call(this),this.type="LineBasicMaterial",this.color=new Le(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Ht.prototype=Object.create(Ne.prototype);Ht.prototype.constructor=Ht;Ht.prototype.isLineBasicMaterial=!0;Ht.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const ew=new O,tw=new O,nw=new Je,bh=new nc,wh=new ps;function Hi(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Me.call(this),this.type="Line",this.geometry=e!==void 0?e:new Ce,this.material=t!==void 0?t:new Ht,this.updateMorphTargets()}Hi.prototype=Object.assign(Object.create(Me.prototype),{constructor:Hi,isLine:!0,copy:function(e){return Me.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)ew.fromBufferAttribute(t,i-1),tw.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=ew.distanceTo(tw);e.setAttribute("lineDistance",new Ee(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,r=t.length;i<r;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),wh.copy(n.boundingSphere),wh.applyMatrix4(i),wh.radius+=r,e.ray.intersectsSphere(wh)===!1)return;nw.getInverse(i),bh.copy(e.ray).applyMatrix4(nw);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,a=new O,l=new O,c=new O,u=new O,f=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){const d=n.index,p=n.attributes.position.array;if(d!==null){const g=d.array;for(let _=0,m=g.length-1;_<m;_+=f){const y=g[_],x=g[_+1];if(a.fromArray(p,y*3),l.fromArray(p,x*3),bh.distanceSqToSegment(a,l,u,c)>o)continue;u.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(u);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(let g=0,_=p.length/3-1;g<_;g+=f){if(a.fromArray(p,3*g),l.fromArray(p,3*g+3),bh.distanceSqToSegment(a,l,u,c)>o)continue;u.applyMatrix4(this.matrixWorld);const y=e.ray.origin.distanceTo(u);y<e.near||y>e.far||t.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const d=n.vertices,h=d.length;for(let p=0;p<h-1;p+=f){if(bh.distanceSqToSegment(d[p],d[p+1],u,c)>o)continue;u.applyMatrix4(this.matrixWorld);const _=e.ray.origin.distanceTo(u);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Mh=new O,Sh=new O;function qt(e,t){Hi.call(this,e,t),this.type="LineSegments"}qt.prototype=Object.assign(Object.create(Hi.prototype),{constructor:qt,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)Mh.fromBufferAttribute(t,i),Sh.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Mh.distanceTo(Sh);e.setAttribute("lineDistance",new Ee(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,r=t.length;i<r;i+=2)Mh.copy(t[i]),Sh.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Mh.distanceTo(Sh)}return this}});function Vy(e,t){Hi.call(this,e,t),this.type="LineLoop"}Vy.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Vy,isLineLoop:!0});function fa(e){Ne.call(this),this.type="PointsMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}fa.prototype=Object.create(Ne.prototype);fa.prototype.constructor=fa;fa.prototype.isPointsMaterial=!0;fa.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const iw=new Je,Wy=new nc,Eh=new ps,Th=new O;function jy(e,t){Me.call(this),this.type="Points",this.geometry=e!==void 0?e:new Ce,this.material=t!==void 0?t:new fa,this.updateMorphTargets()}jy.prototype=Object.assign(Object.create(Me.prototype),{constructor:jy,isPoints:!0,copy:function(e){return Me.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Eh.copy(n.boundingSphere),Eh.applyMatrix4(i),Eh.radius+=r,e.ray.intersectsSphere(Eh)===!1)return;iw.getInverse(i),Wy.copy(e.ray).applyMatrix4(iw);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s;if(n.isBufferGeometry){const a=n.index,c=n.attributes.position.array;if(a!==null){const u=a.array;for(let f=0,d=u.length;f<d;f++){const h=u[f];Th.fromArray(c,h*3),sg(Th,h,o,i,e,t,this)}}else for(let u=0,f=c.length/3;u<f;u++)Th.fromArray(c,u*3),sg(Th,u,o,i,e,t,this)}else{const a=n.vertices;for(let l=0,c=a.length;l<c;l++)sg(a[l],l,o,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function sg(e,t,n,i,r,s,o){const a=Wy.distanceSqToPoint(e);if(a<n){const l=new O;Wy.closestPointToPoint(e,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:o})}}function rw(e,t,n,i,r,s,o,a,l){pt.call(this,e,t,n,i,r,s,o,a,l),this.format=o!==void 0?o:Zo,this.minFilter=s!==void 0?s:Sn,this.magFilter=r!==void 0?r:Sn,this.generateMipmaps=!1}rw.prototype=Object.assign(Object.create(pt.prototype),{constructor:rw,isVideoTexture:!0,update:function(){const e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function Hu(e,t,n,i,r,s,o,a,l,c,u,f){pt.call(this,null,s,o,a,l,c,i,r,u,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}Hu.prototype=Object.create(pt.prototype);Hu.prototype.constructor=Hu;Hu.prototype.isCompressedTexture=!0;function jd(e,t,n,i,r,s,o,a,l){pt.call(this,e,t,n,i,r,s,o,a,l),this.needsUpdate=!0}jd.prototype=Object.create(pt.prototype);jd.prototype.constructor=jd;jd.prototype.isCanvasTexture=!0;function qd(e,t,n,i,r,s,o,a,l,c){if(c=c!==void 0?c:gl,c!==gl&&c!==Ru)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===gl&&(n=Bd),n===void 0&&c===Ru&&(n=au),pt.call(this,null,i,r,s,o,a,c,n,l),this.image={width:e,height:t},this.magFilter=o!==void 0?o:rn,this.minFilter=a!==void 0?a:rn,this.flipY=!1,this.generateMipmaps=!1}qd.prototype=Object.create(pt.prototype);qd.prototype.constructor=qd;qd.prototype.isDepthTexture=!0;function $d(e){Ce.call(this),this.type="WireframeGeometry";const t=[],n=[0,0],i={},r=["a","b","c"];if(e&&e.isGeometry){const s=e.faces;for(let o=0,a=s.length;o<a;o++){const l=s[o];for(let c=0;c<3;c++){const u=l[r[c]],f=l[r[(c+1)%3]];n[0]=Math.min(u,f),n[1]=Math.max(u,f);const d=n[0]+","+n[1];i[d]===void 0&&(i[d]={index1:n[0],index2:n[1]})}}for(const o in i){const a=i[o];let l=e.vertices[a.index1];t.push(l.x,l.y,l.z),l=e.vertices[a.index2],t.push(l.x,l.y,l.z)}}else if(e&&e.isBufferGeometry){let s=new O;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,h=f.count;for(let p=d,g=d+h;p<g;p+=3)for(let _=0;_<3;_++){const m=a.getX(p+_),y=a.getX(p+(_+1)%3);n[0]=Math.min(m,y),n[1]=Math.max(m,y);const x=n[0]+","+n[1];i[x]===void 0&&(i[x]={index1:n[0],index2:n[1]})}}for(const c in i){const u=i[c];s.fromBufferAttribute(o,u.index1),t.push(s.x,s.y,s.z),s.fromBufferAttribute(o,u.index2),t.push(s.x,s.y,s.z)}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c;s.fromBufferAttribute(o,u),t.push(s.x,s.y,s.z);const f=3*a+(c+1)%3;s.fromBufferAttribute(o,f),t.push(s.x,s.y,s.z)}}}this.setAttribute("position",new Ee(t,3))}$d.prototype=Object.create(Ce.prototype);$d.prototype.constructor=$d;function Xd(e,t,n){ze.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Gu(e,t,n)),this.mergeVertices()}Xd.prototype=Object.create(ze.prototype);Xd.prototype.constructor=Xd;function Gu(e,t,n){Ce.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],s=[],o=[],a=1e-5,l=new O,c=new O,u=new O,f=new O,d=new O;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const h=t+1;for(let p=0;p<=n;p++){const g=p/n;for(let _=0;_<=t;_++){const m=_/t;e(m,g,c),r.push(c.x,c.y,c.z),m-a>=0?(e(m-a,g,u),f.subVectors(c,u)):(e(m+a,g,u),f.subVectors(u,c)),g-a>=0?(e(m,g-a,u),d.subVectors(c,u)):(e(m,g+a,u),d.subVectors(u,c)),l.crossVectors(f,d).normalize(),s.push(l.x,l.y,l.z),o.push(m,g)}}for(let p=0;p<n;p++)for(let g=0;g<t;g++){const _=p*h+g,m=p*h+g+1,y=(p+1)*h+g+1,x=(p+1)*h+g;i.push(_,m,x),i.push(m,y,x)}this.setIndex(i),this.setAttribute("position",new Ee(r,3)),this.setAttribute("normal",new Ee(s,3)),this.setAttribute("uv",new Ee(o,2))}Gu.prototype=Object.create(Ce.prototype);Gu.prototype.constructor=Gu;function Yd(e,t,n,i){ze.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new xi(e,t,n,i)),this.mergeVertices()}Yd.prototype=Object.create(ze.prototype);Yd.prototype.constructor=Yd;function xi(e,t,n,i){Ce.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1,i=i||0;const r=[],s=[];o(i),l(n),c(),this.setAttribute("position",new Ee(r,3)),this.setAttribute("normal",new Ee(r.slice(),3)),this.setAttribute("uv",new Ee(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(m){const y=new O,x=new O,v=new O;for(let b=0;b<t.length;b+=3)d(t[b+0],y),d(t[b+1],x),d(t[b+2],v),a(y,x,v,m)}function a(m,y,x,v){const b=Math.pow(2,v),M=[];for(let S=0;S<=b;S++){M[S]=[];const A=m.clone().lerp(x,S/b),E=y.clone().lerp(x,S/b),L=b-S;for(let N=0;N<=L;N++)N===0&&S===b?M[S][N]=A:M[S][N]=A.clone().lerp(E,N/L)}for(let S=0;S<b;S++)for(let A=0;A<2*(b-S)-1;A++){const E=Math.floor(A/2);A%2===0?(f(M[S][E+1]),f(M[S+1][E]),f(M[S][E])):(f(M[S][E+1]),f(M[S+1][E+1]),f(M[S+1][E]))}}function l(m){const y=new O;for(let x=0;x<r.length;x+=3)y.x=r[x+0],y.y=r[x+1],y.z=r[x+2],y.normalize().multiplyScalar(m),r[x+0]=y.x,r[x+1]=y.y,r[x+2]=y.z}function c(){const m=new O;for(let y=0;y<r.length;y+=3){m.x=r[y+0],m.y=r[y+1],m.z=r[y+2];const x=g(m)/2/Math.PI+.5,v=_(m)/Math.PI+.5;s.push(x,1-v)}h(),u()}function u(){for(let m=0;m<s.length;m+=6){const y=s[m+0],x=s[m+2],v=s[m+4],b=Math.max(y,x,v),M=Math.min(y,x,v);b>.9&&M<.1&&(y<.2&&(s[m+0]+=1),x<.2&&(s[m+2]+=1),v<.2&&(s[m+4]+=1))}}function f(m){r.push(m.x,m.y,m.z)}function d(m,y){const x=m*3;y.x=e[x+0],y.y=e[x+1],y.z=e[x+2]}function h(){const m=new O,y=new O,x=new O,v=new O,b=new he,M=new he,S=new he;for(let A=0,E=0;A<r.length;A+=9,E+=6){m.set(r[A+0],r[A+1],r[A+2]),y.set(r[A+3],r[A+4],r[A+5]),x.set(r[A+6],r[A+7],r[A+8]),b.set(s[E+0],s[E+1]),M.set(s[E+2],s[E+3]),S.set(s[E+4],s[E+5]),v.copy(m).add(y).add(x).divideScalar(3);const L=g(v);p(b,E+0,m,L),p(M,E+2,y,L),p(S,E+4,x,L)}}function p(m,y,x,v){v<0&&m.x===1&&(s[y]=m.x-1),x.x===0&&x.z===0&&(s[y]=v/2/Math.PI+.5)}function g(m){return Math.atan2(m.z,-m.x)}function _(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}}xi.prototype=Object.create(Ce.prototype);xi.prototype.constructor=xi;function Zd(e,t){ze.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Vu(e,t)),this.mergeVertices()}Zd.prototype=Object.create(ze.prototype);Zd.prototype.constructor=Zd;function Vu(e,t){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];xi.call(this,n,i,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}Vu.prototype=Object.create(xi.prototype);Vu.prototype.constructor=Vu;function Jd(e,t){ze.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ol(e,t)),this.mergeVertices()}Jd.prototype=Object.create(ze.prototype);Jd.prototype.constructor=Jd;function Ol(e,t){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];xi.call(this,n,i,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}Ol.prototype=Object.create(xi.prototype);Ol.prototype.constructor=Ol;function Kd(e,t){ze.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Wu(e,t)),this.mergeVertices()}Kd.prototype=Object.create(ze.prototype);Kd.prototype.constructor=Kd;function Wu(e,t){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];xi.call(this,i,r,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}Wu.prototype=Object.create(xi.prototype);Wu.prototype.constructor=Wu;function Qd(e,t){ze.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ju(e,t)),this.mergeVertices()}Qd.prototype=Object.create(ze.prototype);Qd.prototype.constructor=Qd;function ju(e,t){const n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];xi.call(this,r,s,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}ju.prototype=Object.create(xi.prototype);ju.prototype.constructor=ju;function ep(e,t,n,i,r,s){ze.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},s!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const o=new Il(e,t,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}ep.prototype=Object.create(ze.prototype);ep.prototype.constructor=ep;function Il(e,t,n,i,r){Ce.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},t=t||64,n=n||1,i=i||8,r=r||!1;const s=e.computeFrenetFrames(t,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new O,a=new O,l=new he;let c=new O;const u=[],f=[],d=[],h=[];p(),this.setIndex(h),this.setAttribute("position",new Ee(u,3)),this.setAttribute("normal",new Ee(f,3)),this.setAttribute("uv",new Ee(d,2));function p(){for(let y=0;y<t;y++)g(y);g(r===!1?t:0),m(),_()}function g(y){c=e.getPointAt(y/t,c);const x=s.normals[y],v=s.binormals[y];for(let b=0;b<=i;b++){const M=b/i*Math.PI*2,S=Math.sin(M),A=-Math.cos(M);a.x=A*x.x+S*v.x,a.y=A*x.y+S*v.y,a.z=A*x.z+S*v.z,a.normalize(),f.push(a.x,a.y,a.z),o.x=c.x+n*a.x,o.y=c.y+n*a.y,o.z=c.z+n*a.z,u.push(o.x,o.y,o.z)}}function _(){for(let y=1;y<=t;y++)for(let x=1;x<=i;x++){const v=(i+1)*(y-1)+(x-1),b=(i+1)*y+(x-1),M=(i+1)*y+x,S=(i+1)*(y-1)+x;h.push(v,b,S),h.push(b,M,S)}}function m(){for(let y=0;y<=t;y++)for(let x=0;x<=i;x++)l.x=y/t,l.y=x/i,d.push(l.x,l.y)}}Il.prototype=Object.create(Ce.prototype);Il.prototype.constructor=Il;Il.prototype.toJSON=function(){const e=Ce.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e};function tp(e,t,n,i,r,s,o){ze.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},o!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qu(e,t,n,i,r,s)),this.mergeVertices()}tp.prototype=Object.create(ze.prototype);tp.prototype.constructor=tp;function qu(e,t,n,i,r,s){Ce.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,s=s||3;const o=[],a=[],l=[],c=[],u=new O,f=new O,d=new O,h=new O,p=new O,g=new O,_=new O;for(let y=0;y<=n;++y){const x=y/n*r*Math.PI*2;m(x,r,s,e,d),m(x+.01,r,s,e,h),g.subVectors(h,d),_.addVectors(h,d),p.crossVectors(g,_),_.crossVectors(p,g),p.normalize(),_.normalize();for(let v=0;v<=i;++v){const b=v/i*Math.PI*2,M=-t*Math.cos(b),S=t*Math.sin(b);u.x=d.x+(M*_.x+S*p.x),u.y=d.y+(M*_.y+S*p.y),u.z=d.z+(M*_.z+S*p.z),a.push(u.x,u.y,u.z),f.subVectors(u,d).normalize(),l.push(f.x,f.y,f.z),c.push(y/n),c.push(v/i)}}for(let y=1;y<=n;y++)for(let x=1;x<=i;x++){const v=(i+1)*(y-1)+(x-1),b=(i+1)*y+(x-1),M=(i+1)*y+x,S=(i+1)*(y-1)+x;o.push(v,b,S),o.push(b,M,S)}this.setIndex(o),this.setAttribute("position",new Ee(a,3)),this.setAttribute("normal",new Ee(l,3)),this.setAttribute("uv",new Ee(c,2));function m(y,x,v,b,M){const S=Math.cos(y),A=Math.sin(y),E=v/x*y,L=Math.cos(E);M.x=b*(2+L)*.5*S,M.y=b*(2+L)*A*.5,M.z=b*Math.sin(E)*.5}}qu.prototype=Object.create(Ce.prototype);qu.prototype.constructor=qu;function np(e,t,n,i,r){ze.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new $u(e,t,n,i,r)),this.mergeVertices()}np.prototype=Object.create(ze.prototype);np.prototype.constructor=np;function $u(e,t,n,i,r){Ce.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||Math.PI*2;const s=[],o=[],a=[],l=[],c=new O,u=new O,f=new O;for(let d=0;d<=n;d++)for(let h=0;h<=i;h++){const p=h/i*r,g=d/n*Math.PI*2;u.x=(e+t*Math.cos(g))*Math.cos(p),u.y=(e+t*Math.cos(g))*Math.sin(p),u.z=t*Math.sin(g),o.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),f.subVectors(u,c).normalize(),a.push(f.x,f.y,f.z),l.push(h/i),l.push(d/n)}for(let d=1;d<=n;d++)for(let h=1;h<=i;h++){const p=(i+1)*d+h-1,g=(i+1)*(d-1)+h-1,_=(i+1)*(d-1)+h,m=(i+1)*d+h;s.push(p,g,m),s.push(g,_,m)}this.setIndex(s),this.setAttribute("position",new Ee(o,3)),this.setAttribute("normal",new Ee(a,3)),this.setAttribute("uv",new Ee(l,2))}$u.prototype=Object.create(Ce.prototype);$u.prototype.constructor=$u;const mU={triangulate:function(e,t,n){n=n||2;let i=t&&t.length,r=i?t[0]*n:e.length,s=MT(e,0,r,n,!0),o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,d,h;if(i&&(s=xU(e,t,s,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let p=n;p<r;p+=n)f=e[p],d=e[p+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);h=Math.max(c-a,u-l),h=h!==0?1/h:0}return Xu(s,o,n,a,l,h),o}};function MT(e,t,n,i,r){let s,o;if(r===LU(e,t,n,i)>0)for(s=t;s<n;s+=i)o=sw(s,e[s],e[s+1],o);else for(s=n-i;s>=t;s-=i)o=sw(s,e[s],e[s+1],o);return o&&Xp(o,o.next)&&(Zu(o),o=o.next),o}function lo(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(Xp(n,n.next)||Ct(n.prev,n,n.next)===0)){if(Zu(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function Xu(e,t,n,i,r,s,o){if(!e)return;!o&&s&&EU(e,i,r,s);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,s?yU(e,i,r,s):gU(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),Zu(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=_U(lo(e),t,n),Xu(e,t,n,i,r,s,2)):o===2&&vU(e,t,n,i,r,s):Xu(lo(e),t,n,i,r,s,1);break}}}function gU(e){let t=e.prev,n=e,i=e.next;if(Ct(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(nl(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Ct(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function yU(e,t,n,i){let r=e.prev,s=e,o=e.next;if(Ct(r,s,o)>=0)return!1;let a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,f=qy(a,l,t,n,i),d=qy(c,u,t,n,i),h=e.prevZ,p=e.nextZ;for(;h&&h.z>=f&&p&&p.z<=d;){if(h!==e.prev&&h!==e.next&&nl(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Ct(h.prev,h,h.next)>=0||(h=h.prevZ,p!==e.prev&&p!==e.next&&nl(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Ct(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&nl(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Ct(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&nl(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Ct(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function _U(e,t,n){let i=e;do{let r=i.prev,s=i.next.next;!Xp(r,s)&&ST(r,i,i.next,s)&&Yu(r,s)&&Yu(s,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(s.i/n),Zu(i),Zu(i.next),i=e=s),i=i.next}while(i!==e);return lo(i)}function vU(e,t,n,i,r,s){let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&AU(o,a)){let l=ET(o,a);o=lo(o,o.next),l=lo(l,l.next),Xu(o,t,n,i,r,s),Xu(l,t,n,i,r,s);return}a=a.next}o=o.next}while(o!==e)}function xU(e,t,n,i){let r=[],s,o,a,l,c;for(s=0,o=t.length;s<o;s++)a=t[s]*i,l=s<o-1?t[s+1]*i:e.length,c=MT(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(DU(c));for(r.sort(bU),s=0;s<r.length;s++)wU(r[s],n),n=lo(n,n.next);return n}function bU(e,t){return e.x-t.x}function wU(e,t){if(t=MU(e,t),t){const n=ET(t,e);lo(t,t.next),lo(n,n.next)}}function MU(e,t){let n=t,i=e.x,r=e.y,s=-1/0,o;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){let d=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=i&&d>s){if(s=d,d===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(i===s)return o;let a=o,l=o.x,c=o.y,u=1/0,f;n=o;do i>=n.x&&n.x>=l&&i!==n.x&&nl(r<c?i:s,r,l,c,r<c?s:i,r,n.x,n.y)&&(f=Math.abs(r-n.y)/(i-n.x),Yu(n,e)&&(f<u||f===u&&(n.x>o.x||n.x===o.x&&SU(o,n)))&&(o=n,u=f)),n=n.next;while(n!==a);return o}function SU(e,t){return Ct(e.prev,e,t.prev)<0&&Ct(t.next,e,e.next)<0}function EU(e,t,n,i){let r=e;do r.z===null&&(r.z=qy(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,TU(r)}function TU(e){let t,n,i,r,s,o,a,l,c=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,!!i);t++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return e}function qy(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function DU(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function nl(e,t,n,i,r,s,o,a){return(r-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(i-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function AU(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!CU(e,t)&&(Yu(e,t)&&Yu(t,e)&&PU(e,t)&&(Ct(e.prev,e,t.prev)||Ct(e,t.prev,t))||Xp(e,t)&&Ct(e.prev,e,e.next)>0&&Ct(t.prev,t,t.next)>0)}function Ct(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Xp(e,t){return e.x===t.x&&e.y===t.y}function ST(e,t,n,i){const r=Ah(Ct(e,t,n)),s=Ah(Ct(e,t,i)),o=Ah(Ct(n,i,e)),a=Ah(Ct(n,i,t));return!!(r!==s&&o!==a||r===0&&Dh(e,n,t)||s===0&&Dh(e,i,t)||o===0&&Dh(n,e,i)||a===0&&Dh(n,t,i))}function Dh(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ah(e){return e>0?1:e<0?-1:0}function CU(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ST(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Yu(e,t){return Ct(e.prev,e,e.next)<0?Ct(e,t,e.next)>=0&&Ct(e,e.prev,t)>=0:Ct(e,t,e.prev)<0||Ct(e,e.next,t)<0}function PU(e,t){let n=e,i=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function ET(e,t){let n=new $y(e.i,e.x,e.y),i=new $y(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function sw(e,t,n,i){const r=new $y(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Zu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $y(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function LU(e,t,n,i){let r=0;for(let s=t,o=n-i;s<n;s+=i)r+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return r}const to={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5},isClockWise:function(e){return to.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];ow(e),aw(n,e);let s=e.length;t.forEach(ow);for(let a=0;a<t.length;a++)i.push(s),s+=t[a].length,aw(n,t[a]);const o=mU.triangulate(n,i);for(let a=0;a<o.length;a+=3)r.push(o.slice(a,a+3));return r}};function ow(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function aw(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Fl(e,t){ze.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new ss(e,t)),this.mergeVertices()}Fl.prototype=Object.create(ze.prototype);Fl.prototype.constructor=Fl;Fl.prototype.toJSON=function(){const e=ze.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return TT(t,n,e)};function ss(e,t){Ce.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];s(l)}this.setAttribute("position",new Ee(i,3)),this.setAttribute("uv",new Ee(r,2)),this.computeVertexNormals();function s(o){const a=[],l=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1;let u=t.depth!==void 0?t.depth:100,f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:6,h=t.bevelSize!==void 0?t.bevelSize:d-2,p=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,m=t.UVGenerator!==void 0?t.UVGenerator:RU;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);let y,x=!1,v,b,M,S;_&&(y=_.getSpacedPoints(c),x=!0,f=!1,v=_.computeFrenetFrames(c,!1),b=new O,M=new O,S=new O),f||(g=0,d=0,h=0,p=0);const A=o.extractPoints(l);let E=A.shape;const L=A.holes;if(!to.isClockWise(E)){E=E.reverse();for(let Q=0,se=L.length;Q<se;Q++){const T=L[Q];to.isClockWise(T)&&(L[Q]=T.reverse())}}const R=to.triangulateShape(E,L),H=E;for(let Q=0,se=L.length;Q<se;Q++){const T=L[Q];E=E.concat(T)}function U(Q,se,T){return se||console.error("THREE.ExtrudeGeometry: vec does not exist"),se.clone().multiplyScalar(T).add(Q)}const z=E.length,F=R.length;function V(Q,se,T){let P,G,Z;const w=Q.x-se.x,C=Q.y-se.y,J=T.x-Q.x,j=T.y-Q.y,k=w*w+C*C,X=w*j-C*J;if(Math.abs(X)>Number.EPSILON){const re=Math.sqrt(k),fe=Math.sqrt(J*J+j*j),ne=se.x-C/re,ce=se.y+w/re,_e=T.x-j/fe,xe=T.y+J/fe,ve=((_e-ne)*j-(xe-ce)*J)/(w*j-C*J);P=ne+w*ve-Q.x,G=ce+C*ve-Q.y;const we=P*P+G*G;if(we<=2)return new he(P,G);Z=Math.sqrt(we/2)}else{let re=!1;w>Number.EPSILON?J>Number.EPSILON&&(re=!0):w<-Number.EPSILON?J<-Number.EPSILON&&(re=!0):Math.sign(C)===Math.sign(j)&&(re=!0),re?(P=-C,G=w,Z=Math.sqrt(k)):(P=w,G=C,Z=Math.sqrt(k/2))}return new he(P/Z,G/Z)}const $=[];for(let Q=0,se=H.length,T=se-1,P=Q+1;Q<se;Q++,T++,P++)T===se&&(T=0),P===se&&(P=0),$[Q]=V(H[Q],H[T],H[P]);const q=[];let D,I=$.concat();for(let Q=0,se=L.length;Q<se;Q++){const T=L[Q];D=[];for(let P=0,G=T.length,Z=G-1,w=P+1;P<G;P++,Z++,w++)Z===G&&(Z=0),w===G&&(w=0),D[P]=V(T[P],T[Z],T[w]);q.push(D),I=I.concat(D)}for(let Q=0;Q<g;Q++){const se=Q/g,T=d*Math.cos(se*Math.PI/2),P=h*Math.sin(se*Math.PI/2)+p;for(let G=0,Z=H.length;G<Z;G++){const w=U(H[G],$[G],P);K(w.x,w.y,-T)}for(let G=0,Z=L.length;G<Z;G++){const w=L[G];D=q[G];for(let C=0,J=w.length;C<J;C++){const j=U(w[C],D[C],P);K(j.x,j.y,-T)}}}const le=h+p;for(let Q=0;Q<z;Q++){const se=f?U(E[Q],I[Q],le):E[Q];x?(M.copy(v.normals[0]).multiplyScalar(se.x),b.copy(v.binormals[0]).multiplyScalar(se.y),S.copy(y[0]).add(M).add(b),K(S.x,S.y,S.z)):K(se.x,se.y,0)}for(let Q=1;Q<=c;Q++)for(let se=0;se<z;se++){const T=f?U(E[se],I[se],le):E[se];x?(M.copy(v.normals[Q]).multiplyScalar(T.x),b.copy(v.binormals[Q]).multiplyScalar(T.y),S.copy(y[Q]).add(M).add(b),K(S.x,S.y,S.z)):K(T.x,T.y,u/c*Q)}for(let Q=g-1;Q>=0;Q--){const se=Q/g,T=d*Math.cos(se*Math.PI/2),P=h*Math.sin(se*Math.PI/2)+p;for(let G=0,Z=H.length;G<Z;G++){const w=U(H[G],$[G],P);K(w.x,w.y,u+T)}for(let G=0,Z=L.length;G<Z;G++){const w=L[G];D=q[G];for(let C=0,J=w.length;C<J;C++){const j=U(w[C],D[C],P);x?K(j.x,j.y+y[c-1].y,y[c-1].x+T):K(j.x,j.y,u+T)}}}de(),ge();function de(){const Q=i.length/3;if(f){let se=0,T=z*se;for(let P=0;P<F;P++){const G=R[P];W(G[2]+T,G[1]+T,G[0]+T)}se=c+g*2,T=z*se;for(let P=0;P<F;P++){const G=R[P];W(G[0]+T,G[1]+T,G[2]+T)}}else{for(let se=0;se<F;se++){const T=R[se];W(T[2],T[1],T[0])}for(let se=0;se<F;se++){const T=R[se];W(T[0]+z*c,T[1]+z*c,T[2]+z*c)}}n.addGroup(Q,i.length/3-Q,0)}function ge(){const Q=i.length/3;let se=0;ue(H,se),se+=H.length;for(let T=0,P=L.length;T<P;T++){const G=L[T];ue(G,se),se+=G.length}n.addGroup(Q,i.length/3-Q,1)}function ue(Q,se){let T=Q.length;for(;--T>=0;){const P=T;let G=T-1;G<0&&(G=Q.length-1);for(let Z=0,w=c+g*2;Z<w;Z++){const C=z*Z,J=z*(Z+1),j=se+P+C,k=se+G+C,X=se+G+J,re=se+P+J;ee(j,k,X,re)}}}function K(Q,se,T){a.push(Q),a.push(se),a.push(T)}function W(Q,se,T){ie(Q),ie(se),ie(T);const P=i.length/3,G=m.generateTopUV(n,i,P-3,P-2,P-1);oe(G[0]),oe(G[1]),oe(G[2])}function ee(Q,se,T,P){ie(Q),ie(se),ie(P),ie(se),ie(T),ie(P);const G=i.length/3,Z=m.generateSideWallUV(n,i,G-6,G-3,G-2,G-1);oe(Z[0]),oe(Z[1]),oe(Z[3]),oe(Z[1]),oe(Z[2]),oe(Z[3])}function ie(Q){i.push(a[Q*3+0]),i.push(a[Q*3+1]),i.push(a[Q*3+2])}function oe(Q){r.push(Q.x),r.push(Q.y)}}}ss.prototype=Object.create(Ce.prototype);ss.prototype.constructor=ss;ss.prototype.toJSON=function(){const e=Ce.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return TT(t,n,e)};const RU={generateTopUV:function(e,t,n,i,r){const s=t[n*3],o=t[n*3+1],a=t[i*3],l=t[i*3+1],c=t[r*3],u=t[r*3+1];return[new he(s,o),new he(a,l),new he(c,u)]},generateSideWallUV:function(e,t,n,i,r,s){const o=t[n*3],a=t[n*3+1],l=t[n*3+2],c=t[i*3],u=t[i*3+1],f=t[i*3+2],d=t[r*3],h=t[r*3+1],p=t[r*3+2],g=t[s*3],_=t[s*3+1],m=t[s*3+2];return Math.abs(a-u)<.01?[new he(o,1-l),new he(c,1-f),new he(d,1-p),new he(g,1-m)]:[new he(a,1-l),new he(u,1-f),new he(h,1-p),new he(_,1-m)]}};function TT(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const s=e[i];n.shapes.push(s.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function ip(e,t){ze.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Ju(e,t)),this.mergeVertices()}ip.prototype=Object.create(ze.prototype);ip.prototype.constructor=ip;function Ju(e,t){t=t||{};const n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ze;const i=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),ss.call(this,i,t),this.type="TextBufferGeometry"}Ju.prototype=Object.create(ss.prototype);Ju.prototype.constructor=Ju;function Ku(e,t,n,i,r,s,o){ze.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},this.fromBufferGeometry(new kl(e,t,n,i,r,s,o)),this.mergeVertices()}Ku.prototype=Object.create(ze.prototype);Ku.prototype.constructor=Ku;function kl(e,t,n,i,r,s,o){Ce.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=i!==void 0?i:0,r=r!==void 0?r:Math.PI*2,s=s!==void 0?s:0,o=o!==void 0?o:Math.PI;const a=Math.min(s+o,Math.PI);let l=0;const c=[],u=new O,f=new O,d=[],h=[],p=[],g=[];for(let _=0;_<=n;_++){const m=[],y=_/n;let x=0;_==0&&s==0?x=.5/t:_==n&&a==Math.PI&&(x=-.5/t);for(let v=0;v<=t;v++){const b=v/t;u.x=-e*Math.cos(i+b*r)*Math.sin(s+y*o),u.y=e*Math.cos(s+y*o),u.z=e*Math.sin(i+b*r)*Math.sin(s+y*o),h.push(u.x,u.y,u.z),f.copy(u).normalize(),p.push(f.x,f.y,f.z),g.push(b+x,1-y),m.push(l++)}c.push(m)}for(let _=0;_<n;_++)for(let m=0;m<t;m++){const y=c[_][m+1],x=c[_][m],v=c[_+1][m],b=c[_+1][m+1];(_!==0||s>0)&&d.push(y,x,b),(_!==n-1||a<Math.PI)&&d.push(x,v,b)}this.setIndex(d),this.setAttribute("position",new Ee(h,3)),this.setAttribute("normal",new Ee(p,3)),this.setAttribute("uv",new Ee(g,2))}kl.prototype=Object.create(Ce.prototype);kl.prototype.constructor=kl;function rp(e,t,n,i,r,s){ze.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},this.fromBufferGeometry(new Qu(e,t,n,i,r,s)),this.mergeVertices()}rp.prototype=Object.create(ze.prototype);rp.prototype.constructor=rp;function Qu(e,t,n,i,r,s){Ce.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},e=e||.5,t=t||1,r=r!==void 0?r:0,s=s!==void 0?s:Math.PI*2,n=n!==void 0?Math.max(3,n):8,i=i!==void 0?Math.max(1,i):1;const o=[],a=[],l=[],c=[];let u=e;const f=(t-e)/i,d=new O,h=new he;for(let p=0;p<=i;p++){for(let g=0;g<=n;g++){const _=r+g/n*s;d.x=u*Math.cos(_),d.y=u*Math.sin(_),a.push(d.x,d.y,d.z),l.push(0,0,1),h.x=(d.x/t+1)/2,h.y=(d.y/t+1)/2,c.push(h.x,h.y)}u+=f}for(let p=0;p<i;p++){const g=p*(n+1);for(let _=0;_<n;_++){const m=_+g,y=m,x=m+n+1,v=m+n+2,b=m+1;o.push(y,x,b),o.push(x,v,b)}}this.setIndex(o),this.setAttribute("position",new Ee(a,3)),this.setAttribute("normal",new Ee(l,3)),this.setAttribute("uv",new Ee(c,2))}Qu.prototype=Object.create(Ce.prototype);Qu.prototype.constructor=Qu;function sp(e,t,n,i){ze.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new ef(e,t,n,i)),this.mergeVertices()}sp.prototype=Object.create(ze.prototype);sp.prototype.constructor=sp;function ef(e,t,n,i){Ce.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||Math.PI*2,i=qe.clamp(i,0,Math.PI*2);const r=[],s=[],o=[],a=1/t,l=new O,c=new he;for(let u=0;u<=t;u++){const f=n+u*a*i,d=Math.sin(f),h=Math.cos(f);for(let p=0;p<=e.length-1;p++)l.x=e[p].x*d,l.y=e[p].y,l.z=e[p].x*h,s.push(l.x,l.y,l.z),c.x=u/t,c.y=p/(e.length-1),o.push(c.x,c.y)}for(let u=0;u<t;u++)for(let f=0;f<e.length-1;f++){const d=f+u*e.length,h=d,p=d+e.length,g=d+e.length+1,_=d+1;r.push(h,p,_),r.push(p,g,_)}if(this.setIndex(r),this.setAttribute("position",new Ee(s,3)),this.setAttribute("uv",new Ee(o,2)),this.computeVertexNormals(),i===Math.PI*2){const u=this.attributes.normal.array,f=new O,d=new O,h=new O,p=t*e.length*3;for(let g=0,_=0;g<e.length;g++,_+=3)f.x=u[_+0],f.y=u[_+1],f.z=u[_+2],d.x=u[p+_+0],d.y=u[p+_+1],d.z=u[p+_+2],h.addVectors(f,d).normalize(),u[_+0]=u[p+_+0]=h.x,u[_+1]=u[p+_+1]=h.y,u[_+2]=u[p+_+2]=h.z}}ef.prototype=Object.create(Ce.prototype);ef.prototype.constructor=ef;function Bl(e,t){ze.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Nl(e,t)),this.mergeVertices()}Bl.prototype=Object.create(ze.prototype);Bl.prototype.constructor=Bl;Bl.prototype.toJSON=function(){const e=ze.prototype.toJSON.call(this),t=this.parameters.shapes;return DT(t,e)};function Nl(e,t){Ce.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const n=[],i=[],r=[],s=[];let o=0,a=0;if(Array.isArray(e)===!1)l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(o,a,c),o+=a,a=0;this.setIndex(n),this.setAttribute("position",new Ee(i,3)),this.setAttribute("normal",new Ee(r,3)),this.setAttribute("uv",new Ee(s,2));function l(c){const u=i.length/3,f=c.extractPoints(t);let d=f.shape;const h=f.holes;to.isClockWise(d)===!1&&(d=d.reverse());for(let g=0,_=h.length;g<_;g++){const m=h[g];to.isClockWise(m)===!0&&(h[g]=m.reverse())}const p=to.triangulateShape(d,h);for(let g=0,_=h.length;g<_;g++){const m=h[g];d=d.concat(m)}for(let g=0,_=d.length;g<_;g++){const m=d[g];i.push(m.x,m.y,0),r.push(0,0,1),s.push(m.x,m.y)}for(let g=0,_=p.length;g<_;g++){const m=p[g],y=m[0]+u,x=m[1]+u,v=m[2]+u;n.push(y,x,v),a+=3}}}Nl.prototype=Object.create(Ce.prototype);Nl.prototype.constructor=Nl;Nl.prototype.toJSON=function(){const e=Ce.prototype.toJSON.call(this),t=this.parameters.shapes;return DT(t,e)};function DT(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function op(e,t){Ce.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;const n=[],i=Math.cos(qe.DEG2RAD*t),r=[0,0],s={};let o,a,l;const c=["a","b","c"];let u;e.isBufferGeometry?(u=new ze,u.fromBufferGeometry(e)):u=e.clone(),u.mergeVertices(),u.computeFaceNormals();const f=u.vertices,d=u.faces;for(let h=0,p=d.length;h<p;h++){const g=d[h];for(let _=0;_<3;_++)o=g[c[_]],a=g[c[(_+1)%3]],r[0]=Math.min(o,a),r[1]=Math.max(o,a),l=r[0]+","+r[1],s[l]===void 0?s[l]={index1:r[0],index2:r[1],face1:h,face2:void 0}:s[l].face2=h}for(l in s){const h=s[l];if(h.face2===void 0||d[h.face1].normal.dot(d[h.face2].normal)<=i){let p=f[h.index1];n.push(p.x,p.y,p.z),p=f[h.index2],n.push(p.x,p.y,p.z)}}this.setAttribute("position",new Ee(n,3))}op.prototype=Object.create(Ce.prototype);op.prototype.constructor=op;function zl(e,t,n,i,r,s,o,a){ze.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new co(e,t,n,i,r,s,o,a)),this.mergeVertices()}zl.prototype=Object.create(ze.prototype);zl.prototype.constructor=zl;function co(e,t,n,i,r,s,o,a){Ce.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a};const l=this;e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,s=s!==void 0?s:!1,o=o!==void 0?o:0,a=a!==void 0?a:Math.PI*2;const c=[],u=[],f=[],d=[];let h=0;const p=[],g=n/2;let _=0;m(),s===!1&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(c),this.setAttribute("position",new Ee(u,3)),this.setAttribute("normal",new Ee(f,3)),this.setAttribute("uv",new Ee(d,2));function m(){const x=new O,v=new O;let b=0;const M=(t-e)/n;for(let S=0;S<=r;S++){const A=[],E=S/r,L=E*(t-e)+e;for(let N=0;N<=i;N++){const R=N/i,H=R*a+o,U=Math.sin(H),z=Math.cos(H);v.x=L*U,v.y=-E*n+g,v.z=L*z,u.push(v.x,v.y,v.z),x.set(U,M,z).normalize(),f.push(x.x,x.y,x.z),d.push(R,1-E),A.push(h++)}p.push(A)}for(let S=0;S<i;S++)for(let A=0;A<r;A++){const E=p[A][S],L=p[A+1][S],N=p[A+1][S+1],R=p[A][S+1];c.push(E,L,R),c.push(L,N,R),b+=6}l.addGroup(_,b,0),_+=b}function y(x){let v,b;const M=new he,S=new O;let A=0;const E=x===!0?e:t,L=x===!0?1:-1;v=h;for(let N=1;N<=i;N++)u.push(0,g*L,0),f.push(0,L,0),d.push(.5,.5),h++;b=h;for(let N=0;N<=i;N++){const H=N/i*a+o,U=Math.cos(H),z=Math.sin(H);S.x=E*z,S.y=g*L,S.z=E*U,u.push(S.x,S.y,S.z),f.push(0,L,0),M.x=U*.5+.5,M.y=z*.5*L+.5,d.push(M.x,M.y),h++}for(let N=0;N<i;N++){const R=v+N,H=b+N;x===!0?c.push(H,H+1,R):c.push(H+1,H,R),A+=3}l.addGroup(_,A,x===!0?1:2),_+=A}}co.prototype=Object.create(Ce.prototype);co.prototype.constructor=co;function ap(e,t,n,i,r,s,o){zl.call(this,0,e,t,n,i,r,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}ap.prototype=Object.create(zl.prototype);ap.prototype.constructor=ap;function lp(e,t,n,i,r,s,o){co.call(this,0,e,t,n,i,r,s,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}lp.prototype=Object.create(co.prototype);lp.prototype.constructor=lp;function cp(e,t,n,i){ze.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new tf(e,t,n,i)),this.mergeVertices()}cp.prototype=Object.create(ze.prototype);cp.prototype.constructor=cp;function tf(e,t,n,i){Ce.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=t!==void 0?Math.max(3,t):8,n=n!==void 0?n:0,i=i!==void 0?i:Math.PI*2;const r=[],s=[],o=[],a=[],l=new O,c=new he;s.push(0,0,0),o.push(0,0,1),a.push(.5,.5);for(let u=0,f=3;u<=t;u++,f+=3){const d=n+u/t*i;l.x=e*Math.cos(d),l.y=e*Math.sin(d),s.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(s[f]/e+1)/2,c.y=(s[f+1]/e+1)/2,a.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new Ee(s,3)),this.setAttribute("normal",new Ee(o,3)),this.setAttribute("uv",new Ee(a,2))}tf.prototype=Object.create(Ce.prototype);tf.prototype.constructor=tf;var Pn=Object.freeze({__proto__:null,WireframeGeometry:$d,ParametricGeometry:Xd,ParametricBufferGeometry:Gu,TetrahedronGeometry:Zd,TetrahedronBufferGeometry:Vu,OctahedronGeometry:Jd,OctahedronBufferGeometry:Ol,IcosahedronGeometry:Kd,IcosahedronBufferGeometry:Wu,DodecahedronGeometry:Qd,DodecahedronBufferGeometry:ju,PolyhedronGeometry:Yd,PolyhedronBufferGeometry:xi,TubeGeometry:ep,TubeBufferGeometry:Il,TorusKnotGeometry:tp,TorusKnotBufferGeometry:qu,TorusGeometry:np,TorusBufferGeometry:$u,TextGeometry:ip,TextBufferGeometry:Ju,SphereGeometry:Ku,SphereBufferGeometry:kl,RingGeometry:rp,RingBufferGeometry:Qu,PlaneGeometry:Gd,PlaneBufferGeometry:oa,LatheGeometry:sp,LatheBufferGeometry:ef,ShapeGeometry:Bl,ShapeBufferGeometry:Nl,ExtrudeGeometry:Fl,ExtrudeBufferGeometry:ss,EdgesGeometry:op,ConeGeometry:ap,ConeBufferGeometry:lp,CylinderGeometry:zl,CylinderBufferGeometry:co,CircleGeometry:cp,CircleBufferGeometry:tf,BoxGeometry:gk,BoxBufferGeometry:$p});function Ul(e){Ne.call(this),this.type="ShadowMaterial",this.color=new Le(0),this.transparent=!0,this.setValues(e)}Ul.prototype=Object.create(Ne.prototype);Ul.prototype.constructor=Ul;Ul.prototype.isShadowMaterial=!0;Ul.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.color.copy(e.color),this};function uo(e){Vn.call(this,e),this.type="RawShaderMaterial"}uo.prototype=Object.create(Vn.prototype);uo.prototype.constructor=uo;uo.prototype.isRawShaderMaterial=!0;function os(e){Ne.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Le(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}os.prototype=Object.create(Ne.prototype);os.prototype.constructor=os;os.prototype.isMeshStandardMaterial=!0;os.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Hl(e){os.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new he(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}Hl.prototype=Object.create(os.prototype);Hl.prototype.constructor=Hl;Hl.prototype.isMeshPhysicalMaterial=!0;Hl.prototype.copy=function(e){return os.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Le).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this};function fo(e){Ne.call(this),this.type="MeshPhongMaterial",this.color=new Le(16777215),this.specular=new Le(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}fo.prototype=Object.create(Ne.prototype);fo.prototype.constructor=fo;fo.prototype.isMeshPhongMaterial=!0;fo.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Gl(e){Ne.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Le(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Gl.prototype=Object.create(Ne.prototype);Gl.prototype.constructor=Gl;Gl.prototype.isMeshToonMaterial=!0;Gl.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Vl(e){Ne.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Vl.prototype=Object.create(Ne.prototype);Vl.prototype.constructor=Vl;Vl.prototype.isMeshNormalMaterial=!0;Vl.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Wl(e){Ne.call(this),this.type="MeshLambertMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Wl.prototype=Object.create(Ne.prototype);Wl.prototype.constructor=Wl;Wl.prototype.isMeshLambertMaterial=!0;Wl.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function jl(e){Ne.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Le(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}jl.prototype=Object.create(Ne.prototype);jl.prototype.constructor=jl;jl.prototype.isMeshMatcapMaterial=!0;jl.prototype.copy=function(e){return Ne.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function ql(e){Ht.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}ql.prototype=Object.create(Ht.prototype);ql.prototype.constructor=ql;ql.prototype.isLineDashedMaterial=!0;ql.prototype.copy=function(e){return Ht.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var OU=Object.freeze({__proto__:null,ShadowMaterial:Ul,SpriteMaterial:ua,RawShaderMaterial:uo,ShaderMaterial:Vn,PointsMaterial:fa,MeshPhysicalMaterial:Hl,MeshStandardMaterial:os,MeshPhongMaterial:fo,MeshToonMaterial:Gl,MeshNormalMaterial:Vl,MeshLambertMaterial:Wl,MeshDepthMaterial:aa,MeshDistanceMaterial:la,MeshBasicMaterial:or,MeshMatcapMaterial:jl,LineDashedMaterial:ql,LineBasicMaterial:Ht,Material:Ne});const Tt={arraySlice:function(e,t,n){return Tt.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(r,s){return e[r]-e[s]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*t;for(let l=0;l!==t;++l)r[o++]=e[a+l]}return r},flattenJSON:function(e,t,n,i){let r=1,s=e[0];for(;s!==void 0&&s[i]===void 0;)s=e[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(t.push(s.time),n.push.apply(n,o)),s=e[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(t.push(s.time),o.toArray(n,n.length)),s=e[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(t.push(s.time),n.push(o)),s=e[r++];while(s!==void 0)},subclip:function(e,t,n,i,r){r=r||30;const s=e.clone();s.name=t;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let h=0;h<c.times.length;++h){const p=c.times[h]*r;if(!(p<n||p>=i)){f.push(c.times[h]);for(let g=0;g<u;++g)d.push(c.values[h*u+g])}}f.length!==0&&(c.times=Tt.convertArray(f,c.times.constructor),c.values=Tt.convertArray(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(e,t,n,i){t===void 0&&(t=0),n===void 0&&(n=e),(i===void 0||i<=0)&&(i=30);const r=e.tracks.length,s=t/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=e.tracks.find(function(p){return p.name===a.name&&p.ValueTypeName===l});if(c===void 0)continue;const u=a.getValueSize(),f=a.times.length-1;let d;if(s<=a.times[0])d=Tt.arraySlice(a.values,0,a.valueSize);else if(s>=a.times[f]){const p=f*u;d=Tt.arraySlice(a.values,p)}else{const p=a.createInterpolant();p.evaluate(s),d=p.resultBuffer}l==="quaternion"&&new sn(d[0],d[1],d[2],d[3]).normalize().conjugate().toArray(d);const h=c.times.length;for(let p=0;p<h;++p){const g=p*u;if(l==="quaternion")sn.multiplyQuaternionsFlat(c.values,g,d,0,c.values,g);else for(let _=0;_<u;++_)c.values[g+_]-=d[_]}}return e.blendMode=rT,e}};function Ni(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(Ni.prototype,{evaluate:function(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let s;n:{i:if(!(e<i)){for(let o=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(!(e>=r)){const o=t[1];e<o&&(n=2,r=o);for(let a=n-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0;break n}break e}for(;n<s;){const o=n+s>>>1;e<t[o]?s=o:n=o+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let s=0;s!==i;++s)t[s]=n[r+s];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(Ni.prototype,{beforeStart_:Ni.prototype.copySampleValue_,afterEnd_:Ni.prototype.copySampleValue_});function Xy(e,t,n,i){Ni.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}Xy.prototype=Object.assign(Object.create(Ni.prototype),{constructor:Xy,DefaultSettings_:{endingStart:Cl,endingEnd:Cl},intervalChanged_:function(e,t,n){let i=this.parameterPositions,r=e-2,s=e+1,o=i[r],a=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Ka:r=e,o=2*t-n;break;case Ud:r=i.length-2,o=t+i[r]-i[r+1];break;default:r=e,o=n}if(a===void 0)switch(this.getSettings_().endingEnd){case Ka:s=e,a=2*n-t;break;case Ud:s=1,a=n+i[1]-i[0];break;default:s=e-1,a=t}const l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=s*c},interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,d=this._weightNext,h=(n-t)/(i-t),p=h*h,g=p*h,_=-f*g+2*f*p-f*h,m=(1+f)*g+(-1.5-2*f)*p+(-.5+f)*h+1,y=(-1-d)*g+(1.5+d)*p+.5*h,x=d*g-d*p;for(let v=0;v!==o;++v)r[v]=_*s[c+v]+m*s[l+v]+y*s[a+v]+x*s[u+v];return r}});function up(e,t,n,i){Ni.call(this,e,t,n,i)}up.prototype=Object.assign(Object.create(Ni.prototype),{constructor:up,interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=(n-t)/(i-t),u=1-c;for(let f=0;f!==o;++f)r[f]=s[l+f]*u+s[a+f]*c;return r}});function Yy(e,t,n,i){Ni.call(this,e,t,n,i)}Yy.prototype=Object.assign(Object.create(Ni.prototype),{constructor:Yy,interpolate_:function(e){return this.copySampleValue_(e-1)}});function Dn(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Tt.convertArray(t,this.TimeBufferType),this.values=Tt.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(Dn,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:Tt.convertArray(e.times,Array),values:Tt.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(Dn.prototype,{constructor:Dn,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:nd,InterpolantFactoryMethodDiscrete:function(e){return new Yy(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new up(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Xy(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case zd:t=this.InterpolantFactoryMethodDiscrete;break;case nd:t=this.InterpolantFactoryMethodLinear;break;case Fm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zd;case this.InterpolantFactoryMethodLinear:return nd;case this.InterpolantFactoryMethodSmooth:return Fm}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<e;)++r;for(;s!==-1&&n[s]>t;)--s;if(++s,r!==0||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const o=this.getValueSize();this.times=Tt.arraySlice(n,r,s),this.values=Tt.arraySlice(this.values,r*o,s*o)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==r;o++){const a=n[o];if(typeof a=="number"&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(s!==null&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,s),e=!1;break}s=a}if(i!==void 0&&Tt.isTypedArray(i))for(let o=0,a=i.length;o!==a;++o){const l=i[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}return e},optimize:function(){const e=Tt.arraySlice(this.times),t=Tt.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Fm,r=e.length-1;let s=1;for(let o=1;o<r;++o){let a=!1;const l=e[o],c=e[o+1];if(l!==c&&(o!==1||l!==l[0]))if(i)a=!0;else{const u=o*n,f=u-n,d=u+n;for(let h=0;h!==n;++h){const p=t[u+h];if(p!==t[f+h]||p!==t[d+h]){a=!0;break}}}if(a){if(o!==s){e[s]=e[o];const u=o*n,f=s*n;for(let d=0;d!==n;++d)t[f+d]=t[u+d]}++s}}if(r>0){e[s]=e[r];for(let o=r*n,a=s*n,l=0;l!==n;++l)t[a+l]=t[o+l];++s}return s!==e.length?(this.times=Tt.arraySlice(e,0,s),this.values=Tt.arraySlice(t,0,s*n)):(this.times=e,this.values=t),this},clone:function(){const e=Tt.arraySlice(this.times,0),t=Tt.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function Zy(e,t,n){Dn.call(this,e,t,n)}Zy.prototype=Object.assign(Object.create(Dn.prototype),{constructor:Zy,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:zd,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Jy(e,t,n,i){Dn.call(this,e,t,n,i)}Jy.prototype=Object.assign(Object.create(Dn.prototype),{constructor:Jy,ValueTypeName:"color"});function nf(e,t,n,i){Dn.call(this,e,t,n,i)}nf.prototype=Object.assign(Object.create(Dn.prototype),{constructor:nf,ValueTypeName:"number"});function Ky(e,t,n,i){Ni.call(this,e,t,n,i)}Ky.prototype=Object.assign(Object.create(Ni.prototype),{constructor:Ky,interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=(n-t)/(i-t);let l=e*o;for(let c=l+o;l!==c;l+=4)sn.slerpFlat(r,0,s,l-o,s,l,a);return r}});function fp(e,t,n,i){Dn.call(this,e,t,n,i)}fp.prototype=Object.assign(Object.create(Dn.prototype),{constructor:fp,ValueTypeName:"quaternion",DefaultInterpolation:nd,InterpolantFactoryMethodLinear:function(e){return new Ky(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function Qy(e,t,n,i){Dn.call(this,e,t,n,i)}Qy.prototype=Object.assign(Object.create(Dn.prototype),{constructor:Qy,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:zd,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function rf(e,t,n,i){Dn.call(this,e,t,n,i)}rf.prototype=Object.assign(Object.create(Dn.prototype),{constructor:rf,ValueTypeName:"vector"});function tr(e,t,n,i){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.blendMode=i!==void 0?i:Uv,this.uuid=qe.generateUUID(),this.duration<0&&this.resetDuration()}function IU(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nf;case"vector":case"vector2":case"vector3":case"vector4":return rf;case"color":return Jy;case"quaternion":return fp;case"bool":case"boolean":return Zy;case"string":return Qy}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function FU(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=IU(e.type);if(e.times===void 0){const n=[],i=[];Tt.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(tr,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let r=0,s=n.length;r!==s;++r)t.push(FU(n[r]).scale(i));return new tr(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,s=n.length;r!==s;++r)t.push(Dn.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,s=[];for(let o=0;o<r;o++){let a=[],l=[];a.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);const c=Tt.getKeyframeOrder(a);a=Tt.sortedArray(a,1,c),l=Tt.sortedArray(l,1,c),!i&&a[0]===0&&(a.push(r),l.push(l[0])),s.push(new nf(".morphTargetInfluences["+t[o].name+"]",a,l).scale(1/n))}return new tr(e,-1,s)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.name.match(r);if(c&&c.length>1){const u=c[1];let f=i[u];f||(i[u]=f=[]),f.push(l)}}const s=[];for(const o in i)s.push(tr.CreateFromMorphTargetSequence(o,i[o],t,n));return s},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(u,f,d,h,p){if(d.length!==0){const g=[],_=[];Tt.flattenJSON(d,g,_,h),g.length!==0&&p.push(new u(f,g,_))}},i=[],r=e.name||"default",s=e.fps||30,o=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const f=l[u].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const d={};let h;for(h=0;h<f.length;h++)if(f[h].morphTargets)for(let p=0;p<f[h].morphTargets.length;p++)d[f[h].morphTargets[p]]=-1;for(const p in d){const g=[],_=[];for(let m=0;m!==f[h].morphTargets.length;++m){const y=f[h];g.push(y.time),_.push(y.morphTarget===p?1:0)}i.push(new nf(".morphTargetInfluence["+p+"]",g,_))}a=d.length*(s||1)}else{const d=".bones["+t[u].name+"]";n(rf,d+".position",f,"pos",i),n(fp,d+".quaternion",f,"rot",i),n(rf,d+".scale",f,"scl",i)}}return i.length===0?null:new tr(r,a,i,o)}});Object.assign(tr.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new tr(this.name,this.duration,e,this.blendMode)}});const $l={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function AT(e,t,n){const i=this;let r=!1,s=0,o=0,a;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){o++,r===!1&&i.onStart!==void 0&&i.onStart(c,s,o),r=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,o),s===o&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return a?a(c):c},this.setURLModifier=function(c){return a=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){const u=l.indexOf(c);return u!==-1&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,f=l.length;u<f;u+=2){const d=l[u],h=l[u+1];if(d.global&&(d.lastIndex=0),d.test(c))return h}return null}}const kU=new AT;function ct(e){this.manager=e!==void 0?e:kU,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(ct.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const Xi={};function Pr(e){ct.call(this,e)}Pr.prototype=Object.assign(Object.create(ct.prototype),{constructor:Pr,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=$l.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;if(Xi[e]!==void 0){Xi[e].push({onLoad:t,onProgress:n,onError:i});return}const o=/^data:(.*?)(;base64)?,(.*)$/,a=e.match(o);let l;if(a){const c=a[1],u=!!a[2];let f=a[3];f=decodeURIComponent(f),u&&(f=atob(f));try{let d;const h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":const p=new Uint8Array(f.length);for(let _=0;_<f.length;_++)p[_]=f.charCodeAt(_);h==="blob"?d=new Blob([p.buffer],{type:c}):d=p.buffer;break;case"document":d=new DOMParser().parseFromString(f,c);break;case"json":d=JSON.parse(f);break;default:d=f;break}setTimeout(function(){t&&t(d),r.manager.itemEnd(e)},0)}catch(d){setTimeout(function(){i&&i(d),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{Xi[e]=[],Xi[e].push({onLoad:t,onProgress:n,onError:i}),l=new XMLHttpRequest,l.open("GET",e,!0),l.addEventListener("load",function(c){const u=this.response,f=Xi[e];if(delete Xi[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),$l.add(e,u);for(let d=0,h=f.length;d<h;d++){const p=f[d];p.onLoad&&p.onLoad(u)}r.manager.itemEnd(e)}else{for(let d=0,h=f.length;d<h;d++){const p=f[d];p.onError&&p.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),l.addEventListener("progress",function(c){const u=Xi[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onProgress&&h.onProgress(c)}},!1),l.addEventListener("error",function(c){const u=Xi[e];delete Xi[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),l.addEventListener("abort",function(c){const u=Xi[e];delete Xi[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),this.responseType!==void 0&&(l.responseType=this.responseType),this.withCredentials!==void 0&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const c in this.requestHeader)l.setRequestHeader(c,this.requestHeader[c]);l.send(null)}return r.manager.itemStart(e),l},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}});function lw(e){ct.call(this,e)}lw.prototype=Object.assign(Object.create(ct.prototype),{constructor:lw,load:function(e,t,n,i){const r=this,s=new Pr(r.manager);s.setPath(r.path),s.load(e,function(o){try{t(r.parse(JSON.parse(o)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=tr.parse(e[n]);t.push(i)}return t}});function cw(e){ct.call(this,e)}cw.prototype=Object.assign(Object.create(ct.prototype),{constructor:cw,load:function(e,t,n,i){const r=this,s=[],o=new Hu;o.image=s;const a=new Pr(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer");let l=0;function c(u){a.load(e[u],function(f){const d=r.parse(f,!0);s[u]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},l+=1,l===6&&(d.mipmapCount===1&&(o.minFilter=Sn),o.format=d.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(Array.isArray(e))for(let u=0,f=e.length;u<f;++u)c(u);else a.load(e,function(u){const f=r.parse(u,!0);if(f.isCubemap){const d=f.mipmaps.length/f.mipmapCount;for(let h=0;h<d;h++){s[h]={mipmaps:[]};for(let p=0;p<f.mipmapCount;p++)s[h].mipmaps.push(f.mipmaps[h*f.mipmapCount+p]),s[h].format=f.format,s[h].width=f.width,s[h].height=f.height}}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=Sn),o.format=f.format,o.needsUpdate=!0,t&&t(o)},n,i);return o}});function uw(e){ct.call(this,e)}uw.prototype=Object.assign(Object.create(ct.prototype),{constructor:uw,load:function(e,t,n,i){const r=this,s=new Rl,o=new Pr(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,function(a){const l=r.parse(a);l&&(l.image!==void 0?s.image=l.image:l.data!==void 0&&(s.image.width=l.width,s.image.height=l.height,s.image.data=l.data),s.wrapS=l.wrapS!==void 0?l.wrapS:Kn,s.wrapT=l.wrapT!==void 0?l.wrapT:Kn,s.magFilter=l.magFilter!==void 0?l.magFilter:Sn,s.minFilter=l.minFilter!==void 0?l.minFilter:Sn,s.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.format!==void 0&&(s.format=l.format),l.type!==void 0&&(s.type=l.type),l.mipmaps!==void 0&&(s.mipmaps=l.mipmaps,s.minFilter=Wp),l.mipmapCount===1&&(s.minFilter=Sn),s.needsUpdate=!0,t&&t(s,l))},n,i),s}});function sf(e){ct.call(this,e)}sf.prototype=Object.assign(Object.create(ct.prototype),{constructor:sf,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=$l.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),$l.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(c){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),i&&i(c),r.manager.itemError(e),r.manager.itemEnd(e)}return o.addEventListener("load",a,!1),o.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}});function e_(e){ct.call(this,e)}e_.prototype=Object.assign(Object.create(ct.prototype),{constructor:e_,load:function(e,t,n,i){const r=new ao,s=new sf(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function a(l){s.load(e[l],function(c){r.images[l]=c,o++,o===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let l=0;l<e.length;++l)a(l);return r}});function hp(e){ct.call(this,e)}hp.prototype=Object.assign(Object.create(ct.prototype),{constructor:hp,load:function(e,t,n,i){const r=new pt,s=new sf(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){r.image=o;const a=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;r.format=a?Zo:ir,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}});function Ie(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Ie.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0,r=n.length,s;t?s=t:s=e*n[r-1];let o=0,a=r-1,l;for(;o<=a;)if(i=Math.floor(o+(a-o)/2),l=n[i]-s,l<0)o=i+1;else if(l>0)a=i-1;else{a=i;break}if(i=a,n[i]===s)return i/(r-1);const c=n[i],f=n[i+1]-c,d=(s-c)/f;return(i+d)/(r-1)},getTangent:function(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),o=this.getPoint(r),a=t||(s.isVector2?new he:new O);return a.copy(o).sub(s).normalize(),a},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new O,i=[],r=[],s=[],o=new O,a=new Je;for(let d=0;d<=e;d++){const h=d/e;i[d]=this.getTangentAt(h,new O),i[d].normalize()}r[0]=new O,s[0]=new O;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),f=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),f<=l&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),s[0].crossVectors(i[0],r[0]);for(let d=1;d<=e;d++){if(r[d]=r[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(i[d-1],i[d]),o.length()>Number.EPSILON){o.normalize();const h=Math.acos(qe.clamp(i[d-1].dot(i[d]),-1,1));r[d].applyMatrix4(a.makeRotationAxis(o,h))}s[d].crossVectors(i[d],r[d])}if(t===!0){let d=Math.acos(qe.clamp(r[0].dot(r[e]),-1,1));d/=e,i[0].dot(o.crossVectors(r[0],r[e]))>0&&(d=-d);for(let h=1;h<=e;h++)r[h].applyMatrix4(a.makeRotationAxis(i[h],d*h)),s[h].crossVectors(i[h],r[h])}return{tangents:i,normals:r,binormals:s}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function Gi(e,t,n,i,r,s,o,a){Ie.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}Gi.prototype=Object.create(Ie.prototype);Gi.prototype.constructor=Gi;Gi.prototype.isEllipseCurve=!0;Gi.prototype.getPoint=function(e,t){const n=t||new he,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(s?r=0:r=i),this.aClockwise===!0&&!s&&(r===i?r=-i:r=r-i);const o=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=a-this.aX,d=l-this.aY;a=f*c-d*u+this.aX,l=f*u+d*c+this.aY}return n.set(a,l)};Gi.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};Gi.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};Gi.prototype.fromJSON=function(e){return Ie.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function of(e,t,n,i,r,s){Gi.call(this,e,t,n,n,i,r,s),this.type="ArcCurve"}of.prototype=Object.create(Gi.prototype);of.prototype.constructor=of;of.prototype.isArcCurve=!0;function Wv(){let e=0,t=0,n=0,i=0;function r(s,o,a,l){e=s,t=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,h=(a-o)/u-(l-o)/(u+f)+(l-a)/f;d*=u,h*=u,r(o,a,d,h)},calc:function(s){const o=s*s,a=o*s;return e+t*s+n*o+i*a}}}const Ch=new O,og=new Wv,ag=new Wv,lg=new Wv;function bi(e,t,n,i){Ie.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}bi.prototype=Object.create(Ie.prototype);bi.prototype.constructor=bi;bi.prototype.isCatmullRomCurve3=!0;bi.prototype.getPoint=function(e,t){const n=t||new O,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e;let o=Math.floor(s),a=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:a===0&&o===r-1&&(o=r-2,a=1);let l,c,u,f;if(this.closed||o>0?l=i[(o-1)%r]:(Ch.subVectors(i[0],i[1]).add(i[0]),l=Ch),c=i[o%r],u=i[(o+1)%r],this.closed||o+2<r?f=i[(o+2)%r]:(Ch.subVectors(i[r-1],i[r-2]).add(i[r-1]),f=Ch),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let h=Math.pow(l.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(u),d),g=Math.pow(u.distanceToSquared(f),d);p<1e-4&&(p=1),h<1e-4&&(h=p),g<1e-4&&(g=p),og.initNonuniformCatmullRom(l.x,c.x,u.x,f.x,h,p,g),ag.initNonuniformCatmullRom(l.y,c.y,u.y,f.y,h,p,g),lg.initNonuniformCatmullRom(l.z,c.z,u.z,f.z,h,p,g)}else this.curveType==="catmullrom"&&(og.initCatmullRom(l.x,c.x,u.x,f.x,this.tension),ag.initCatmullRom(l.y,c.y,u.y,f.y,this.tension),lg.initCatmullRom(l.z,c.z,u.z,f.z,this.tension));return n.set(og.calc(a),ag.calc(a),lg.calc(a)),n};bi.prototype.copy=function(e){Ie.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};bi.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};bi.prototype.fromJSON=function(e){Ie.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new O().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function fw(e,t,n,i,r){const s=(i-t)*.5,o=(r-n)*.5,a=e*e,l=e*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*e+n}function BU(e,t){const n=1-e;return n*n*t}function NU(e,t){return 2*(1-e)*e*t}function zU(e,t){return e*e*t}function cu(e,t,n,i){return BU(e,t)+NU(e,n)+zU(e,i)}function UU(e,t){const n=1-e;return n*n*n*t}function HU(e,t){const n=1-e;return 3*n*n*e*t}function GU(e,t){return 3*(1-e)*e*e*t}function VU(e,t){return e*e*e*t}function uu(e,t,n,i,r){return UU(e,t)+HU(e,n)+GU(e,i)+VU(e,r)}function Lr(e,t,n,i){Ie.call(this),this.type="CubicBezierCurve",this.v0=e||new he,this.v1=t||new he,this.v2=n||new he,this.v3=i||new he}Lr.prototype=Object.create(Ie.prototype);Lr.prototype.constructor=Lr;Lr.prototype.isCubicBezierCurve=!0;Lr.prototype.getPoint=function(e,t){const n=t||new he,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(uu(e,i.x,r.x,s.x,o.x),uu(e,i.y,r.y,s.y,o.y)),n};Lr.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Lr.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Lr.prototype.fromJSON=function(e){return Ie.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function as(e,t,n,i){Ie.call(this),this.type="CubicBezierCurve3",this.v0=e||new O,this.v1=t||new O,this.v2=n||new O,this.v3=i||new O}as.prototype=Object.create(Ie.prototype);as.prototype.constructor=as;as.prototype.isCubicBezierCurve3=!0;as.prototype.getPoint=function(e,t){const n=t||new O,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(uu(e,i.x,r.x,s.x,o.x),uu(e,i.y,r.y,s.y,o.y),uu(e,i.z,r.z,s.z,o.z)),n};as.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};as.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};as.prototype.fromJSON=function(e){return Ie.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function wi(e,t){Ie.call(this),this.type="LineCurve",this.v1=e||new he,this.v2=t||new he}wi.prototype=Object.create(Ie.prototype);wi.prototype.constructor=wi;wi.prototype.isLineCurve=!0;wi.prototype.getPoint=function(e,t){const n=t||new he;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};wi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};wi.prototype.getTangent=function(e,t){const n=t||new he;return n.copy(this.v2).sub(this.v1).normalize(),n};wi.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};wi.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};wi.prototype.fromJSON=function(e){return Ie.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Rr(e,t){Ie.call(this),this.type="LineCurve3",this.v1=e||new O,this.v2=t||new O}Rr.prototype=Object.create(Ie.prototype);Rr.prototype.constructor=Rr;Rr.prototype.isLineCurve3=!0;Rr.prototype.getPoint=function(e,t){const n=t||new O;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Rr.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Rr.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Rr.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Rr.prototype.fromJSON=function(e){return Ie.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Or(e,t,n){Ie.call(this),this.type="QuadraticBezierCurve",this.v0=e||new he,this.v1=t||new he,this.v2=n||new he}Or.prototype=Object.create(Ie.prototype);Or.prototype.constructor=Or;Or.prototype.isQuadraticBezierCurve=!0;Or.prototype.getPoint=function(e,t){const n=t||new he,i=this.v0,r=this.v1,s=this.v2;return n.set(cu(e,i.x,r.x,s.x),cu(e,i.y,r.y,s.y)),n};Or.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Or.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Or.prototype.fromJSON=function(e){return Ie.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function ls(e,t,n){Ie.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new O,this.v1=t||new O,this.v2=n||new O}ls.prototype=Object.create(Ie.prototype);ls.prototype.constructor=ls;ls.prototype.isQuadraticBezierCurve3=!0;ls.prototype.getPoint=function(e,t){const n=t||new O,i=this.v0,r=this.v1,s=this.v2;return n.set(cu(e,i.x,r.x,s.x),cu(e,i.y,r.y,s.y),cu(e,i.z,r.z,s.z)),n};ls.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};ls.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};ls.prototype.fromJSON=function(e){return Ie.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ir(e){Ie.call(this),this.type="SplineCurve",this.points=e||[]}Ir.prototype=Object.create(Ie.prototype);Ir.prototype.constructor=Ir;Ir.prototype.isSplineCurve=!0;Ir.prototype.getPoint=function(e,t){const n=t||new he,i=this.points,r=(i.length-1)*e,s=Math.floor(r),o=r-s,a=i[s===0?s:s-1],l=i[s],c=i[s>i.length-2?i.length-1:s+1],u=i[s>i.length-3?i.length-1:s+2];return n.set(fw(o,a.x,l.x,c.x,u.x),fw(o,a.y,l.y,c.y,u.y)),n};Ir.prototype.copy=function(e){Ie.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};Ir.prototype.toJSON=function(){const e=Ie.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};Ir.prototype.fromJSON=function(e){Ie.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new he().fromArray(i))}return this};var t_=Object.freeze({__proto__:null,ArcCurve:of,CatmullRomCurve3:bi,CubicBezierCurve:Lr,CubicBezierCurve3:as,EllipseCurve:Gi,LineCurve:wi,LineCurve3:Rr,QuadraticBezierCurve:Or,QuadraticBezierCurve3:ls,SplineCurve:Ir});function qs(){Ie.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}qs.prototype=Object.assign(Object.create(Ie.prototype),{constructor:qs,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new wi(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const r=n[i]-t,s=this.curves[i],o=s.getLength(),a=o===0?0:1-r/o;return s.getPointAt(a)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],o=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,a=s.getPoints(o);for(let l=0;l<a.length;l++){const c=a[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Ie.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Ie.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Ie.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new t_[i.type]().fromJSON(i))}return this}});function br(e){qs.call(this),this.type="Path",this.currentPoint=new he,e&&this.setFromPoints(e)}br.prototype=Object.assign(Object.create(qs.prototype),{constructor:br,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new wi(this.currentPoint.clone(),new he(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new Or(this.currentPoint.clone(),new he(e,t),new he(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,s){const o=new Lr(this.currentPoint.clone(),new he(e,t),new he(n,i),new he(r,s));return this.curves.push(o),this.currentPoint.set(r,s),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new Ir(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,s){const o=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+o,t+a,n,i,r,s),this},absarc:function(e,t,n,i,r,s){return this.absellipse(e,t,n,n,i,r,s),this},ellipse:function(e,t,n,i,r,s,o,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,s,o,a),this},absellipse:function(e,t,n,i,r,s,o,a){const l=new Gi(e,t,n,i,r,s,o,a);if(this.curves.length>0){const u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return qs.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=qs.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return qs.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function Jo(e){br.call(this,e),this.uuid=qe.generateUUID(),this.type="Shape",this.holes=[]}Jo.prototype=Object.assign(Object.create(br.prototype),{constructor:Jo,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){br.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=br.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){br.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new br().fromJSON(i))}return this}});function vt(e,t){Me.call(this),this.type="Light",this.color=new Le(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}vt.prototype=Object.assign(Object.create(Me.prototype),{constructor:vt,isLight:!0,copy:function(e){return Me.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Me.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function n_(e,t,n){vt.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Me.DefaultUp),this.updateMatrix(),this.groundColor=new Le(t)}n_.prototype=Object.assign(Object.create(vt.prototype),{constructor:n_,isHemisphereLight:!0,copy:function(e){return vt.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function cs(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new he(512,512),this.map=null,this.mapPass=null,this.matrix=new Je,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Df,this._frameExtents=new he(1,1),this._viewportCount=1,this._viewports=[new lt(0,0,1,1)]}Object.assign(cs.prototype,{_projScreenMatrix:new Je,_lightPositionWorld:new O,_lookTarget:new O,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,s=this._lightPositionWorld;s.setFromMatrixPosition(e.matrixWorld),t.position.copy(s),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function i_(){cs.call(this,new zt(50,1,.5,500))}i_.prototype=Object.assign(Object.create(cs.prototype),{constructor:i_,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=qe.RAD2DEG*2*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),cs.prototype.updateMatrices.call(this,e)}});function r_(e,t,n,i,r,s){vt.call(this,e,t),this.type="SpotLight",this.position.copy(Me.DefaultUp),this.updateMatrix(),this.target=new Me,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(o){this.intensity=o/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=r!==void 0?r:0,this.decay=s!==void 0?s:1,this.shadow=new i_}r_.prototype=Object.assign(Object.create(vt.prototype),{constructor:r_,isSpotLight:!0,copy:function(e){return vt.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function s_(){cs.call(this,new zt(90,1,.5,500)),this._frameExtents=new he(4,2),this._viewportCount=6,this._viewports=[new lt(2,1,1,1),new lt(0,1,1,1),new lt(3,1,1,1),new lt(1,1,1,1),new lt(3,0,1,1),new lt(1,0,1,1)],this._cubeDirections=[new O(1,0,0),new O(-1,0,0),new O(0,0,1),new O(0,0,-1),new O(0,1,0),new O(0,-1,0)],this._cubeUps=[new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,0,1),new O(0,0,-1)]}s_.prototype=Object.assign(Object.create(cs.prototype),{constructor:s_,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);const n=this.camera,i=this.matrix,r=this._lightPositionWorld,s=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),s.copy(n.position),s.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(s),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}});function o_(e,t,n,i){vt.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(r){this.intensity=r/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new s_}o_.prototype=Object.assign(Object.create(vt.prototype),{constructor:o_,isPointLight:!0,copy:function(e){return vt.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function af(e,t,n,i,r,s){rs.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=i!==void 0?i:-1,this.near=r!==void 0?r:.1,this.far=s!==void 0?s:2e3,this.updateProjectionMatrix()}af.prototype=Object.assign(Object.create(rs.prototype),{constructor:af,isOrthographicCamera:!0,copy:function(e,t){return rs.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,s=n+e,o=i+t,a=i-t;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,s=r+l*this.view.width,o-=c*this.view.offsetY,a=o-c*this.view.height}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Me.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function a_(){cs.call(this,new af(-5,5,5,-5,.5,500))}a_.prototype=Object.assign(Object.create(cs.prototype),{constructor:a_,isDirectionalLightShadow:!0,updateMatrices:function(e){cs.prototype.updateMatrices.call(this,e)}});function lf(e,t){vt.call(this,e,t),this.type="DirectionalLight",this.position.copy(Me.DefaultUp),this.updateMatrix(),this.target=new Me,this.shadow=new a_}lf.prototype=Object.assign(Object.create(vt.prototype),{constructor:lf,isDirectionalLight:!0,copy:function(e){return vt.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function l_(e,t){vt.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}l_.prototype=Object.assign(Object.create(vt.prototype),{constructor:l_,isAmbientLight:!0});function c_(e,t,n,i){vt.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}c_.prototype=Object.assign(Object.create(vt.prototype),{constructor:c_,isRectAreaLight:!0,copy:function(e){return vt.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=vt.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function jv(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new O)}Object.assign(jv.prototype,{isSphericalHarmonics3:!0,set:function(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*r),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*i)),t.addScaledVector(s[5],1.092548*(i*r)),t.addScaledVector(s[6],.315392*(3*r*r-1)),t.addScaledVector(s[7],1.092548*(n*r)),t.addScaledVector(s[8],.546274*(n*n-i*i)),t},getIrradianceAt:function(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*r),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*i),t.addScaledVector(s[5],2*.429043*i*r),t.addScaledVector(s[6],.743125*r*r-.247708),t.addScaledVector(s[7],2*.429043*n*r),t.addScaledVector(s[8],.429043*(n*n-i*i)),t},add:function(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,t){t===void 0&&(t=0);const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}});Object.assign(jv,{getBasisAt:function(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}});function rr(e,t){vt.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new jv}rr.prototype=Object.assign(Object.create(vt.prototype),{constructor:rr,isLightProbe:!0,copy:function(e){return vt.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=vt.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function u_(e){ct.call(this,e),this.textures={}}u_.prototype=Object.assign(Object.create(ct.prototype),{constructor:u_,load:function(e,t,n,i){const r=this,s=new Pr(r.manager);s.setPath(r.path),s.load(e,function(o){try{t(r.parse(JSON.parse(o)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=new OU[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new Le().setHex(e.sheen)),e.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const s=e.uniforms[r];switch(i.uniforms[r]={},s.type){case"t":i.uniforms[r].value=n(s.value);break;case"c":i.uniforms[r].value=new Le().setHex(s.value);break;case"v2":i.uniforms[r].value=new he().fromArray(s.value);break;case"v3":i.uniforms[r].value=new O().fromArray(s.value);break;case"v4":i.uniforms[r].value=new lt().fromArray(s.value);break;case"m3":i.uniforms[r].value=new zn().fromArray(s.value);case"m4":i.uniforms[r].value=new Je().fromArray(s.value);break;default:i.uniforms[r].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new he().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new he().fromArray(e.clearcoatNormalScale)),i},setTextures:function(e){return this.textures=e,this}});const CT={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function dp(){Ce.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}dp.prototype=Object.assign(Object.create(Ce.prototype),{constructor:dp,isInstancedBufferGeometry:!0,copy:function(e){return Ce.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=Ce.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function f_(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Be.call(this,e,t,n),this.meshPerAttribute=i||1}f_.prototype=Object.assign(Object.create(Be.prototype),{constructor:f_,isInstancedBufferAttribute:!0,copy:function(e){return Be.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Be.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function h_(e){ct.call(this,e)}h_.prototype=Object.assign(Object.create(ct.prototype),{constructor:h_,load:function(e,t,n,i){const r=this,s=new Pr(r.manager);s.setPath(r.path),s.load(e,function(o){try{t(r.parse(JSON.parse(o)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(d,h){if(t[h]!==void 0)return t[h];const g=d.interleavedBuffers[h],_=r(d,g.buffer),m=new Ph[g.type](_),y=new Ii(m,g.stride);return y.uuid=g.uuid,t[h]=y,y}function r(d,h){if(n[h]!==void 0)return n[h];const g=d.arrayBuffers[h],_=new Uint32Array(g).buffer;return n[h]=_,_}const s=e.isInstancedBufferGeometry?new dp:new Ce,o=e.data.index;if(o!==void 0){const d=new Ph[o.type](o.array);s.setIndex(new Be(d,1))}const a=e.data.attributes;for(const d in a){const h=a[d];let p;if(h.isInterleavedBufferAttribute){const g=i(e.data,h.data);p=new ca(g,h.itemSize,h.offset,h.normalized)}else{const g=new Ph[h.type](h.array),_=h.isInstancedBufferAttribute?f_:Be;p=new _(g,h.itemSize,h.normalized)}h.name!==void 0&&(p.name=h.name),s.setAttribute(d,p)}const l=e.data.morphAttributes;if(l)for(const d in l){const h=l[d],p=[];for(let g=0,_=h.length;g<_;g++){const m=h[g];let y;if(m.isInterleavedBufferAttribute){const x=i(e.data,m.data);y=new ca(x,m.itemSize,m.offset,m.normalized)}else{const x=new Ph[m.type](m.array);y=new Be(x,m.itemSize,m.normalized)}m.name!==void 0&&(y.name=m.name),p.push(y)}s.morphAttributes[d]=p}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let d=0,h=u.length;d!==h;++d){const p=u[d];s.addGroup(p.start,p.count,p.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const d=new O;f.center!==void 0&&d.fromArray(f.center),s.boundingSphere=new ps(d,f.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}});const Ph={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function d_(e){ct.call(this,e)}d_.prototype=Object.assign(Object.create(ct.prototype),{constructor:d_,load:function(e,t,n,i){const r=this,s=this.path===""?CT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Pr(r.manager);o.setPath(this.path),o.load(e,function(a){let l=null;try{l=JSON.parse(a)}catch(u){i!==void 0&&i(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(l,t)},n,i)},parse:function(e,t){const n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){t!==void 0&&t(a)}),s=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,s),a=this.parseObject(e.object,i,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(a),a},parseShape:function(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const r=new Jo().fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){const n={};let i;if(e!==void 0){const r=new h_;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Pn[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Pn[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Pn[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Pn[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Pn[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Pn[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Pn[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Pn[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Pn[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Pn[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new Pn[l.type](new t_[l.path.type]().fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Pn[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Pn[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":i=[];for(let u=0,f=l.shapes.length;u<f;u++){const d=t[l.shapes[u]];i.push(d)}a=new Pn[l.type](i,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":i=[];for(let u=0,f=l.shapes.length;u<f;u++){const d=t[l.shapes[u]];i.push(d)}const c=l.options.extrudePath;c!==void 0&&(l.options.extrudePath=new t_[c.type]().fromJSON(c)),a=new Pn[l.type](i,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),n[l.uuid]=a}}return n},parseMaterials:function(e,t){const n={},i={};if(e!==void 0){const r=new u_;r.setTextures(t);for(let s=0,o=e.length;s<o;s++){const a=e[s];if(a.type==="MultiMaterial"){const l=[];for(let c=0;c<a.materials.length;c++){const u=a.materials[c];n[u.uuid]===void 0&&(n[u.uuid]=r.parse(u)),l.push(n[u.uuid])}i[a.uuid]=l}else n[a.uuid]===void 0&&(n[a.uuid]=r.parse(a)),i[a.uuid]=n[a.uuid]}}return i},parseAnimations:function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n],r=tr.parse(i);i.uuid!==void 0&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){const n=this,i={};let r;function s(o){return n.manager.itemStart(o),r.load(o,function(){n.manager.itemEnd(o)},void 0,function(){n.manager.itemError(o),n.manager.itemEnd(o)})}if(e!==void 0&&e.length>0){const o=new AT(t);r=new sf(o),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.url;if(Array.isArray(u)){i[c.uuid]=[];for(let f=0,d=u.length;f<d;f++){const h=u[f],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;i[c.uuid].push(s(p))}}else{const f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;i[c.uuid]=s(f)}}}return i},parseTextures:function(e,t){function n(r,s){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),s[r])}const i={};if(e!==void 0)for(let r=0,s=e.length;r<s;r++){const o=e[r];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);let a;Array.isArray(t[o.image])?a=new ao(t[o.image]):a=new pt(t[o.image]),a.needsUpdate=!0,a.uuid=o.uuid,o.name!==void 0&&(a.name=o.name),o.mapping!==void 0&&(a.mapping=n(o.mapping,WU)),o.offset!==void 0&&a.offset.fromArray(o.offset),o.repeat!==void 0&&a.repeat.fromArray(o.repeat),o.center!==void 0&&a.center.fromArray(o.center),o.rotation!==void 0&&(a.rotation=o.rotation),o.wrap!==void 0&&(a.wrapS=n(o.wrap[0],hw),a.wrapT=n(o.wrap[1],hw)),o.format!==void 0&&(a.format=o.format),o.type!==void 0&&(a.type=o.type),o.encoding!==void 0&&(a.encoding=o.encoding),o.minFilter!==void 0&&(a.minFilter=n(o.minFilter,dw)),o.magFilter!==void 0&&(a.magFilter=n(o.magFilter,dw)),o.anisotropy!==void 0&&(a.anisotropy=o.anisotropy),o.flipY!==void 0&&(a.flipY=o.flipY),o.premultiplyAlpha!==void 0&&(a.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(a.unpackAlignment=o.unpackAlignment),i[o.uuid]=a}return i},parseObject:function(e,t,n){let i;function r(l){return t[l]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",l),t[l]}function s(l){if(l!==void 0){if(Array.isArray(l)){const c=[];for(let u=0,f=l.length;u<f;u++){const d=l[u];n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),c.push(n[d])}return c}return n[l]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",l),n[l]}}let o,a;switch(e.type){case"Scene":i=new Pl,e.background!==void 0&&Number.isInteger(e.background)&&(i.background=new Le(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?i.fog=new Ny(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(i.fog=new By(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new zt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(i.focus=e.focus),e.zoom!==void 0&&(i.zoom=e.zoom),e.filmGauge!==void 0&&(i.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(i.filmOffset=e.filmOffset),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new af(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(i.zoom=e.zoom),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new l_(e.color,e.intensity);break;case"DirectionalLight":i=new lf(e.color,e.intensity);break;case"PointLight":i=new o_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new c_(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new r_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new n_(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=new rr().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":o=r(e.geometry),a=s(e.material),i=new dt(o,a);break;case"InstancedMesh":o=r(e.geometry),a=s(e.material);const l=e.count,c=e.instanceMatrix;i=new Gy(o,a,l),i.instanceMatrix=new Be(new Float32Array(c.array),16);break;case"LOD":i=new Wd;break;case"Line":i=new Hi(r(e.geometry),s(e.material),e.mode);break;case"LineLoop":i=new Vy(r(e.geometry),s(e.material));break;case"LineSegments":i=new qt(r(e.geometry),s(e.material));break;case"PointCloud":case"Points":i=new jy(r(e.geometry),s(e.material));break;case"Sprite":i=new zy(s(e.material));break;case"Group":i=new Uu;break;default:i=new Me}if(i.uuid=e.uuid,e.name!==void 0&&(i.name=e.name),e.matrix!==void 0?(i.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(e.position!==void 0&&i.position.fromArray(e.position),e.rotation!==void 0&&i.rotation.fromArray(e.rotation),e.quaternion!==void 0&&i.quaternion.fromArray(e.quaternion),e.scale!==void 0&&i.scale.fromArray(e.scale)),e.castShadow!==void 0&&(i.castShadow=e.castShadow),e.receiveShadow!==void 0&&(i.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(i.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(i.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(i.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&i.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(i.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(i.visible=e.visible),e.frustumCulled!==void 0&&(i.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(i.renderOrder=e.renderOrder),e.userData!==void 0&&(i.userData=e.userData),e.layers!==void 0&&(i.layers.mask=e.layers),e.children!==void 0){const l=e.children;for(let c=0;c<l.length;c++)i.add(this.parseObject(l[c],t,n))}if(e.type==="LOD"){e.autoUpdate!==void 0&&(i.autoUpdate=e.autoUpdate);const l=e.levels;for(let c=0;c<l.length;c++){const u=l[c],f=i.getObjectByProperty("uuid",u.object);f!==void 0&&i.addLevel(f,u.distance)}}return i}});const WU={UVMapping:Fv,CubeReflectionMapping:kv,CubeRefractionMapping:Bv,EquirectangularReflectionMapping:nT,EquirectangularRefractionMapping:Nv,CubeUVReflectionMapping:Ef,CubeUVRefractionMapping:zv},hw={RepeatWrapping:Fd,ClampToEdgeWrapping:Kn,MirroredRepeatWrapping:kd},dw={NearestFilter:rn,NearestMipmapNearestFilter:Dy,NearestMipmapLinearFilter:Ay,LinearFilter:Sn,LinearMipmapNearestFilter:iT,LinearMipmapLinearFilter:Wp};function pw(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ct.call(this,e),this.options={premultiplyAlpha:"none"}}pw.prototype=Object.assign(Object.create(ct.prototype),{constructor:pw,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=$l.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;fetch(e).then(function(o){return o.blob()}).then(function(o){return createImageBitmap(o,r.options)}).then(function(o){$l.add(e,o),t&&t(o),r.manager.itemEnd(e)}).catch(function(o){i&&i(o),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}});function PT(){this.type="ShapePath",this.color=new Le,this.subPaths=[],this.currentPath=null}Object.assign(PT.prototype,{moveTo:function(e,t){return this.currentPath=new br,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,s){return this.currentPath.bezierCurveTo(e,t,n,i,r,s),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(m){const y=[];for(let x=0,v=m.length;x<v;x++){const b=m[x],M=new Jo;M.curves=b.curves,y.push(M)}return y}function i(m,y){const x=y.length;let v=!1;for(let b=x-1,M=0;M<x;b=M++){let S=y[b],A=y[M],E=A.x-S.x,L=A.y-S.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(S=y[M],E=-E,A=y[b],L=-L),m.y<S.y||m.y>A.y)continue;if(m.y===S.y){if(m.x===S.x)return!0}else{const N=L*(m.x-S.x)-E*(m.y-S.y);if(N===0)return!0;if(N<0)continue;v=!v}}else{if(m.y!==S.y)continue;if(A.x<=m.x&&m.x<=S.x||S.x<=m.x&&m.x<=A.x)return!0}}return v}const r=to.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return n(s);let o,a,l,c=[];if(s.length===1)return a=s[0],l=new Jo,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const f=[],d=[];let h=[],p=0,g;d[p]=void 0,h[p]=[];for(let m=0,y=s.length;m<y;m++)a=s[m],g=a.getPoints(),o=r(g),o=e?!o:o,o?(!u&&d[p]&&p++,d[p]={s:new Jo,p:g},d[p].s.curves=a.curves,u&&p++,h[p]=[]):h[p].push({h:a,p:g[0]});if(!d[0])return n(s);if(d.length>1){let m=!1;const y=[];for(let x=0,v=d.length;x<v;x++)f[x]=[];for(let x=0,v=d.length;x<v;x++){const b=h[x];for(let M=0;M<b.length;M++){const S=b[M];let A=!0;for(let E=0;E<d.length;E++)i(S.p,d[E].p)&&(x!==E&&y.push({froms:x,tos:E,hole:M}),A?(A=!1,f[E].push(S)):m=!0);A&&f[x].push(S)}}y.length>0&&(m||(h=f))}let _;for(let m=0,y=d.length;m<y;m++){l=d[m].s,c.push(l),_=h[m];for(let x=0,v=_.length;x<v;x++)l.holes.push(_[x].h)}return c}});function LT(e){this.type="Font",this.data=e}Object.assign(LT.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);const n=[],i=jU(e,t,this.data);for(let r=0,s=i.length;r<s;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}});function jU(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[];let a=0,l=0;for(let c=0;c<i.length;c++){const u=i[c];if(u===`
`)a=0,l-=s;else{const f=qU(u,r,a,l,n);a+=f.offsetX,o.push(f.path)}}return o}function qU(e,t,n,i,r){const s=r.glyphs[e]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");return}const o=new PT;let a,l,c,u,f,d,h,p;if(s.o){const g=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let _=0,m=g.length;_<m;)switch(g[_++]){case"m":a=g[_++]*t+n,l=g[_++]*t+i,o.moveTo(a,l);break;case"l":a=g[_++]*t+n,l=g[_++]*t+i,o.lineTo(a,l);break;case"q":c=g[_++]*t+n,u=g[_++]*t+i,f=g[_++]*t+n,d=g[_++]*t+i,o.quadraticCurveTo(f,d,c,u);break;case"b":c=g[_++]*t+n,u=g[_++]*t+i,f=g[_++]*t+n,d=g[_++]*t+i,h=g[_++]*t+n,p=g[_++]*t+i,o.bezierCurveTo(f,d,h,p,c,u);break}}return{offsetX:s.ha*t,path:o}}function mw(e){ct.call(this,e)}mw.prototype=Object.assign(Object.create(ct.prototype),{constructor:mw,load:function(e,t,n,i){const r=this,s=new Pr(this.manager);s.setPath(this.path),s.load(e,function(o){let a;try{a=JSON.parse(o)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),a=JSON.parse(o.substring(65,o.length-2))}const l=r.parse(a);t&&t(l)},n,i)},parse:function(e){return new LT(e)}});let Lh;const RT={getContext:function(){return Lh===void 0&&(Lh=new(window.AudioContext||window.webkitAudioContext)),Lh},setContext:function(e){Lh=e}};function p_(e){ct.call(this,e)}p_.prototype=Object.assign(Object.create(ct.prototype),{constructor:p_,load:function(e,t,n,i){const r=this,s=new Pr(r.manager);s.setResponseType("arraybuffer"),s.setPath(r.path),s.load(e,function(o){try{const a=o.slice(0);RT.getContext().decodeAudioData(a,function(c){t(c)})}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)}});function gw(e,t,n){rr.call(this,void 0,n);const i=new Le().set(e),r=new Le().set(t),s=new O(i.r,i.g,i.b),o=new O(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(a),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(l)}gw.prototype=Object.assign(Object.create(rr.prototype),{constructor:gw,isHemisphereLightProbe:!0,copy:function(e){return rr.prototype.copy.call(this,e),this},toJSON:function(e){return rr.prototype.toJSON.call(this,e)}});function yw(e,t){rr.call(this,void 0,t);const n=new Le().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}yw.prototype=Object.assign(Object.create(rr.prototype),{constructor:yw,isAmbientLightProbe:!0,copy:function(e){return rr.prototype.copy.call(this,e),this},toJSON:function(e){return rr.prototype.toJSON.call(this,e)}});const _w=new Je,vw=new Je;function $U(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign($U.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(qe.DEG2RAD*t.fov*.5)/t.zoom;let a,l;vw.elements[12]=-r,_w.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,i.elements[0]=2*t.near/(l-a),i.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(i),a=-o*t.aspect-s,l=o*t.aspect-s,i.elements[0]=2*t.near/(l-a),i.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vw),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_w)}});function qv(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(qv.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});const Eo=new O,xw=new sn,XU=new O,To=new O;function bw(){Me.call(this),this.type="AudioListener",this.context=RT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qv}bw.prototype=Object.assign(Object.create(Me.prototype),{constructor:bw,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Me.prototype.updateMatrixWorld.call(this,e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Eo,xw,XU),To.set(0,0,-1).applyQuaternion(xw),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Eo.x,i),t.positionY.linearRampToValueAtTime(Eo.y,i),t.positionZ.linearRampToValueAtTime(Eo.z,i),t.forwardX.linearRampToValueAtTime(To.x,i),t.forwardY.linearRampToValueAtTime(To.y,i),t.forwardZ.linearRampToValueAtTime(To.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(Eo.x,Eo.y,Eo.z),t.setOrientation(To.x,To.y,To.z,n.x,n.y,n.z)}});function cf(e){Me.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}cf.prototype=Object.assign(Object.create(Me.prototype),{constructor:cf,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});const Do=new O,ww=new sn,YU=new O,Ao=new O;function Mw(e){cf.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}Mw.prototype=Object.assign(Object.create(cf.prototype),{constructor:Mw,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Me.prototype.updateMatrixWorld.call(this,e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Do,ww,YU),Ao.set(0,0,1).applyQuaternion(ww);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Do.x,n),t.positionY.linearRampToValueAtTime(Do.y,n),t.positionZ.linearRampToValueAtTime(Do.z,n),t.orientationX.linearRampToValueAtTime(Ao.x,n),t.orientationY.linearRampToValueAtTime(Ao.y,n),t.orientationZ.linearRampToValueAtTime(Ao.z,n)}else t.setPosition(Do.x,Do.y,Do.z),t.setOrientation(Ao.x,Ao.y,Ao.z)}});function OT(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(OT.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}});function IT(e,t,n){this.binding=e,this.valueSize=n;let i,r,s;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(IT.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)n[r+o]=n[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(n,r,0,o,i)}this.cumulativeWeight=s},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const a=t*this._origIndex;this._mixBufferRegion(n,i,a,1-r,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){o.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,s=i;r!==s;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*4+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let s=0;s!==r;++s)e[t+s]=e[n+s]},_slerp:function(e,t,n,i){sn.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const s=this._workIndex*r;sn.multiplyQuaternionsFlat(e,s,e,t,e,n),sn.slerpFlat(e,t,e,t,e,s,i)},_lerp:function(e,t,n,i,r){const s=1-i;for(let o=0;o!==r;++o){const a=t+o;e[a]=e[a]*s+e[n+o]*i}},_lerpAdditive:function(e,t,n,i,r){for(let s=0;s!==r;++s){const o=t+s;e[o]=e[o]+e[n+s]*i}}});const $v="\\[\\]\\.:\\/",ZU=new RegExp("["+$v+"]","g"),Xv="[^"+$v+"]",JU="[^"+$v.replace("\\.","")+"]",KU=/((?:WC+[\/:])*)/.source.replace("WC",Xv),QU=/(WCOD+)?/.source.replace("WCOD",JU),eH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Xv),tH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Xv),nH=new RegExp("^"+KU+QU+eH+tH+"$"),iH=["material","materials","bones"];function FT(e,t,n){const i=n||Gn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(FT.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function Gn(e,t,n){this.path=t,this.parsedPath=n||Gn.parseTrackName(t),this.node=Gn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(Gn,{Composite:FT,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Gn.Composite(e,t,n):new Gn(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(ZU,"")},parseTrackName:function(e){const t=nH.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);iH.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let s=0;s<r.length;s++){const o=r[s];if(o.name===t||o.uuid===t)return o;const a=n(o.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}});Object.assign(Gn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)t[n++]=i[r]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=Gn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const s=e[i];if(s===void 0){const l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}a=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else s.fromArray!==void 0&&s.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(a=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][o]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(Gn.prototype,{_getValue_unbound:Gn.prototype.getValue,_setValue_unbound:Gn.prototype.setValue});function rH(){this.uuid=qe.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(rH.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let o,a=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const f=arguments[c],d=f.uuid;let h=t[d];if(h===void 0){h=a++,t[d]=h,e.push(f);for(let p=0,g=s;p!==g;++p)r[p].push(new Gn(f,n[p],i[p]))}else if(h<l){o=e[h];const p=--l,g=e[p];t[g.uuid]=h,e[h]=g,t[d]=p,e[p]=f;for(let _=0,m=s;_!==m;++_){const y=r[_],x=y[p];let v=y[h];y[h]=x,v===void 0&&(v=new Gn(f,n[_],i[_])),y[p]=v}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const a=arguments[s],l=a.uuid,c=t[l];if(c!==void 0&&c>=r){const u=r++,f=e[u];t[f.uuid]=c,e[c]=f,t[l]=u,e[u]=a;for(let d=0,h=i;d!==h;++d){const p=n[d],g=p[u],_=p[c];p[c]=g,p[u]=_}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=e.length;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0)if(delete t[c],u<r){const f=--r,d=e[f],h=--s,p=e[h];t[d.uuid]=u,e[u]=d,t[p.uuid]=f,e[f]=p,e.pop();for(let g=0,_=i;g!==_;++g){const m=n[g],y=m[f],x=m[h];m[u]=y,m[f]=x,m.pop()}}else{const f=--s,d=e[f];t[d.uuid]=u,e[u]=d,e.pop();for(let h=0,p=i;h!==p;++h){const g=n[h];g[u]=g[f],g.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){let n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(i!==void 0)return r[i];const s=this._paths,o=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,s.push(e),o.push(t),r.push(u);for(let f=c,d=a.length;f!==d;++f){const h=a[f];u[f]=new Gn(h,e,t)}return u},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o],l=e[o];t[l]=n,s[n]=a,s.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}});function kT(e,t,n,i){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=i||t.blendMode;const r=t.tracks,s=r.length,o=new Array(s),a={endingStart:Cl,endingEnd:Cl};for(let l=0;l!==s;++l){const c=r[l].createInterpolant(null);o[l]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=XF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(kT.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,r=e._clip.duration,s=r/i,o=i/r;e.warp(1,s,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){const i=this._mixer,r=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/s,l[1]=t/s,this},stopWarping:function(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const a=(e-r)*n;if(a<0||n===0)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const a=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case rT:for(let c=0,u=a.length;c!==u;++c)a[c].evaluate(s),l[c].accumulateAdditive(o);break;case Uv:default:for(let c=0,u=a.length;c!==u;++c)a[c].evaluate(s),l[c].accumulate(i,o)}}},_updateWeight:function(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const s=n===YF;if(e===0)return r===-1?i:s&&(r&1)===1?t-i:i;if(n===$F){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,r+=Math.abs(o);const a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(a===1){const l=e<0;this._setEndings(l,!l,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(r&1)===1)return t-i}return i},_setEndings:function(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Ka,i.endingEnd=Ka):(e?i.endingStart=this.zeroSlopeAtStart?Ka:Cl:i.endingStart=Ud,t?i.endingEnd=this.zeroSlopeAtEnd?Ka:Cl:i.endingEnd=Ud)},_scheduleFading:function(e,t,n){const i=this._mixer,r=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,a=s.sampleValues;return o[0]=r,a[0]=t,o[1]=r+e,a[1]=n,this}});function Sw(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Sw.prototype=Object.assign(Object.create(ds.prototype),{constructor:Sw,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,o=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];c===void 0&&(c={},l[a]=c);for(let u=0;u!==r;++u){const f=i[u],d=f.name;let h=c[d];if(h!==void 0)s[u]=h;else{if(h=s[u],h!==void 0){h._cacheIndex===null&&(++h.referenceCount,this._addInactiveBinding(h,a,d));continue}const p=t&&t._propertyBindings[u].binding.parsedPath;h=new IT(Gn.create(n,d,p),f.ValueTypeName,f.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,a,d),s[u]=h}o[u].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let s=r[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;const u=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete u[f],a.length===0&&delete s[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,o=s[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete o[r],Object.keys(o).length===0&&delete s[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new up(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let s=typeof e=="string"?tr.findByName(i,e):e;const o=s!==null?s.uuid:e;let a=this._actionsByClip[o],l=null;if(n===void 0&&(s!==null?n=s.blendMode:n=Uv),a!==void 0){const u=a.actionByRoot[r];if(u!==void 0&&u.blendMode===n)return u;l=a.knownActions[0],s===null&&(s=l._clip)}if(s===null)return null;const c=new kT(this,s,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?tr.findByName(n,e):e,s=r?r.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,s);const o=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)o[l].apply(s);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const s=r.knownActions;for(let o=0,a=s.length;o!==a;++o){const l=s[o];this._deactivateAction(l);const c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const o=n[s].actionByRoot,a=o[t];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const s in r){const o=r[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function m_(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}m_.prototype.clone=function(){return new m_(this.value.clone===void 0?this.value:this.value.clone())};function Ew(e,t,n){Ii.call(this,e,t),this.meshPerAttribute=n||1}Ew.prototype=Object.assign(Object.create(Ii.prototype),{constructor:Ew,isInstancedInterleavedBuffer:!0,copy:function(e){return Ii.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=Ii.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=Ii.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function BT(e,t,n,i){this.ray=new nc(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new Vv,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Tw(e,t){return e.distance-t.distance}function g_(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const r=e.children;for(let s=0,o=r.length;s<o;s++)g_(r[s],t,n,!0)}}Object.assign(BT.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const i=n||[];return g_(e,this,i,t),i.sort(Tw),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,s=e.length;r<s;r++)g_(e[r],this,i,t);return i.sort(Tw),i}});function sH(e,t,n){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=n!==void 0?n:0,this}Object.assign(sH.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(qe.clamp(t/this.radius,-1,1))),this}});function oH(e,t,n){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=n!==void 0?n:0,this}Object.assign(oH.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});const Dw=new he;function NT(e,t){this.min=e!==void 0?e:new he(1/0,1/0),this.max=t!==void 0?t:new he(-1/0,-1/0)}Object.assign(NT.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=Dw.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new he),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new he),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new he),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new he),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Dw.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const Aw=new O,Rh=new O;function zT(e,t){this.start=e!==void 0?e:new O,this.end=t!==void 0?t:new O}Object.assign(zT.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new O),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new O),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new O),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Aw.subVectors(e,this.start),Rh.subVectors(this.end,this.start);const n=Rh.dot(Rh);let r=Rh.dot(Aw)/n;return t&&(r=qe.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){const i=this.closestPointToPointParameter(e,t);return n===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new O),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function pp(e){Me.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}pp.prototype=Object.create(Me.prototype);pp.prototype.constructor=pp;pp.prototype.isImmediateRenderObject=!0;const Cw=new O;function uf(e,t){Me.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new Ce,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,a=32;s<a;s++,o++){const l=s/a*Math.PI*2,c=o/a*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new Ee(i,3));const r=new Ht({fog:!1,toneMapped:!1});this.cone=new qt(n,r),this.add(this.cone),this.update()}uf.prototype=Object.create(Me.prototype);uf.prototype.constructor=uf;uf.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};uf.prototype.update=function(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Cw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Cw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const As=new O,Oh=new Je,cg=new Je;function UT(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,UT(e.children[n]));return t}function Xl(e){const t=UT(e),n=new Ce,i=[],r=[],s=new Le(0,0,1),o=new Le(0,1,0);for(let l=0;l<t.length;l++){const c=t[l];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new Ee(i,3)),n.setAttribute("color",new Ee(r,3));const a=new Ht({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});qt.call(this,n,a),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}Xl.prototype=Object.create(qt.prototype);Xl.prototype.constructor=Xl;Xl.prototype.isSkeletonHelper=!0;Xl.prototype.updateMatrixWorld=function(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");cg.getInverse(this.root.matrixWorld);for(let r=0,s=0;r<t.length;r++){const o=t[r];o.parent&&o.parent.isBone&&(Oh.multiplyMatrices(cg,o.matrixWorld),As.setFromMatrixPosition(Oh),i.setXYZ(s,As.x,As.y,As.z),Oh.multiplyMatrices(cg,o.parent.matrixWorld),As.setFromMatrixPosition(Oh),i.setXYZ(s+1,As.x,As.y,As.z),s+=2)}n.getAttribute("position").needsUpdate=!0,Me.prototype.updateMatrixWorld.call(this,e)};function ff(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;const i=new kl(t,4,2),r=new or({wireframe:!0,fog:!1,toneMapped:!1});dt.call(this,i,r),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}ff.prototype=Object.create(dt.prototype);ff.prototype.constructor=ff;ff.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};ff.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const aH=new O,Pw=new Le,Lw=new Le;function hf(e,t,n){Me.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Ol(t);i.rotateY(Math.PI*.5),this.material=new or({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),s=new Float32Array(r.count*3);i.setAttribute("color",new Be(s,3)),this.add(new dt(i,this.material)),this.update()}hf.prototype=Object.create(Me.prototype);hf.prototype.constructor=hf;hf.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};hf.prototype.update=function(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Pw.copy(this.light.color),Lw.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const r=n<i/2?Pw:Lw;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(aH.setFromMatrixPosition(this.light.matrixWorld).negate())};function y_(e,t,n,i){e=e||10,t=t||10,n=new Le(n!==void 0?n:4473924),i=new Le(i!==void 0?i:8947848);const r=t/2,s=e/t,o=e/2,a=[],l=[];for(let f=0,d=0,h=-o;f<=t;f++,h+=s){a.push(-o,0,h,o,0,h),a.push(h,0,-o,h,0,o);const p=f===r?n:i;p.toArray(l,d),d+=3,p.toArray(l,d),d+=3,p.toArray(l,d),d+=3,p.toArray(l,d),d+=3}const c=new Ce;c.setAttribute("position",new Ee(a,3)),c.setAttribute("color",new Ee(l,3));const u=new Ht({vertexColors:!0,toneMapped:!1});qt.call(this,c,u),this.type="GridHelper"}y_.prototype=Object.assign(Object.create(qt.prototype),{constructor:y_,copy:function(e){return qt.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function __(e,t,n,i,r,s){e=e||10,t=t||16,n=n||8,i=i||64,r=new Le(r!==void 0?r:4473924),s=new Le(s!==void 0?s:8947848);const o=[],a=[];for(let u=0;u<=t;u++){const f=u/t*(Math.PI*2),d=Math.sin(f)*e,h=Math.cos(f)*e;o.push(0,0,0),o.push(d,0,h);const p=u&1?r:s;a.push(p.r,p.g,p.b),a.push(p.r,p.g,p.b)}for(let u=0;u<=n;u++){const f=u&1?r:s,d=e-e/n*u;for(let h=0;h<i;h++){let p=h/i*(Math.PI*2),g=Math.sin(p)*d,_=Math.cos(p)*d;o.push(g,0,_),a.push(f.r,f.g,f.b),p=(h+1)/i*(Math.PI*2),g=Math.sin(p)*d,_=Math.cos(p)*d,o.push(g,0,_),a.push(f.r,f.g,f.b)}}const l=new Ce;l.setAttribute("position",new Ee(o,3)),l.setAttribute("color",new Ee(a,3));const c=new Ht({vertexColors:!0,toneMapped:!1});qt.call(this,l,c),this.type="PolarGridHelper"}__.prototype=Object.create(qt.prototype);__.prototype.constructor=__;const Rw=new O,Ih=new O,Ow=new O;function df(e,t,n){Me.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let i=new Ce;i.setAttribute("position",new Ee([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Ht({fog:!1,toneMapped:!1});this.lightPlane=new Hi(i,r),this.add(this.lightPlane),i=new Ce,i.setAttribute("position",new Ee([0,0,0,0,0,1],3)),this.targetLine=new Hi(i,r),this.add(this.targetLine),this.update()}df.prototype=Object.create(Me.prototype);df.prototype.constructor=df;df.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};df.prototype.update=function(){Rw.setFromMatrixPosition(this.light.matrixWorld),Ih.setFromMatrixPosition(this.light.target.matrixWorld),Ow.subVectors(Ih,Rw),this.lightPlane.lookAt(Ih),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ih),this.targetLine.scale.z=Ow.length()};const Fh=new O,Rt=new rs;function mp(e){const t=new Ce,n=new Ht({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],s={},o=new Le(16755200),a=new Le(16711680),l=new Le(43775),c=new Le(16777215),u=new Le(3355443);f("n1","n2",o),f("n2","n4",o),f("n4","n3",o),f("n3","n1",o),f("f1","f2",o),f("f2","f4",o),f("f4","f3",o),f("f3","f1",o),f("n1","f1",o),f("n2","f2",o),f("n3","f3",o),f("n4","f4",o),f("p","n1",a),f("p","n2",a),f("p","n3",a),f("p","n4",a),f("u1","u2",l),f("u2","u3",l),f("u3","u1",l),f("c","t",c),f("p","c",u),f("cn1","cn2",u),f("cn3","cn4",u),f("cf1","cf2",u),f("cf3","cf4",u);function f(h,p,g){d(h,g),d(p,g)}function d(h,p){i.push(0,0,0),r.push(p.r,p.g,p.b),s[h]===void 0&&(s[h]=[]),s[h].push(i.length/3-1)}t.setAttribute("position",new Ee(i,3)),t.setAttribute("color",new Ee(r,3)),qt.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}mp.prototype=Object.create(qt.prototype);mp.prototype.constructor=mp;mp.prototype.update=function(){const e=this.geometry,t=this.pointMap,n=1,i=1;Rt.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Bt("c",t,e,Rt,0,0,-1),Bt("t",t,e,Rt,0,0,1),Bt("n1",t,e,Rt,-n,-i,-1),Bt("n2",t,e,Rt,n,-i,-1),Bt("n3",t,e,Rt,-n,i,-1),Bt("n4",t,e,Rt,n,i,-1),Bt("f1",t,e,Rt,-n,-i,1),Bt("f2",t,e,Rt,n,-i,1),Bt("f3",t,e,Rt,-n,i,1),Bt("f4",t,e,Rt,n,i,1),Bt("u1",t,e,Rt,n*.7,i*1.1,-1),Bt("u2",t,e,Rt,-n*.7,i*1.1,-1),Bt("u3",t,e,Rt,0,i*2,-1),Bt("cf1",t,e,Rt,-n,0,1),Bt("cf2",t,e,Rt,n,0,1),Bt("cf3",t,e,Rt,0,-i,1),Bt("cf4",t,e,Rt,0,i,1),Bt("cn1",t,e,Rt,-n,0,-1),Bt("cn2",t,e,Rt,n,0,-1),Bt("cn3",t,e,Rt,0,-i,-1),Bt("cn4",t,e,Rt,0,i,-1),e.getAttribute("position").needsUpdate=!0};function Bt(e,t,n,i,r,s,o){Fh.set(r,s,o).unproject(i);const a=t[e];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Fh.x,Fh.y,Fh.z)}}const kh=new Fr;function ha(e,t){this.object=e,t===void 0&&(t=16776960);const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),r=new Ce;r.setIndex(new Be(n,1)),r.setAttribute("position",new Be(i,3)),qt.call(this,r,new Ht({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}ha.prototype=Object.create(qt.prototype);ha.prototype.constructor=ha;ha.prototype.update=function(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&kh.setFromObject(this.object),kh.isEmpty())return;const t=kh.min,n=kh.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()};ha.prototype.setFromObject=function(e){return this.object=e,this.update(),this};ha.prototype.copy=function(e){return qt.prototype.copy.call(this,e),this.object=e.object,this};ha.prototype.clone=function(){return new this.constructor().copy(this)};function gp(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Ce;r.setIndex(new Be(n,1)),r.setAttribute("position",new Ee(i,3)),qt.call(this,r,new Ht({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}gp.prototype=Object.create(qt.prototype);gp.prototype.constructor=gp;gp.prototype.updateMatrixWorld=function(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Me.prototype.updateMatrixWorld.call(this,e))};function yp(e,t,n){this.plane=e,this.size=t===void 0?1:t;const i=n!==void 0?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new Ce;s.setAttribute("position",new Ee(r,3)),s.computeBoundingSphere(),Hi.call(this,s,new Ht({color:i,toneMapped:!1})),this.type="PlaneHelper";const o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],a=new Ce;a.setAttribute("position",new Ee(o,3)),a.computeBoundingSphere(),this.add(new dt(a,new or({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}yp.prototype=Object.create(Hi.prototype);yp.prototype.constructor=yp;yp.prototype.updateMatrixWorld=function(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?en:Sf,this.lookAt(this.plane.normal),Me.prototype.updateMatrixWorld.call(this,e)};const Iw=new O;let Bh,ug;function ho(e,t,n,i,r,s){Me.call(this),this.type="ArrowHelper",e===void 0&&(e=new O(0,0,1)),t===void 0&&(t=new O(0,0,0)),n===void 0&&(n=1),i===void 0&&(i=16776960),r===void 0&&(r=.2*n),s===void 0&&(s=.2*r),Bh===void 0&&(Bh=new Ce,Bh.setAttribute("position",new Ee([0,0,0,0,1,0],3)),ug=new co(0,.5,1,5,1),ug.translate(0,-.5,0)),this.position.copy(t),this.line=new Hi(Bh,new Ht({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new dt(ug,new or({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}ho.prototype=Object.create(Me.prototype);ho.prototype.constructor=ho;ho.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Iw.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Iw,t)}};ho.prototype.setLength=function(e,t,n){t===void 0&&(t=.2*e),n===void 0&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()};ho.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)};ho.prototype.copy=function(e){return Me.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};ho.prototype.clone=function(){return new this.constructor().copy(this)};function v_(e){e=e||1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ce;i.setAttribute("position",new Ee(t,3)),i.setAttribute("color",new Ee(n,3));const r=new Ht({vertexColors:!0,toneMapped:!1});qt.call(this,i,r),this.type="AxesHelper"}v_.prototype=Object.create(qt.prototype);v_.prototype.constructor=v_;const yl=4,no=8,pr=Math.pow(2,no),HT=[.125,.215,.35,.446,.526,.582],GT=no-yl+1+HT.length,Wa=20,Sr={[oi]:0,[jp]:1,[Gv]:2,[sT]:3,[oT]:4,[aT]:5,[Hv]:6},fg=new af,{_lodPlanes:Mc,_sizeLods:Fw,_sigmas:Nh}=cH();let hg=null;const Io=(1+Math.sqrt(5))/2,Na=1/Io,kw=[new O(1,1,1),new O(-1,1,1),new O(1,1,-1),new O(-1,1,-1),new O(0,Io,Na),new O(0,Io,-Na),new O(Na,0,Io),new O(-Na,0,Io),new O(Io,Na,0),new O(-Io,Na,0)];function Bw(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=uH(Wa),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}Bw.prototype={constructor:Bw,fromScene:function(e,t=0,n=.1,i=100){hg=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=Uw(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=zw(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Mc.length;e++)Mc[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(hg),e.scissorTest=!1,zh(e,0,0,e.width,e.height)},_fromTexture:function(e){hg=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){const t={magFilter:rn,minFilter:rn,generateMipmaps:!1,type:Tf,format:uF,encoding:lH(e)?e.encoding:Gv,depthBuffer:!1,stencilBuffer:!1},n=Nw(t);return n.depthBuffer=!e,this._pingPongRenderTarget=Nw(t),n},_compileMaterial:function(e){const t=new dt(Mc[0],e);this._renderer.compile(t,fg)},_sceneToCubeUV:function(e,t,n,i){const o=new zt(90,1,t,n),a=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.outputEncoding,f=c.toneMapping,d=c.getClearColor(),h=c.getClearAlpha();c.toneMapping=ml,c.outputEncoding=oi;let p=e.background;if(p&&p.isColor){p.convertSRGBToLinear();const g=Math.max(p.r,p.g,p.b),_=Math.min(Math.max(Math.ceil(Math.log2(g)),-128),127);p=p.multiplyScalar(Math.pow(2,-_));const m=(_+128)/255;c.setClearColor(p,m),e.background=null}for(let g=0;g<6;g++){const _=g%3;_==0?(o.up.set(0,a[g],0),o.lookAt(l[g],0,0)):_==1?(o.up.set(0,0,a[g]),o.lookAt(0,l[g],0)):(o.up.set(0,a[g],0),o.lookAt(0,0,l[g])),zh(i,_*pr,g>2?pr:0,pr,pr),c.setRenderTarget(i),c.render(e,o)}c.toneMapping=f,c.outputEncoding=u,c.setClearColor(d,h)},_textureToCubeUV:function(e,t){const n=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=Uw()):this._equirectShader==null&&(this._equirectShader=zw());const i=e.isCubeTexture?this._cubemapShader:this._equirectShader,r=new dt(Mc[0],i),s=i.uniforms;s.envMap.value=e,e.isCubeTexture||s.texelSize.value.set(1/e.image.width,1/e.image.height),s.inputEncoding.value=Sr[e.encoding],s.outputEncoding.value=Sr[t.texture.encoding],zh(t,0,0,3*pr,2*pr),n.setRenderTarget(t),n.render(r,fg)},_applyPMREM:function(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<GT;i++){const r=Math.sqrt(Nh[i]*Nh[i]-Nh[i-1]*Nh[i-1]),s=kw[(i-1)%kw.length];this._blur(e,i-1,i,r,s)}t.autoClear=n},_blur:function(e,t,n,i,r){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",r),this._halfBlur(s,e,n,n,i,"longitudinal",r)},_halfBlur:function(e,t,n,i,r,s,o){const a=this._renderer,l=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new dt(Mc[i],l),f=l.uniforms,d=Fw[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/(2*Wa-1),p=r/h,g=isFinite(r)?1+Math.floor(c*p):Wa;g>Wa&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Wa}`);const _=[];let m=0;for(let b=0;b<Wa;++b){const M=b/p,S=Math.exp(-M*M/2);_.push(S),b==0?m+=S:b<g&&(m+=2*S)}for(let b=0;b<_.length;b++)_[b]=_[b]/m;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=_,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o),f.dTheta.value=h,f.mipInt.value=no-n,f.inputEncoding.value=Sr[e.texture.encoding],f.outputEncoding.value=Sr[e.texture.encoding];const y=Fw[i],x=3*Math.max(0,pr-2*y),v=(i===0?0:2*pr)+2*y*(i>no-yl?i-no+yl:0);zh(t,x,v,3*y,2*y),a.setRenderTarget(t),a.render(u,fg)}};function lH(e){return e===void 0||e.type!==Tf?!1:e.encoding===oi||e.encoding===jp||e.encoding===Hv}function cH(){const e=[],t=[],n=[];let i=no;for(let r=0;r<GT;r++){const s=Math.pow(2,i);t.push(s);let o=1/s;r>no-yl?o=HT[r-no+yl-1]:r==0&&(o=0),n.push(o);const a=1/(s-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],f=6,d=6,h=3,p=2,g=1,_=new Float32Array(h*d*f),m=new Float32Array(p*d*f),y=new Float32Array(g*d*f);for(let v=0;v<f;v++){const b=v%3*2/3-1,M=v>2?0:-1,S=[b,M,0,b+2/3,M,0,b+2/3,M+1,0,b,M,0,b+2/3,M+1,0,b,M+1,0];_.set(S,h*d*v),m.set(u,p*d*v);const A=[v,v,v,v,v,v];y.set(A,g*d*v)}const x=new Ce;x.setAttribute("position",new Be(_,h)),x.setAttribute("uv",new Be(m,p)),x.setAttribute("faceIndex",new Be(y,g)),e.push(x),i>yl&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function Nw(e){const t=new Bi(3*pr,3*pr,e);return t.texture.mapping=Ef,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function zh(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function uH(e){const t=new Float32Array(e),n=new O(0,1,0);return new uo({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Sr[oi]},outputEncoding:{value:Sr[oi]}},vertexShader:Yv(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

${Zv()}

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function zw(){const e=new he(1,1);return new uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Sr[oi]},outputEncoding:{value:Sr[oi]}},vertexShader:Yv(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

${Zv()}

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function Uw(){return new uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Sr[oi]},outputEncoding:{value:Sr[oi]}},vertexShader:Yv(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

${Zv()}

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function Yv(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function Zv(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}Ie.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ie.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(qs.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new ze;for(let n=0,i=e.length;n<i;n++){const r=e[n];t.vertices.push(new O(r.x,r.y,r.z||0))}return t}});Object.assign(br.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(bi.prototype);Object.create(bi.prototype);function VT(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),bi.call(this,e),this.type="catmullrom"}VT.prototype=Object.create(bi.prototype);Object.assign(VT.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});y_.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Xl.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(ct.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),CT.extractUrlBase(e)}});ct.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(d_.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(NT.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Fr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(ps.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});Df.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};zT.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(qe,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),qe.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),qe.ceilPowerOfTwo(e)}});Object.assign(zn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(Je.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new O().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,s)}});_r.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};sn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(nc.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(un.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(un,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),un.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),un.getNormal(e,t,n,i)}});Object.assign(Jo.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Fl(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Bl(this,e)}});Object.assign(he.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(O.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(lt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(ze.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(Me.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Me.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(dt.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(dt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ZF},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(Wd.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Hy.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Uy.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Ie.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});zt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(vt.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Be.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Ou},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Ou)}}});Object.assign(Be.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Ou:qp),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Ce.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Be(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ce.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(dp.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(BT.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(Ii.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Ou},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(Ii.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Ou:qp),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(ss.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(m_.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(Ne.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Le}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===QE}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(fo.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Vn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(rc.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(rc.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?jp:oi}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(xT.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Bi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(cf.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new p_().load(e,function(i){t.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});OT.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};ku.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};sa.crossOrigin=void 0;sa.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new hp;r.setCrossOrigin(this.crossOrigin);const s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s};sa.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new e_;r.setCrossOrigin(this.crossOrigin);const s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s};sa.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};sa.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:EI}}));Number.prototype.map=function(e,t,n,i){return(this-e)*(i-n)/(t-e)+n};class fH{constructor(t=document.body,n=null){this.container=t,this.itemsWrapper=n,!(!this.container||!this.itemsWrapper)&&(this.setup(),this.initEffectShell().then(()=>{this.isLoaded=!0,this.isMouseOver&&this.onMouseOver(this.tempItemIndex),this.tempItemIndex=null}),this.createEventsListeners())}setup(){window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.renderer=new rc({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio||1),document.getElementById("main").appendChild(this.renderer.domElement),this.renderer.domElement.classList.add("motionhover"),this.scene=new Pl,this.camera=new zt(40,this.viewport.aspectRatio,.1,100),this.camera.position.set(0,0,3),this.mouse=new he,this.timeSpeed=2,this.time=0,this.clock=new qv,this.renderer.setAnimationLoop(this.render.bind(this))}render(){this.time+=this.clock.getDelta()*this.timeSpeed,this.renderer.render(this.scene,this.camera)}initEffectShell(){let t=[];this.items=this.itemsElements;const n=new hp;return this.items.forEach((i,r)=>{t.push(this.loadTexture(n,i.img?i.img.src:null,r))}),new Promise((i,r)=>{Promise.all(t).then(s=>{s.forEach((o,a)=>{this.items[a].texture=o.texture}),i()})})}createEventsListeners(){this.items.forEach((t,n)=>{t.element.addEventListener("mouseover",this._onMouseOver.bind(this,n),!1)}),this.container.addEventListener("mousemove",this._onMouseMove.bind(this),!1),this.itemsWrapper.addEventListener("mouseleave",this._onMouseLeave.bind(this),!1)}_onMouseLeave(t){this.isMouseOver=!1,this.onMouseLeave(t)}_onMouseMove(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-(t.clientY/window.innerHeight)*2+1,this.onMouseMove(t)}_onMouseOver(t,n){this.tempItemIndex=t,this.onMouseOver(t,n)}onWindowResize(){this.camera.aspect=this.viewport.aspectRatio,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}onUpdate(){}onMouseEnter(t){}onMouseLeave(t){}onMouseMove(t){}onMouseOver(t,n){}get viewport(){let t=window.innerWidth,n=window.innerHeight,i=t/n;return{width:t,height:n,aspectRatio:i}}get viewSize(){let t=this.camera.position.z,n=this.camera.fov*Math.PI/180,i=2*Math.tan(n/2)*t;return{width:i*this.viewport.aspectRatio,height:i,vFov:n}}get itemsElements(){return[...this.itemsWrapper.querySelectorAll(".link")].map((n,i)=>({element:n,img:n.querySelector("img")||null,index:i}))}loadTexture(t,n,i){return new Promise((r,s)=>{if(!n){r({texture:null,index:i});return}t.load(n,o=>{r({texture:o,index:i})},void 0,o=>{console.error("An error happened.",o),s(o)})})}}class Hw extends fH{constructor(t=document.body,n=null,i={}){super(t,n),!(!this.container||!this.itemsWrapper)&&(i.strength=i.strength||.1,i.works=i.works||!1,this.options=i,this.init())}init(){this.position=new O(0,0,0),this.scale=new O(1,1,1),this.geometry=new oa(1,1,32,32),this.uniforms={uTexture:{value:null},uOffset:{value:new he(0,0)},uAlpha:{value:0}},this.material=new Vn({uniforms:this.uniforms,vertexShader:`
          uniform vec2 uOffset;
  
          varying vec2 vUv;
  
          vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset) {
            float M_PI = 3.1415926535897932384626433832795;
            position.x = position.x + (sin(uv.y * M_PI) * offset.x);
            position.y = position.y + (sin(uv.x * M_PI) * offset.y);
            return position;
          }
  
          void main() {
            vUv =  uv + (uOffset * 2.);
            vec3 newPosition = position;
            newPosition = deformationCurve(position,uv,uOffset);
            gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );
          }
        `,fragmentShader:`
          uniform sampler2D uTexture;
          uniform float uAlpha;
  
          varying vec2 vUv;
  
          vec2 scaleUV(vec2 uv,float scale) {
            float center = 0.5;
            return ((uv - center) * scale) + center;
          }
  
          void main() {
            vec3 color = texture2D(uTexture,scaleUV(vUv,0.8)).rgb;
            gl_FragColor = vec4(color,uAlpha);
          }
        `,transparent:!0}),this.plane=new dt(this.geometry,this.material),this.plane.position.x=-this.viewSize.width/(this.options.works?8:3),this.plane.position.y=0,this.works=this.options.works?4.5:2.5,this.works2=this.options.works?4.5:4,this.scene.add(this.plane)}onMouseEnter(){(!this.currentItem||!this.isMouseOver)&&(this.isMouseOver=!0,Pe.to(this.uniforms.uAlpha,{value:1,ease:"power4.out",duration:.5}))}onMouseLeave(t){Pe.to(this.uniforms.uAlpha,{value:0,ease:"power4.out",duration:.5})}onMouseMove(t){let n=this.mouse.x.map(-1,1,-this.viewSize.width/this.works,-this.viewSize.width/this.works2),i=this.mouse.y.map(-1,1,-this.viewSize.height/2,this.viewSize.height/2);this.position=new O(n,i,0),Pe.to(this.plane.position,{x:n,y:i,ease:"power4.out",duration:1,onUpdate:this.onPositionUpdate.bind(this)})}onPositionUpdate(){let t=this.plane.position.clone().sub(this.position).multiplyScalar(-this.options.strength);this.uniforms.uOffset.value=t}onMouseOver(t,n){this.isLoaded&&(this.onMouseEnter(),!(this.currentItem&&this.currentItem.index===t)&&this.onTargetChange(t))}onTargetChange(t){if(this.currentItem=this.items[t],!this.currentItem.texture)return;let n=this.currentItem.img.naturalWidth/this.currentItem.img.naturalHeight;this.scale=new O(n,1,1),this.uniforms.uTexture.value=this.currentItem.texture,this.plane.scale.copy(this.scale)}}function hH(e){e.classList.add("slideshow");var t=e.querySelectorAll(".slide"),n=1.5;function i(){if(e.getAttribute("autoplay")!=null){var h=e.getAttribute("autoplay")||4e3;setTimeout(function(){a(e,!1,!0)},h)}}var r=1;if(e.getAttribute("parallax")!=null)var r=e.getAttribute("parallax")||.25;if(e.getAttribute("opacity")!=null)var s=e.getAttribute("opacity")||.6;function o(h,v,g){if(h.getAttribute("wait")!=="true"){var _=h.querySelectorAll(".slide-content"),m=h.querySelector(".q_current"),y=m.querySelector(".image-container"),x=hE.call(t,v),v=Cc(x),b=x.querySelector(".image-container"),M=x.querySelector(".slide-content")||_[v];if(M)var S=M.querySelectorAll(".q_split_wrap");if(x!==m){x.classList.add("is-new");var A=0;if(clearTimeout(A),h.setAttribute("wait","true"),Cc(x)>Cc(m))var E=0,L="auto",N=-h.clientWidth*(1-r)+"px",R="auto",H=0,U=-h.clientWidth*r+"px",z="stagLeft",F="fadeLeft",V=10;else var E="",L=0,N=-h.clientWidth*r+"px",R=0,H="auto",U=h.clientWidth*r+"px",z="stagRight",F="fadeRight",V=-10;x.style.display="block",x.style.width=0,x.style.right=E,x.style.left=L,x.style.zIndex=2,b.style.width=h.clientWidth+"px",y.style.transform="translateX(0)",Pe.set(b,{x:N});var $=x.querySelector("img"),q=x.querySelector("video");$&&Pe.set($,{xPercent:V}),s&&(b.style.opacity=s),M&&(M.style.width=h.clientWidth+"px",M.style.right=H,M.style.left=R),Pe.to(y,{x:U,opacity:s,ease:"expo.inOut",duration:n});var D=y.querySelector("video");D&&setTimeout(function(){D.pause()},700),Pe.to(x,{width:h.clientWidth,ease:"expo.inOut",duration:n}),q?setTimeout(function(){q.play()},500):$&&Pe.to($,{scale:1,rotation:0,xPercent:0,ease:"expo.out",duration:3});var I=x.querySelector("canvas");I&&(I.classList.add("active"),I.classList.add("slide_active")),Pe.to(b,{x:0,opacity:1,ease:"expo.inOut",duration:n,onComplete:function(){x.classList.add("q_current"),x.classList.remove("is-new"),m.classList.remove("q_current"),x.removeAttribute("style"),b.removeAttribute("style"),M&&M.removeAttribute("style"),y.removeAttribute("style");var le=m.querySelector("canvas");le&&(le.classList.remove("active"),le.classList.remove("slide_active")),setTimeout(function(){h.setAttribute("wait","false")},300),g&&i()}}),F==="fadeLeft"?Pe.fromTo(m.querySelectorAll(".q_split_wrap"),{alpha:1,x:0},{alpha:0,x:-50,ease:"expo.in",delay:0,stagger:.05,duration:.6}):Pe.fromTo(m.querySelectorAll(".q_split_wrap"),{alpha:1,x:0},{alpha:0,x:50,ease:"expo.in",delay:0,stagger:.05,duration:.6}),z==="stagLeft"?Pe.fromTo(S,{alpha:0,x:50},{alpha:1,x:0,ease:"expo.out",delay:.8,stagger:.1,duration:1.5}):Pe.fromTo(S,{alpha:0,x:-50},{alpha:1,x:0,ease:"expo.out",delay:.8,stagger:.1,duration:1.5})}}}function a(h,p,g){var _=h.querySelector(".q_current"),m=null;p?(m=_.previousElementSibling,m||(m=t[t.length-1])):(m=_.nextElementSibling,m||(m=t[0])),o(h,Cc(m),g),dE()}for(var l=t.length-1;l>=0;l--){var c=t[l];c.classList.add("is-loaded")}var u=e.querySelector(".arrows");if(u){var f=u.querySelector(".next"),d=u.querySelector(".prev");f.addEventListener("click",function(h){a(e,!1)}),d.addEventListener("click",function(h){a(e,!0)})}i()}let Gw=0;class Vw{constructor(t={}){this.store=Fp(),Gw=this.store.spike??0,this.options={element:t.element,zoom:t.zoom||2.5,color:t.color||16777215},this.speedSlider=1,this.spikesSlider=.6,this.processingSlider=1.3,this.canvas=this.options.element.querySelector("canvas"),this.canvas.classList.add("active"),this.canvas.classList.add("slide_active"),this.renderer=new rc({canvas:this.canvas,context:this.canvas.getContext("webgl2"),antialias:!0,alpha:!0}),this.simplex=new SimplexNoise;const n=window.innerWidth,i=window.innerHeight;this.renderer.setSize(n,i),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.scene=new Pl,this.camera=new zt(45,n/i,.1,1e3),this.camera.position.set(0,0,this.options.zoom),this.camera.lookAt(Vs()?-.8:-.4,0,0),this.geometry=new Ku(1,128,128),this.material=new fo({color:this.options.color,shininess:10}),this.lightTop=new lf(16777215,1),this.lightTop.position.set(0,500,300),this.lightTop.castShadow=!0,this.scene.add(this.lightTop),this.lightBottom=new lf(16777215,1),this.lightBottom.position.set(0,600,100),this.lightBottom.castShadow=!0,this.scene.add(this.lightBottom),this.sphere=new dt(this.geometry,this.material),this.scene.add(this.sphere),this.rAF=null,this.run=this.run.bind(this),window.addEventListener("resize",this.resize.bind(this)),this.init()}update(){this.time=performance.now()*3e-5*this.speedSlider*Math.pow(this.processingSlider,5),this.spikes=this.spikesSlider*this.processingSlider,this.camera.position.z=this.options.zoom-Gw;for(let t=0;t<this.sphere.geometry.vertices.length;t++){let n=this.sphere.geometry.vertices[t];n.normalize().multiplyScalar(1+.3*this.simplex.noise3D(n.x*this.spikes,n.y*this.spikes,n.z*this.spikes+this.time))}this.sphere.geometry.computeVertexNormals(),this.sphere.geometry.normalsNeedUpdate=!0,this.sphere.geometry.verticesNeedUpdate=!0}run(){this.canvas.classList.contains("active")&&this.canvas.classList.contains("slide_active")&&this.canvas.parentNode.parentNode.classList.contains("is-inview")&&(this.update(),this.renderer.render(this.scene,this.camera)),this.raf()}raf(){this.rAF=requestAnimationFrame(this.run)}init(){this.raf()}cancel(){window.cancelAnimationFrame(this.rAF),window.removeEventListener("resize",this.resize.bind(this)),this.geometry.dispose(),this.material.dispose(),this.scene.remove(this.sphere),this.renderer.dispose()}resize(){const t=this.options.element.clientWidth,n=this.options.element.clientHeight;this.camera.left=t/-2,this.camera.right=t/2,this.camera.top=n/2,this.camera.bottom=n/-2,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,n),this.renderer.setPixelRatio(window.devicePixelRatio||1)}}function dH(e){const t=Fp(),{imagetrail:n}=t;e.classList.add("trailElement");const i=document.querySelector(".trailElement");i.removeEventListener("mousemove",c,!0);const r={lerp:(h,p,g)=>(1-g)*h+g*p,distance:(h,p,g,_)=>Math.hypot(g-h,_-p)},s=h=>{let p=0,g=0;return h||(h=window.event),p=h.clientX,g=h.clientY-i.getBoundingClientRect().top,{x:p,y:g}};let o,a,l;o=a=l={x:0,y:0};var c=h=>o=s(h);i.addEventListener("mousemove",c,!0);const u=()=>r.distance(o.x,o.y,a.x,a.y);class f{constructor(p){this.DOM={el:p},this.defaultStyle={scale:1,x:0,y:0,opacity:0},this.getRect(),this.initEvents()}initEvents(){window.addEventListener("resize",()=>this.resize())}resize(){Pe.set(this.DOM.el,this.defaultStyle),this.getRect()}getRect(){this.rect=this.DOM.el.getBoundingClientRect()}isActive(){}}class d{constructor(){this.DOM={content:i},this.images=[],[...this.DOM.content.querySelectorAll(".content__img")].forEach(p=>this.images.push(new f(p))),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.threshold=150,this.raf()}render(){let p=u();l.x=r.lerp(l.x||o.x,o.x,.1),l.y=r.lerp(l.y||o.y,o.y,.1),p>this.threshold&&(this.showNextImage(),++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0,a=o);let g=!0;for(let _ of this.images)if(_.isActive()){g=!1;break}g&&this.zIndexVal!==1&&(this.zIndexVal=1),this.raf()}raf(){this.rAF=requestAnimationFrame(()=>this.render())}cancel(){window.cancelAnimationFrame(this.rAF)}showNextImage(){const p=this.images[this.imgPosition];Pe.killTweensOf(p.DOM.el),new Pe.timeline().set(p.DOM.el,{startAt:{opacity:0,scale:1},opacity:1,scale:1,zIndex:this.zIndexVal,x:l.x-p.rect.width/2,y:l.y-p.rect.height/2},0).to(p.DOM.el,{ease:"expo.out",x:o.x-p.rect.width/2,y:o.y-p.rect.height/2,duration:3},0).to(p.DOM.el,{ease:"power1.out",delay:.5,opacity:0,duration:1},.4).to(p.DOM.el,{ease:"power4.out",delay:.5,scale:.2,duration:1},.4)}}n?(n.cancel(),t.set("imagetrail",new d)):t.set("imagetrail",new d)}const Yl=document.getElementById("menuNav"),pH=document.querySelector(".logo"),mH=document.getElementById("nav"),WT=document.getElementById("menu-cover"),jT=document.querySelectorAll("#menuNav ol li"),qT=document.querySelector(".header-wrap");document.getElementById("navClose");const $T=Yl.querySelectorAll(".address__col"),Ww=Yl.querySelectorAll(".inner_link"),fu=document.querySelector(".menu__bg"),hu=document.querySelector("#blob > canvas"),du=document.querySelector("#footerblob > canvas");let _p=!1,pf=!1;function gH(){for(let e=Ww.length-1;e>=0;e--)Ww[e].addEventListener("click",function(n){dg()});pH.addEventListener("click",function(e){_p&&dg()}),mH.addEventListener("click",function(e){pf||(_p?dg():yH())})}function yH(){_p=!0,pf=!0,hu&&hu.classList.contains("active")&&hu.classList.remove("active"),du&&du.classList.contains("active")&&du.classList.remove("active"),qT.classList.add("menu_show"),Yl.classList.add("active"),fu.classList.add("active"),Pe.to(WT,{opacity:1,ease:"none",duration:.5}),Pe.fromTo(fu,{opacity:0},{opacity:1,ease:"none",duration:.5}),Pe.fromTo(fu.querySelector("svg"),{scale:1.5},{scale:1,ease:"power4.out",duration:2}),Pe.to(Yl,{opacity:1,delay:0,ease:"power2.in",duration:.5}),Pe.fromTo($T,{opacity:0,y:0,yPercent:10},{opacity:1,y:0,yPercent:0,delay:.8,ease:"power2.out",stagger:.08,duration:1}),Pe.fromTo(jT,{y:40,opacity:0},{y:"0px",opacity:1,ease:"expo.out",delay:.5,duration:1,stagger:Vs()?.03:.05}),setTimeout(function(){pf=!1},2e3)}function dg(){setTimeout(function(){fu.classList.remove("active")},500),_p=!1,pf=!0,setTimeout(function(){hu&&hu.classList.add("active"),du&&du.classList.add("active")},800),qT.classList.remove("menu_show"),Yl.classList.remove("active"),Pe.to(WT,{opacity:0,delay:.8,ease:"none",duration:1,overwrite:!0}),Pe.fromTo(fu,{opacity:1},{opacity:0,delay:.5,ease:"none",duration:.8,overwrite:!0}),Pe.to(Yl,{opacity:0,delay:.8,ease:"power2.in",duration:.5,overwrite:!0}),Pe.to($T,{opacity:0,yPercent:-10,ease:"power2.in",stagger:.05,duration:.5,overwrite:!0}),Pe.to(jT,{y:-20,opacity:0,ease:"power2.in",stagger:.03,duration:.5,overwrite:!0}),setTimeout(function(){pf=!1},2e3)}var Jv={};(function e(t,n,i,r){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var D=new OffscreenCanvas(1,1),I=D.getContext("2d");I.fillRect(0,0,1,1);var le=D.transferToImageBitmap();try{I.createPattern(le,"no-repeat")}catch{return!1}return!0}();function l(){}function c(D){var I=n.exports.Promise,le=I!==void 0?I:t.Promise;return typeof le=="function"?new le(D):(D(l,l),null)}var u=function(D,I){return{transform:function(le){if(D)return le;if(I.has(le))return I.get(le);var de=new OffscreenCanvas(le.width,le.height),ge=de.getContext("2d");return ge.drawImage(le,0,0),I.set(le,de),de},clear:function(){I.clear()}}}(a,new Map),f=function(){var D=Math.floor(16.666666666666668),I,le,de={},ge=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(I=function(ue){var K=Math.random();return de[K]=requestAnimationFrame(function W(ee){ge===ee||ge+D-1<ee?(ge=ee,delete de[K],ue()):de[K]=requestAnimationFrame(W)}),K},le=function(ue){de[ue]&&cancelAnimationFrame(de[ue])}):(I=function(ue){return setTimeout(ue,D)},le=function(ue){return clearTimeout(ue)}),{frame:I,cancel:le}}(),d=function(){var D,I,le={};function de(ge){function ue(K,W){ge.postMessage({options:K||{},callback:W})}ge.init=function(W){var ee=W.transferControlToOffscreen();ge.postMessage({canvas:ee},[ee])},ge.fire=function(W,ee,ie){if(I)return ue(W,null),I;var oe=Math.random().toString(36).slice(2);return I=c(function(Q){function se(T){T.data.callback===oe&&(delete le[oe],ge.removeEventListener("message",se),I=null,u.clear(),ie(),Q())}ge.addEventListener("message",se),ue(W,oe),le[oe]=se.bind(null,{data:{callback:oe}})}),I},ge.reset=function(){ge.postMessage({reset:!0});for(var W in le)le[W](),delete le[W]}}return function(){if(D)return D;if(!i&&s){var ge=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{D=new Worker(URL.createObjectURL(new Blob([ge])))}catch(ue){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ue),null}de(D)}return D}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(D,I){return I?I(D):D}function g(D){return D!=null}function _(D,I,le){return p(D&&g(D[I])?D[I]:h[I],le)}function m(D){return D<0?0:Math.floor(D)}function y(D,I){return Math.floor(Math.random()*(I-D))+D}function x(D){return parseInt(D,16)}function v(D){return D.map(b)}function b(D){var I=String(D).replace(/[^0-9a-f]/gi,"");return I.length<6&&(I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2]),{r:x(I.substring(0,2)),g:x(I.substring(2,4)),b:x(I.substring(4,6))}}function M(D){var I=_(D,"origin",Object);return I.x=_(I,"x",Number),I.y=_(I,"y",Number),I}function S(D){D.width=document.documentElement.clientWidth,D.height=document.documentElement.clientHeight}function A(D){var I=D.getBoundingClientRect();D.width=I.width,D.height=I.height}function E(D){var I=document.createElement("canvas");return I.style.position="fixed",I.style.top="0px",I.style.left="0px",I.style.pointerEvents="none",I.style.zIndex=D,I}function L(D,I,le,de,ge,ue,K,W,ee){D.save(),D.translate(I,le),D.rotate(ue),D.scale(de,ge),D.arc(0,0,1,K,W,ee),D.restore()}function N(D){var I=D.angle*(Math.PI/180),le=D.spread*(Math.PI/180);return{x:D.x,y:D.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:D.startVelocity*.5+Math.random()*D.startVelocity,angle2D:-I+(.5*le-Math.random()*le),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:D.color,shape:D.shape,tick:0,totalTicks:D.ticks,decay:D.decay,drift:D.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:D.gravity*3,ovalScalar:.6,scalar:D.scalar,flat:D.flat}}function R(D,I){I.x+=Math.cos(I.angle2D)*I.velocity+I.drift,I.y+=Math.sin(I.angle2D)*I.velocity+I.gravity,I.velocity*=I.decay,I.flat?(I.wobble=0,I.wobbleX=I.x+10*I.scalar,I.wobbleY=I.y+10*I.scalar,I.tiltSin=0,I.tiltCos=0,I.random=1):(I.wobble+=I.wobbleSpeed,I.wobbleX=I.x+10*I.scalar*Math.cos(I.wobble),I.wobbleY=I.y+10*I.scalar*Math.sin(I.wobble),I.tiltAngle+=.1,I.tiltSin=Math.sin(I.tiltAngle),I.tiltCos=Math.cos(I.tiltAngle),I.random=Math.random()+2);var le=I.tick++/I.totalTicks,de=I.x+I.random*I.tiltCos,ge=I.y+I.random*I.tiltSin,ue=I.wobbleX+I.random*I.tiltCos,K=I.wobbleY+I.random*I.tiltSin;if(D.fillStyle="rgba("+I.color.r+", "+I.color.g+", "+I.color.b+", "+(1-le)+")",D.beginPath(),o&&I.shape.type==="path"&&typeof I.shape.path=="string"&&Array.isArray(I.shape.matrix))D.fill(V(I.shape.path,I.shape.matrix,I.x,I.y,Math.abs(ue-de)*.1,Math.abs(K-ge)*.1,Math.PI/10*I.wobble));else if(I.shape.type==="bitmap"){var W=Math.PI/10*I.wobble,ee=Math.abs(ue-de)*.1,ie=Math.abs(K-ge)*.1,oe=I.shape.bitmap.width*I.scalar,Q=I.shape.bitmap.height*I.scalar,se=new DOMMatrix([Math.cos(W)*ee,Math.sin(W)*ee,-Math.sin(W)*ie,Math.cos(W)*ie,I.x,I.y]);se.multiplySelf(new DOMMatrix(I.shape.matrix));var T=D.createPattern(u.transform(I.shape.bitmap),"no-repeat");T.setTransform(se),D.globalAlpha=1-le,D.fillStyle=T,D.fillRect(I.x-oe/2,I.y-Q/2,oe,Q),D.globalAlpha=1}else if(I.shape==="circle")D.ellipse?D.ellipse(I.x,I.y,Math.abs(ue-de)*I.ovalScalar,Math.abs(K-ge)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI):L(D,I.x,I.y,Math.abs(ue-de)*I.ovalScalar,Math.abs(K-ge)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI);else if(I.shape==="star")for(var P=Math.PI/2*3,G=4*I.scalar,Z=8*I.scalar,w=I.x,C=I.y,J=5,j=Math.PI/J;J--;)w=I.x+Math.cos(P)*Z,C=I.y+Math.sin(P)*Z,D.lineTo(w,C),P+=j,w=I.x+Math.cos(P)*G,C=I.y+Math.sin(P)*G,D.lineTo(w,C),P+=j;else D.moveTo(Math.floor(I.x),Math.floor(I.y)),D.lineTo(Math.floor(I.wobbleX),Math.floor(ge)),D.lineTo(Math.floor(ue),Math.floor(K)),D.lineTo(Math.floor(de),Math.floor(I.wobbleY));return D.closePath(),D.fill(),I.tick<I.totalTicks}function H(D,I,le,de,ge){var ue=I.slice(),K=D.getContext("2d"),W,ee,ie=c(function(oe){function Q(){W=ee=null,K.clearRect(0,0,de.width,de.height),u.clear(),ge(),oe()}function se(){i&&!(de.width===r.width&&de.height===r.height)&&(de.width=D.width=r.width,de.height=D.height=r.height),!de.width&&!de.height&&(le(D),de.width=D.width,de.height=D.height),K.clearRect(0,0,de.width,de.height),ue=ue.filter(function(T){return R(K,T)}),ue.length?W=f.frame(se):Q()}W=f.frame(se),ee=Q});return{addFettis:function(oe){return ue=ue.concat(oe),ie},canvas:D,promise:ie,reset:function(){W&&f.cancel(W),ee&&ee()}}}function U(D,I){var le=!D,de=!!_(I||{},"resize"),ge=!1,ue=_(I,"disableForReducedMotion",Boolean),K=s&&!!_(I||{},"useWorker"),W=K?d():null,ee=le?S:A,ie=D&&W?!!D.__confetti_initialized:!1,oe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Q;function se(P,G,Z){for(var w=_(P,"particleCount",m),C=_(P,"angle",Number),J=_(P,"spread",Number),j=_(P,"startVelocity",Number),k=_(P,"decay",Number),X=_(P,"gravity",Number),re=_(P,"drift",Number),fe=_(P,"colors",v),ne=_(P,"ticks",Number),ce=_(P,"shapes"),_e=_(P,"scalar"),xe=!!_(P,"flat"),ve=M(P),we=w,$e=[],Ge=D.width*ve.x,Wi=D.height*ve.y;we--;)$e.push(N({x:Ge,y:Wi,angle:C,spread:J,startVelocity:j,color:fe[we%fe.length],shape:ce[y(0,ce.length)],ticks:ne,decay:k,gravity:X,drift:re,scalar:_e,flat:xe}));return Q?Q.addFettis($e):(Q=H(D,$e,ee,G,Z),Q.promise)}function T(P){var G=ue||_(P,"disableForReducedMotion",Boolean),Z=_(P,"zIndex",Number);if(G&&oe)return c(function(j){j()});le&&Q?D=Q.canvas:le&&!D&&(D=E(Z),document.body.appendChild(D)),de&&!ie&&ee(D);var w={width:D.width,height:D.height};W&&!ie&&W.init(D),ie=!0,W&&(D.__confetti_initialized=!0);function C(){if(W){var j={getBoundingClientRect:function(){if(!le)return D.getBoundingClientRect()}};ee(j),W.postMessage({resize:{width:j.width,height:j.height}});return}w.width=w.height=null}function J(){Q=null,de&&(ge=!1,t.removeEventListener("resize",C)),le&&D&&(document.body.removeChild(D),D=null,ie=!1)}return de&&!ge&&(ge=!0,t.addEventListener("resize",C,!1)),W?W.fire(P,w,J):se(P,w,J)}return T.reset=function(){W&&W.reset(),Q&&Q.reset()},T}var z;function F(){return z||(z=U(null,{useWorker:!0,resize:!0})),z}function V(D,I,le,de,ge,ue,K){var W=new Path2D(D),ee=new Path2D;ee.addPath(W,new DOMMatrix(I));var ie=new Path2D;return ie.addPath(ee,new DOMMatrix([Math.cos(K)*ge,Math.sin(K)*ge,-Math.sin(K)*ue,Math.cos(K)*ue,le,de])),ie}function $(D){if(!o)throw new Error("path confetti are not supported in this browser");var I,le;typeof D=="string"?I=D:(I=D.path,le=D.matrix);var de=new Path2D(I),ge=document.createElement("canvas"),ue=ge.getContext("2d");if(!le){for(var K=1e3,W=K,ee=K,ie=0,oe=0,Q,se,T=0;T<K;T+=2)for(var P=0;P<K;P+=2)ue.isPointInPath(de,T,P,"nonzero")&&(W=Math.min(W,T),ee=Math.min(ee,P),ie=Math.max(ie,T),oe=Math.max(oe,P));Q=ie-W,se=oe-ee;var G=10,Z=Math.min(G/Q,G/se);le=[Z,0,0,Z,-Math.round(Q/2+W)*Z,-Math.round(se/2+ee)*Z]}return{type:"path",path:I,matrix:le}}function q(D){var I,le=1,de="#000000",ge='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof D=="string"?I=D:(I=D.text,le="scalar"in D?D.scalar:le,ge="fontFamily"in D?D.fontFamily:ge,de="color"in D?D.color:de);var ue=10*le,K=""+ue+"px "+ge,W=new OffscreenCanvas(ue,ue),ee=W.getContext("2d");ee.font=K;var ie=ee.measureText(I),oe=Math.ceil(ie.actualBoundingBoxRight+ie.actualBoundingBoxLeft),Q=Math.ceil(ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent),se=2,T=ie.actualBoundingBoxLeft+se,P=ie.actualBoundingBoxAscent+se;oe+=se+se,Q+=se+se,W=new OffscreenCanvas(oe,Q),ee=W.getContext("2d"),ee.font=K,ee.fillStyle=de,ee.fillText(I,T,P);var G=1/le;return{type:"bitmap",bitmap:W.transferToImageBitmap(),matrix:[G,0,0,G,-oe*G/2,-Q*G/2]}}n.exports=function(){return F().apply(this,arguments)},n.exports.reset=function(){F().reset()},n.exports.create=U,n.exports.shapeFromPath=$,n.exports.shapeFromText=q})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Jv,!1);const _H=Jv.exports;Jv.exports.create;/*!
 * strings: 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var vH=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function XT(e){var t=e.nodeType,n="";if(t===1||t===9||t===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=XT(e)}else if(t===3||t===4)return e.nodeValue;return n}/*!
 * SplitText: 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var il,x_,YT,Sc,ZT,Yp,xH=/(?:\r|\n|\t\t)/g,bH=/(?:\s\s+)/g,wH=" ",JT=function(t){il=document,x_=window,Sc=Sc||t||x_.gsap||console.warn("Please gsap.registerPlugin(SplitText)"),Sc&&(Yp=Sc.utils.toArray,ZT=Sc.core.context||function(){},YT=1)},KT=function(t){return x_.getComputedStyle(t)},Kv=function(t){return t.position==="absolute"||t.absolute===!0},MH=function(t,n){for(var i=n.length,r;--i>-1;)if(r=n[i],t.substr(0,r.length)===r)return r.length},SH=" style='position:relative;display:inline-block;'",jw=function(t,n){t===void 0&&(t="");var i=~t.indexOf("++"),r=1;return i&&(t=t.split("++").join("")),function(){return"<"+n+SH+(t?" class='"+t+(i?r++:"")+"'>":">")}},QT=function e(t,n,i){var r=t.nodeType;if(r===1||r===9||r===11)for(t=t.firstChild;t;t=t.nextSibling)e(t,n,i);else(r===3||r===4)&&(t.nodeValue=t.nodeValue.split(n).join(i))},pg=function(t,n){for(var i=n.length;--i>-1;)t.push(n[i])},qw=function(t,n,i){for(var r;t&&t!==n;){if(r=t._next||t.nextSibling,r)return r.textContent.charAt(0)===i;t=t.parentNode||t._parent}},EH=function e(t){var n=Yp(t.childNodes),i=n.length,r,s;for(r=0;r<i;r++)s=n[r],s._isSplit?e(s):r&&s.previousSibling&&s.previousSibling.nodeType===3?(s.previousSibling.nodeValue+=s.nodeType===3?s.nodeValue:s.firstChild.nodeValue,t.removeChild(s)):s.nodeType!==3&&(t.insertBefore(s.firstChild,s),t.removeChild(s))},dr=function(t,n){return parseFloat(n[t])||0},TH=function(t,n,i,r,s,o,a){var l=KT(t),c=dr("paddingLeft",l),u=-999,f=dr("borderBottomWidth",l)+dr("borderTopWidth",l),d=dr("borderLeftWidth",l)+dr("borderRightWidth",l),h=dr("paddingTop",l)+dr("paddingBottom",l),p=dr("paddingLeft",l)+dr("paddingRight",l),g=dr("fontSize",l)*(n.lineThreshold||.2),_=l.textAlign,m=[],y=[],x=[],v=n.wordDelimiter||" ",b=n.tag?n.tag:n.span?"span":"div",M=n.type||n.split||"chars,words,lines",S=s&&~M.indexOf("lines")?[]:null,A=~M.indexOf("words"),E=~M.indexOf("chars"),L=Kv(n),N=n.linesClass,R=~(N||"").indexOf("++"),H=[],U=l.display==="flex",z=t.style.display,F,V,$,q,D,I,le,de,ge,ue,K,W;for(R&&(N=N.split("++").join("")),U&&(t.style.display="block"),V=t.getElementsByTagName("*"),$=V.length,D=[],F=0;F<$;F++)D[F]=V[F];if(S||L)for(F=0;F<$;F++)q=D[F],I=q.parentNode===t,(I||L||E&&!A)&&(W=q.offsetTop,S&&I&&Math.abs(W-u)>g&&(q.nodeName!=="BR"||F===0)&&(le=[],S.push(le),u=W),L&&(q._x=q.offsetLeft,q._y=W,q._w=q.offsetWidth,q._h=q.offsetHeight),S&&((q._isSplit&&I||!E&&I||A&&I||!A&&q.parentNode.parentNode===t&&!q.parentNode._isSplit)&&(le.push(q),q._x-=c,qw(q,t,v)&&(q._wordEnd=!0)),q.nodeName==="BR"&&(q.nextSibling&&q.nextSibling.nodeName==="BR"||F===0)&&S.push([])));for(F=0;F<$;F++){if(q=D[F],I=q.parentNode===t,q.nodeName==="BR"){S||L?(q.parentNode&&q.parentNode.removeChild(q),D.splice(F--,1),$--):A||t.appendChild(q);continue}if(L&&(ge=q.style,!A&&!I&&(q._x+=q.parentNode._x,q._y+=q.parentNode._y),ge.left=q._x+"px",ge.top=q._y+"px",ge.position="absolute",ge.display="block",ge.width=q._w+1+"px",ge.height=q._h+"px"),!A&&E)if(q._isSplit)for(q._next=V=q.nextSibling,q.parentNode.appendChild(q);V&&V.nodeType===3&&V.textContent===" ";)q._next=V.nextSibling,q.parentNode.appendChild(V),V=V.nextSibling;else q.parentNode._isSplit?(q._parent=q.parentNode,!q.previousSibling&&q.firstChild&&(q.firstChild._isFirst=!0),q.nextSibling&&q.nextSibling.textContent===" "&&!q.nextSibling.nextSibling&&H.push(q.nextSibling),q._next=q.nextSibling&&q.nextSibling._isFirst?null:q.nextSibling,q.parentNode.removeChild(q),D.splice(F--,1),$--):I||(W=!q.nextSibling&&qw(q.parentNode,t,v),q.parentNode._parent&&q.parentNode._parent.appendChild(q),W&&q.parentNode.appendChild(il.createTextNode(" ")),b==="span"&&(q.style.display="inline"),m.push(q));else q.parentNode._isSplit&&!q._isSplit&&q.innerHTML!==""?y.push(q):E&&!q._isSplit&&(b==="span"&&(q.style.display="inline"),m.push(q))}for(F=H.length;--F>-1;)H[F].parentNode.removeChild(H[F]);if(S){for(L&&(ue=il.createElement(b),t.appendChild(ue),K=ue.offsetWidth+"px",W=ue.offsetParent===t?0:t.offsetLeft,t.removeChild(ue)),ge=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for(de=v===" "&&(!L||!A&&!E),F=0;F<S.length;F++){for(le=S[F],ue=il.createElement(b),ue.style.cssText="display:block;text-align:"+_+";position:"+(L?"absolute;":"relative;"),N&&(ue.className=N+(R?F+1:"")),x.push(ue),$=le.length,V=0;V<$;V++)le[V].nodeName!=="BR"&&(q=le[V],ue.appendChild(q),de&&q._wordEnd&&ue.appendChild(il.createTextNode(" ")),L&&(V===0&&(ue.style.top=q._y+"px",ue.style.left=c+W+"px"),q.style.top="0px",W&&(q.style.left=q._x-W+"px")));$===0?ue.innerHTML="&nbsp;":!A&&!E&&(EH(ue),QT(ue," "," ")),L&&(ue.style.width=K,ue.style.height=q._h+"px"),t.appendChild(ue)}t.style.cssText=ge}L&&(a>t.clientHeight&&(t.style.height=a-h+"px",t.clientHeight<a&&(t.style.height=a+f+"px")),o>t.clientWidth&&(t.style.width=o-p+"px",t.clientWidth<o&&(t.style.width=o+d+"px"))),U&&(z?t.style.display=z:t.style.removeProperty("display")),pg(i,m),A&&pg(r,y),pg(s,x)},DH=function(t,n,i,r){var s=n.tag?n.tag:n.span?"span":"div",o=n.type||n.split||"chars,words,lines",a=~o.indexOf("chars"),l=Kv(n),c=n.wordDelimiter||" ",u=function(L){return L===c||L===wH&&c===" "},f=c!==" "?"":l?"&#173; ":" ",d="</"+s+">",h=1,p=n.specialChars?typeof n.specialChars=="function"?n.specialChars:MH:null,g,_,m,y,x,v,b,M,S=il.createElement("div"),A=t.parentNode;for(A.insertBefore(S,t),S.textContent=t.nodeValue,A.removeChild(t),t=S,g=XT(t),b=g.indexOf("<")!==-1,n.reduceWhiteSpace!==!1&&(g=g.replace(bH," ").replace(xH,"")),b&&(g=g.split("<").join("{{LT}}")),x=g.length,_=(g.charAt(0)===" "?f:"")+i(),m=0;m<x;m++)if(v=g.charAt(m),p&&(M=p(g.substr(m),n.specialChars)))v=g.substr(m,M||1),_+=a&&v!==" "?r()+v+"</"+s+">":v,m+=M-1;else if(u(v)&&!u(g.charAt(m-1))&&m){for(_+=h?d:"",h=0;u(g.charAt(m+1));)_+=f,m++;m===x-1?_+=f:g.charAt(m+1)!==")"&&(_+=f+i(),h=1)}else v==="{"&&g.substr(m,6)==="{{LT}}"?(_+=a?r()+"{{LT}}</"+s+">":"{{LT}}",m+=5):v.charCodeAt(0)>=55296&&v.charCodeAt(0)<=56319||g.charCodeAt(m+1)>=65024&&g.charCodeAt(m+1)<=65039?(y=((g.substr(m,12).split(vH)||[])[1]||"").length||2,_+=a&&v!==" "?r()+g.substr(m,y)+"</"+s+">":g.substr(m,y),m+=y-1):_+=a&&v!==" "?r()+v+"</"+s+">":v;t.outerHTML=_+(h?d:""),b&&QT(A,"{{LT}}","<")},AH=function e(t,n,i,r){var s=Yp(t.childNodes),o=s.length,a=Kv(n),l,c;if(t.nodeType!==3||o>1){for(n.absolute=!1,l=0;l<o;l++)c=s[l],c._next=c._isFirst=c._parent=c._wordEnd=null,(c.nodeType!==3||/\S+/.test(c.nodeValue))&&(a&&c.nodeType!==3&&KT(c).display==="inline"&&(c.style.display="inline-block",c.style.position="relative"),c._isSplit=!0,e(c,n,i,r));n.absolute=a,t._isSplit=!0;return}DH(t,n,i,r)},Zp=function(){function e(n,i){YT||JT(),this.elements=Yp(n),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=i||{},ZT(this),this.split(i)}var t=e.prototype;return t.split=function(i){this.isSplit&&this.revert(),this.vars=i=i||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var r=this.elements.length,s=i.tag?i.tag:i.span?"span":"div",o=jw(i.wordsClass,s),a=jw(i.charsClass,s),l,c,u;--r>-1;)u=this.elements[r],this._originals[r]={html:u.innerHTML,style:u.getAttribute("style")},l=u.clientHeight,c=u.clientWidth,AH(u,i,o,a),TH(u,i,this.chars,this.words,this.lines,c,l);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function(){var i=this._originals;if(!i)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(r,s){r.innerHTML=i[s].html,r.setAttribute("style",i[s].style)}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},e.create=function(i,r){return new e(i,r)},e}();Zp.version="3.12.5";Zp.register=JT;var eD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CH(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tD={exports:{}},mg={exports:{}},$w;function PH(){return $w||($w=1,function(e){(function(t,n){e.exports?e.exports=n():t.EvEmitter=n()})(typeof window<"u"?window:eD,function(){function t(){}let n=t.prototype;return n.on=function(i,r){if(!i||!r)return this;let s=this._events=this._events||{},o=s[i]=s[i]||[];return o.includes(r)||o.push(r),this},n.once=function(i,r){if(!i||!r)return this;this.on(i,r);let s=this._onceEvents=this._onceEvents||{},o=s[i]=s[i]||{};return o[r]=!0,this},n.off=function(i,r){let s=this._events&&this._events[i];if(!s||!s.length)return this;let o=s.indexOf(r);return o!=-1&&s.splice(o,1),this},n.emitEvent=function(i,r){let s=this._events&&this._events[i];if(!s||!s.length)return this;s=s.slice(0),r=r||[];let o=this._onceEvents&&this._onceEvents[i];for(let a of s)o&&o[a]&&(this.off(i,a),delete o[a]),a.apply(this,r);return this},n.allOff=function(){return delete this._events,delete this._onceEvents,this},t})}(mg)),mg.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(e){(function(t,n){e.exports?e.exports=n(t,PH()):t.imagesLoaded=n(t,t.EvEmitter)})(typeof window<"u"?window:eD,function(n,i){let r=n.jQuery,s=n.console;function o(d){return Array.isArray(d)?d:typeof d=="object"&&typeof d.length=="number"?[...d]:[d]}function a(d,h,p){if(!(this instanceof a))return new a(d,h,p);let g=d;if(typeof d=="string"&&(g=document.querySelectorAll(d)),!g){s.error(`Bad element for imagesLoaded ${g||d}`);return}this.elements=o(g),this.options={},typeof h=="function"?p=h:Object.assign(this.options,h),p&&this.on("always",p),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(i.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(d){d.nodeName==="IMG"&&this.addImage(d),this.options.background===!0&&this.addElementBackgroundImages(d);let{nodeType:h}=d;if(!h||!l.includes(h))return;let p=d.querySelectorAll("img");for(let g of p)this.addImage(g);if(typeof this.options.background=="string"){let g=d.querySelectorAll(this.options.background);for(let _ of g)this.addElementBackgroundImages(_)}};const c=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(d){let h=getComputedStyle(d);if(!h)return;let p=c.exec(h.backgroundImage);for(;p!==null;){let g=p&&p[2];g&&this.addBackground(g,d),p=c.exec(h.backgroundImage)}},a.prototype.addImage=function(d){let h=new u(d);this.images.push(h)},a.prototype.addBackground=function(d,h){let p=new f(d,h);this.images.push(p)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let d=(h,p,g)=>{setTimeout(()=>{this.progress(h,p,g)})};this.images.forEach(function(h){h.once("progress",d),h.check()})},a.prototype.progress=function(d,h,p){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!d.isLoaded,this.emitEvent("progress",[this,d,h]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,d),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${p}`,d,h)},a.prototype.complete=function(){let d=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(d,[this]),this.emitEvent("always",[this]),this.jqDeferred){let h=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[h](this)}};function u(d){this.img=d}u.prototype=Object.create(i.prototype),u.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(d,h){this.isLoaded=d;let{parentNode:p}=this.img,g=p.nodeName==="PICTURE"?p:this.img;this.emitEvent("progress",[this,g,h])},u.prototype.handleEvent=function(d){let h="on"+d.type;this[h]&&this[h](d)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function f(d,h){this.url=d,this.element=h,this.img=new Image}return f.prototype=Object.create(u.prototype),f.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},f.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},f.prototype.confirm=function(d,h){this.isLoaded=d,this.emitEvent("progress",[this,this.element,h])},a.makeJQueryPlugin=function(d){d=d||n.jQuery,d&&(r=d,r.fn.imagesLoaded=function(h,p){return new a(this,h,p).jqDeferred.promise(r(this))})},a.makeJQueryPlugin(),a})})(tD);var LH=tD.exports;const RH=CH(LH);Pe.registerPlugin(Zp);document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-container");Pe.set(e,{opacity:0}),console.log("%c ","color: #22458D; font-size: 20px"),console.log("%c©2022 Fleava Digital.","color: #22458D; font-size: 25px"),console.log("%cAll rights reserved.","color: #22458D; font-size: 16px"),console.log("%c ","color: #22458D; font-size: 40px")});const{isMobile:Co,triggerResize:id}=pE;let Xw=!1;function OH(e){for(let t=0;t<e.length;t++){let n=e[t],i=n.querySelectorAll("[data-color]");for(let r=0;r<i.length;r++){let s=i[r];s.addEventListener("mouseenter",function(){let o=s.getAttribute("data-color"),a=s.getAttribute("data-bg");n.style.color=o,a&&(n.style.backgroundColor=a)}),s.addEventListener("mouseleave",function(){n.style.removeProperty?(n.style.removeProperty("color"),n.style.removeProperty("background-color")):(n.style.removeAttribute("color"),n.style.removeAttribute("background-color"))})}}}function IH(e){var t=e.querySelectorAll("li");t.forEach(function(s){s.addEventListener("click",function(){s.classList.contains("selected")?r(s):i(s),n(),setTimeout(function(){id()},600)})});function n(){t.forEach(function(s){s.classList.contains("active")||r(s)})}function i(s){var o=s.querySelector(".list-content"),a=s.querySelector(".more");Pe.set(o,{height:"auto"}),Pe.from(o,{height:0,ease:"expo.out",duration:.5}),s.classList.add("active","selected"),a.innerHTML="–",setTimeout(function(){s.classList.remove("active")},200)}function r(s){var o=s.querySelector(".list-content"),a=s.querySelector(".more");Pe.to(o,{height:0,ease:"expo.out",duration:.5}),s.classList.remove("selected"),a.innerHTML="+"}}function FH(e){var t=document.createElement("canvas");e.appendChild(t);var n=_H.create(t,{resize:!0,useWorker:!0});n({particleCount:200,spread:130,origin:{y:.8}})}const kH=e=>{Pe.utils.toArray(e).forEach(t=>{const n=document.createElement("span");n.classList.add("line"),t.parentNode.insertBefore(n,t),n.appendChild(t)})};function BH(){const e=document.querySelectorAll("[data-splitting]");Pe.utils.toArray(e).forEach(t=>{if(!t||t.querySelector(".line"))return;let i=new Zp(t,{type:"lines",tag:"span",linesClass:"line_inner"});kH(i.lines)})}function NH(e,t){RH(e,{background:!0}).on("progress",function(){t()})}function zH(){}function UH(e){let{run_webgl:t,run_smoothscroll:n,webp:i,menu__hover:r,customCursor:s,cursor:o,homeblob:a,footblob:l}=e;Xw||(Xw=!0,t=!0,e.set("run_webgl",t),gH());const c=document.querySelector(".load_overlay");c&&c.classList.add("hide"),BH();var u=document.getElementById("blob");if(u){var f={element:u,zoom:2,color:2434341};a=new Vw(f),e.set("homeblob",{cancel:a.cancel.bind(a)})}var d=document.getElementById("footerblob");if(d){var h={element:d,zoom:1.9,color:1710618};l=new Vw(h),e.set("footblob",{cancel:l.cancel.bind(l)})}Co()&&document.body.classList.add("touch"),n&&(_I(),setTimeout(function(){id()},500),NH(document.body,()=>{id()}));var p=document.getElementById("slideshow");p&&hH(p);var g=document.querySelector(".accordion");g&&IH(g),vI(),Co()||(r&&r.destroy(),e.set("menu__hover",new xI(document.body))),!Co()&&s&&(o&&o.cancel(),document.body.classList.add("custom_cursor"),e.set("cursor",new MI));var _=document.querySelectorAll(".bg__change");_.length>0&&!Co()&&OH(_);var m=document.querySelectorAll(".magnet");m.length>0&&!Co()&&SI(m);var y=document.getElementById("trails");y&&dH(y);var x=document.querySelectorAll(".carousel");x&&!Co()&&x.forEach((S,A)=>{var E={duration:500,dragSpeed:1.5,element:S};new wI(E)});var v=document.querySelector(".confetti");v&&setTimeout(function(){FH(v)},1200);const b=document.getElementById("copyrightYear");b&&(b.innerHTML=new Date().getFullYear());const M=document.querySelector(".motion_hover");if(M&&t&&!Co()){const S=M.querySelector(".motion_hover_container");M.classList.contains("motion_hover_works")?new Hw(M,S,{works:!0}):new Hw(M,S)}id(),window.scrollTo(0,0)}const HH=Vi(e=>({provide:{updateAllInit:UH,removeEventListeners:zH}})),GH=[r2,o2,vR,bR,wR,NR,zR,UR,ZR,JR,KR,HH],VH=ar({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const t=e.renderKey,n=e.route,i={};for(const r in e.route)Object.defineProperty(i,r,{get:()=>t===e.renderKey?e.route[r]:n[r]});return Ho(bf,yf(i)),()=>Hn(e.vnode,{ref:e.vnodeRef})}}),WH=ar({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:t,expose:n}){const i=xt(),r=ri(),s=pn(bf,null);let o;n({pageRef:r});const a=pn(HM,null);let l;const c=i.deferHydration();return e.pageKey&&Kr(()=>e.pageKey,(u,f)=>{u!==f&&i.callHook("page:loading:start")}),()=>Hn(rS,{name:e.name,route:e.route,...t},{default:u=>{const f=qH(s,u.route,u.Component),d=s&&s.matched.length===u.route.matched.length;if(!u.Component){if(l&&!d)return l;c();return}if(l&&a&&!a.isCurrent(u.route))return l;if(f&&s&&(!a||a!=null&&a.isCurrent(s)))return d?l:null;const h=$g(u,e.pageKey);!i.isHydrating&&!$H(s,u.route,u.Component)&&o===h&&i.callHook("page:loading:end"),o=h;const p=!!(e.transition??u.route.meta.pageTransition??Vg),g=p&&jH([e.transition,u.route.meta.pageTransition,Vg,{onAfterLeave:()=>{i.callHook("page:transition:finish",u.Component)}}].filter(Boolean)),_=e.keepalive??u.route.meta.keepalive??ZL;return l=sS(Ap,p&&g,fR(_,Hn(U_,{suspensible:!0,onPending:()=>i.callHook("page:start",u.Component),onResolve:()=>{us(()=>i.callHook("page:finish",u.Component).then(()=>i.callHook("page:loading:end")).finally(c))}},{default:()=>{const m=Hn(VH,{key:h||void 0,vnode:u.Component,route:u.route,renderKey:h||void 0,trackRootNodes:p,vnodeRef:r});return _&&(m.type.name=u.Component.type.name||u.Component.type.__name||"RouteProvider"),m}}))).default(),l}})}});function jH(e){const t=e.map(n=>({...n,onAfterLeave:n.onAfterLeave?lv(n.onAfterLeave):void 0}));return zM(...t)}function qH(e,t,n){if(!e)return!1;const i=t.matched.findIndex(r=>{var s;return((s=r.components)==null?void 0:s.default)===(n==null?void 0:n.type)});return!i||i===-1?!1:t.matched.slice(0,i).some((r,s)=>{var o,a,l;return((o=r.components)==null?void 0:o.default)!==((l=(a=e.matched[s])==null?void 0:a.components)==null?void 0:l.default)})||n&&$g({route:t,Component:n})!==$g({route:e,Component:n})}function $H(e,t,n){return e?t.matched.findIndex(r=>{var s;return((s=r.components)==null?void 0:s.default)===(n==null?void 0:n.type)})<t.matched.length-1:!1}const XH=ar({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(e,t){const n=await Ns[e.name]().then(i=>i.default||i);return()=>Hn(n,e.layoutProps,t.slots)}}),nD=ar({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(e,t){const n=xt(),i=pn(bf),r=i===rv()?cR():i,s=fn(()=>{let l=ut(e.name)??r.meta.layout??"default";return l&&!(l in Ns)&&e.fallback&&(l=ut(e.fallback)),l}),o=ri();t.expose({layoutRef:o});const a=n.deferHydration();return()=>{const l=s.value&&s.value in Ns,c=r.meta.layoutTransition??YL;return sS(Ap,l&&c,{default:()=>Hn(U_,{suspensible:!0,onResolve:()=>{us(a)}},{default:()=>Hn(YH,{layoutProps:iM(t.attrs,{ref:o}),key:s.value||void 0,name:s.value,shouldProvide:!e.name,hasTransition:!!c},t.slots)})}).default()}}}),YH=ar({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(e,t){const n=e.name;return e.shouldProvide&&Ho(HM,{isCurrent:i=>n===(i.meta.layout??"default")}),()=>{var i,r;return!n||typeof n=="string"&&!(n in Ns)?(r=(i=t.slots).default)==null?void 0:r.call(i):Hn(XH,{key:n,layoutProps:e.layoutProps,name:n},t.slots)}}}),ZH=e=>{const t=Object.create(null);for(const n in e){const i=e[n];i!==void 0&&(t[n]=i)}return t},iD=(e,t)=>(n,i)=>(nv(()=>e({...ZH(n),...i.attrs},i)),()=>{var r,s;return t?(s=(r=i.slots).default)==null?void 0:s.call(r):null}),rD={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},JH=ar({name:"Html",inheritAttrs:!1,props:{...rD,manifest:String,version:String,xmlns:String,renderPriority:[String,Number]},setup:iD(e=>({htmlAttrs:e}),!0)}),KH=ar({name:"Body",inheritAttrs:!1,props:{...rD,renderPriority:[String,Number]},setup:iD(e=>({bodyAttrs:e}),!0)}),za={description:"We are a Digital Agency based in Singapore, Bali and Jakarta, offering Website Design & Development, Mobile App Development, Corporate Branding",ogImage:"https://fleava.com/assets/img/general/og/fleava.jpg",ogType:"website",ogTitle:"Fleava | Digital Agency"},QH={title:"Fleava | Bali, Jakarta & Singapore’s leading Creative Digital Marketing Agency",description:za.description,ogImage:za.ogImage,ogType:za.ogType,ogTitle:za.ogType,robots:"noodp",ogLocale:"en_US",ogUrl:"https://fleava.com",articlePublisher:"https://www.facebook.com/pages/Fleava/148436078550862",twitterCard:"summary_large_image",twitterDescription:za.description,twitterTitle:za.ogTitle,twitterSite:"@fleava",twitterCreator:"@fleava"},eG="Fleava - Bali, Jakarta & Singapore Digital Agency",tG="Work by Fleava",e4={__name:"app",setup(e){return FM({...QH}),(t,n)=>{const i=WH,r=nD,s=KH,o=JH;return Jn(),$r(o,{lang:"en"},{default:Gt(()=>[tt(s,null,{default:Gt(()=>[tt(r,null,{default:Gt(()=>[tt(i)]),_:1})]),_:1})]),_:1})}}},t4=e4,n4="17",i4="06",r4="33",s4="59",o4="04",a4="141",l4={class:"color_creme","data-scroll-section":""},c4=Te("div",{class:"footer__background","data-scroll":"","data-scroll-repeat":"","data-scroll-speed":"-6","data-scroll-offset":"0"},[Te("div",{id:"footerblob",class:"blob"},[Te("canvas")])],-1),u4={class:"footer_content","data-scroll":"","data-scroll-speed":"-4"},f4=Te("div",{id:"inner_footer"},[Te("a",{id:"",href:"mailto:hello@fleava.com",class:"main_link menu_fade"}," Let's Talk. ")],-1),h4={class:"address menu_fade"},d4={class:"text"},p4={class:"textrow"},m4={class:"textcol"},g4=Te("address",null,[Te("p",null,[Te("small",null,[Te("strong",null,"FLEAVA PTE. LTD."),Te("br"),ht("160 Robinson Road, #14-04 "),Te("br"),ht("Singapore Business Federation "),Te("br"),ht("Centre - 068914, Singapore")])])],-1),y4={class:"textcol"},_4=Te("address",null,[Te("p",null,[Te("small",null,[Te("strong",null,"PT FLEAVA DIGITAL MEDIA"),Te("br"),ht("Jalan Merta Agung, No.25, "),Te("br"),ht("Kerobokan Kelod, Badung, "),Te("br"),ht("Bali - 80361, Indonesia")])])],-1),v4={class:"textcol mob_half"},x4={class:"textcol mob_half"},b4=Te("a",{href:"https://transform.fleava.com",target:"_blank",rel:"noopener noreferrer",title:"Transform with Fleava",class:""},"Transform   →",-1),w4={class:"textcol mob_half social"},M4=qA('<a class="" href="https://www.facebook.com/fleava/" target="_blank" rel="noopener noreferrer" title="Fleava on Facebook">Fb  </a><a class="" href="https://www.instagram.com/fleava/" target="_blank" rel="noopener noreferrer" title="Fleava on Instagram">Ig  </a><a class="" href="https://twitter.com/fleava" target="_blank" rel="noopener noreferrer" title="Fleava on Twitter">Tw  </a><a class="" href="https://www.linkedin.com/company/fleava/" target="_blank" rel="noopener noreferrer" title="Fleava on LinkedIn">In  </a><a class="" href="https://www.behance.net/fleava" target="_blank" rel="noopener noreferrer" title="Fleava on Behance">Bē  </a><br>',6),S4=Te("span",{id:"copyrightYear"},"2020 ",-1),E4=Te("a",{href:"https://fleava.com",title:"Fleava — Singapore, Bali, Jakarta Digital Agency"}," Fleava. ",-1),T4=Te("br",null,null,-1),D4=Te("br",null,null,-1),A4={__name:"Footer",setup(e){return(t,n)=>{const i=FR;return Jn(),hd("footer",l4,[c4,Te("div",u4,[f4,Te("nav",h4,[Te("div",d4,[Te("div",p4,[Te("div",m4,[Te("h5",null,[tt(i,{to:"/sg",class:"",title:"Fleava — Singapore Digital Agency"},{default:Gt(()=>[ht("Singapore")]),_:1})]),g4]),Te("div",y4,[Te("h5",null,[tt(i,{to:"/id",class:"",title:"Fleava — Bali Digital Agency"},{default:Gt(()=>[ht("Bali, Indonesia")]),_:1})]),_4]),Te("div",v4,[Te("h5",null,[tt(i,{to:"/",title:"Home",class:"inner_link"},{default:Gt(()=>[ht("Home")]),_:1}),tt(i,{to:"/works",title:"Works",class:"inner_link"},{default:Gt(()=>[ht("Works "),Te("sup",null,Ls(ut(n4)),1)]),_:1}),tt(i,{to:"/expertise",title:"Expertise",class:"inner_link"},{default:Gt(()=>[ht("Expertise "),Te("sup",null,Ls(ut(i4)),1)]),_:1}),tt(i,{to:"/about",title:"About",class:"inner_link"},{default:Gt(()=>[ht("About")]),_:1}),tt(i,{to:"/journal",title:"Journal",class:"inner_link"},{default:Gt(()=>[ht("Journal "),Te("sup",null,Ls(ut(r4)),1)]),_:1})])]),Te("div",x4,[Te("h5",null,[tt(i,{to:"/awards",title:"Awards",class:"inner_link"},{default:Gt(()=>[ht("Awards "),Te("sup",null,Ls(ut(s4)),1)]),_:1}),tt(i,{to:"/brands",title:"Brands",class:"inner_link"},{default:Gt(()=>[ht("Brands "),Te("sup",null,Ls(ut(a4)),1)]),_:1}),tt(i,{to:"/careers",title:"Careers",class:"inner_link"},{default:Gt(()=>[ht("Careers "),Te("sup",null,Ls(ut(o4)),1)]),_:1}),tt(i,{to:"/inquiry",title:"Inquire",class:"inner_link"},{default:Gt(()=>[ht("Inquiries")]),_:1}),b4])]),Te("div",w4,[M4,ht(" © "),S4,E4,T4,D4,tt(i,{class:"",href:"/terms"},{default:Gt(()=>[ht("Terms. ")]),_:1}),ht("   "),tt(i,{class:"",href:"/sitemap"},{default:Gt(()=>[ht("Sitemap.")]),_:1})])])])])])])}}},C4=A4,P4={"data-scroll-container":""},L4={id:"main"},R4={__name:"BaseLayout",setup(e){nv({bodyAttrs:{class:"is-loading"}});const t=Fp(),{$updateAllInit:n,$removeEventListeners:i}=xt();return vf(()=>{us(()=>{const r=document.querySelector(".main-container");Pe.set(r,{opacity:1}),document.body.classList.remove("is-loading"),n(t)})}),j_(()=>{i()}),(r,s)=>{const o=C4;return Jn(),hd("div",P4,[Te("main",L4,[d0(r.$slots,"default")]),d0(r.$slots,"footer",{},()=>[tt(o)])])}}},O4=R4,I4={key:0,class:"header_animate","data-scroll-section":""},F4=Te("section",{class:"section section__header color_creme large-pb"},[Te("div",{class:"q-container container-inner"},[Te("div",{class:"columns menu_fade short_container"},[Te("div",{class:"column q-2-3"},[Te("h1",{class:"lead no-mb no-mt reveal_short"},"404"),Te("h3",{class:"full no-mb reveal_short"},[ht(" The page you were looking for cannot be found."),Te("br"),Te("br")])]),Te("div",{class:"column q-1-3 flex_end flex_right"},[Te("a",{href:"/",class:"magnet reveal_short"},[ht(" Back to Home "),Te("span",{class:"magnet_circle"},[Te("span",{class:"magnet_arrow"},"→")])])])])])],-1),k4=[F4],B4={key:1,class:"header_animate","data-scroll-section":""},N4={class:"section section__header color_creme large-pb"},z4={class:"q-container container-inner"},U4={class:"columns menu_fade short_container"},H4={class:"column q-2-3"},G4={class:"lead no-mb no-mt reveal_short"},V4={class:"full no-mb reveal_short"},W4=Te("br",null,null,-1),j4=Te("br",null,null,-1),q4=Te("div",{class:"column q-1-3 flex_end flex_right"},[Te("a",{href:"/",class:"magnet reveal_short"},[ht(" Back to Home "),Te("span",{class:"magnet_circle"},[Te("span",{class:"magnet_arrow"},"→")])])],-1),$4=ar({__name:"error",props:{error:Object},setup(e){var n,i,r,s;const t=e;return FM({title:((n=t==null?void 0:t.error)==null?void 0:n.statusCode)===404?"Oops! Page Not Found | Fleava Digital Agency":`${(i=t==null?void 0:t.error)==null?void 0:i.statusCode} | Fleava Digital Agency`,description:((r=t==null?void 0:t.error)==null?void 0:r.statusCode)===404?"Page Not Found | Fleava | Bali, Jakarta and Singapore Digital Agency":`${(s=t==null?void 0:t.error)==null?void 0:s.description} | Fleava | Bali, Jakarta and Singapore Digital Agency`}),(o,a)=>{const l=O4,c=nD;return Jn(),$r(c,null,{default:Gt(()=>[tt(l,null,{default:Gt(()=>{var u,f,d;return[((u=t==null?void 0:t.error)==null?void 0:u.statusCode)===404?(Jn(),hd("div",I4,k4)):(Jn(),hd("div",B4,[Te("section",N4,[Te("div",z4,[Te("div",U4,[Te("div",H4,[Te("h1",G4,Ls((f=t.error)==null?void 0:f.statusCode),1),Te("h3",V4,[ht(Ls((d=t==null?void 0:t.error)==null?void 0:d.message),1),W4,j4])]),q4])])])]))]}),_:1})]),_:1})}}}),X4={__name:"nuxt-root",setup(e){const t=()=>null,n=xt(),i=n.deferHydration(),r=!1;Ho(bf,rv()),n.hooks.callHookWith(a=>a.map(l=>l()),"vue:setup");const s=Rp();H1((a,l,c)=>{if(n.hooks.callHook("vue:error",a,l,c).catch(u=>console.error("[nuxt] Error in `vue:error` hook",u)),VL(a)&&(a.fatal||a.unhandled))return n.runWithContext(()=>qa(a)),!1});const o=!1;return(a,l)=>(Jn(),$r(U_,{onResolve:ut(i)},{default:Gt(()=>[ut(s)?(Jn(),$r(ut($4),{key:0,error:ut(s)},null,8,["error"])):ut(o)?(Jn(),$r(ut(t),{key:1,context:ut(o)},null,8,["context"])):ut(r)?(Jn(),$r(iA(ut(r)),{key:2})):(Jn(),$r(ut(t4),{key:3}))]),_:1},8,["onResolve"]))}},Yw=X4;let Zw;{let e;Zw=async function(){var o,a;if(e)return e;const i=!!((o=window.__NUXT__)!=null&&o.serverRendered||((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?CC(Yw):AC(Yw),r=IP({vueApp:i});async function s(l){await r.callHook("app:error",l),r.payload.error=r.payload.error||l}i.config.errorHandler=s;try{await kP(r,GH)}catch(l){s(l)}try{await r.hooks.callHook("app:created",i),await r.hooks.callHook("app:beforeMount",i),i.mount(KL),await r.hooks.callHook("app:mounted",i),await us()}catch(l){s(l)}return i.config.errorHandler===s&&(i.config.errorHandler=void 0),i},e=Zw().catch(t=>{throw console.error("Error while mounting app:",t),t})}export{s4 as $,rv as A,iv as B,J4 as C,hs as D,Q4 as E,Zn as F,mu as G,qD as H,vA as I,j_ as J,xt as K,tG as L,QH as M,ar as N,Hn as O,ga as P,B0 as Q,Ql as R,xf as S,zM as T,K4 as U,NC as V,Lp as W,n4 as X,i4 as Y,r4 as Z,O4 as _,Te as a,a4 as a0,o4 as a1,T_ as a2,Pe as a3,Ye as a4,D_ as a5,Fp as a6,us as a7,yA as a8,d0 as a9,ht as b,$r as c,tt as d,ut as e,FR as f,hd as g,qA as h,Z4 as i,nv as j,vf as k,fn as l,ma as m,pn as n,Jn as o,ri as p,I1 as q,Y4 as r,eG as s,Ls as t,FM as u,Kr as v,Gt as w,Kl as x,W_ as y,V_ as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./about.KqAGJnhw.js","./nuxt-picture.hrqY-VaU.js","./_base.ollbu0VK.js","./AllSlides.3y1GrFPi.js","./_plugin-vue_export-helper.x3n3nnut.js","./Clients.qnxxKuK4.js","./nuxt-img.lfKl7-F6.js","./ornament.dSGD_84H.js","./awards.Las05dWw.js","./trophy.GESerdaB.js","./brands.lXHPaJ6_.js","./careers.iX1mAABP.js","./example.R-eZL3_L.js","./Footer_Simple.3LwLCkyO.js","./composable.oXnfag-c.js","./branding.Jt0Ta_78.js","./development.Jk-VuQCd.js","./digital-marketing.Uu-bE1eM.js","./digital-strategy.qN0Z6Vi7.js","./index.7XVugm57.js","./production.enOjn_F6.js","./ux.pnt9KH9F.js","./id.swb0oO_Z.js","./index.0FkfWeOH.js","./asyncData.98gxCRAh.js","./index.KTAxs79Q.js","./_journal_.q1XWNRiX.js","./index.HwC1R9ZX.js","./sg.MrVRTDeb.js","./108-media._f9DnD8U.js","./WorksBanner.DXahXe25.js","./WorksBgParallax.TwLY5dnc.js","./WorksMarquee.k67RXCL-.js","./WorksMarquee.gfisNTyt.css","./WorksNext.2NJ2E3Jm.js","./works.uuNcEAIH.js","./apprentice-search.ZtqWKejw.js","./arc.ah-eaKh6.js","./bodyshop.NmRdW26o.js","./capsll.0-xCXqAl.js","./clorova.xNsAFJnN.js","./fine-dine-club-new.wS31uuKu.js","./fine-dine-club.WlraLFjv.js","./honzen-sumizen.LxnyIG-E.js","./index.Ab9wwB_C.js","./index.rEPYyCEt.css","./jannata.aI7qzh7I.js","./karma.rhC14ghM.js","./kevala.6AP5487j.js","./lustica.O7B5GXzC.js","./macra.JkilU58A.js","./prodotti.nrZ52bYo.js","./raia.BuOvsHhD.js","./relationshift.4_jpM467.js","./samsara.V42iYuLk.js","./vold.GtEpqflK.js","./default.gD9r4n72.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
